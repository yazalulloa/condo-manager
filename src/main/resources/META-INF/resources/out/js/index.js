var ci=Object.create;var{defineProperty:Rn,getPrototypeOf:fi,getOwnPropertyNames:mi}=Object;var pi=Object.prototype.hasOwnProperty;var hi=(e,t,i)=>{i=e!=null?ci(fi(e)):{};const o=t||!e||!e.__esModule?Rn(i,"default",{value:e,enumerable:!0}):i;for(let f of mi(e))if(!pi.call(o,f))Rn(o,f,{get:()=>e[f],enumerable:!0});return o};var vi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var oi=vi((Nn,ai)=>{(function(e,t){const i=t(e);if(typeof Nn==="object"&&typeof Nn.nodeName!=="string")ai.exports=i;else if(e._hyperscript=i,"document"in e)e._hyperscript.browserInit()})(typeof self!=="undefined"?self:Nn,(e)=>{const t={dynamicResolvers:[function(r,l){if(r==="Fixed")return Number(l).toFixed();else if(r.indexOf("Fixed:")===0){let d=r.split(":")[1];return Number(l).toFixed(parseInt(d))}}],String:function(r){if(r.toString)return r.toString();else return""+r},Int:function(r){return parseInt(r)},Float:function(r){return parseFloat(r)},Number:function(r){return Number(r)},Date:function(r){return new Date(r)},Array:function(r){return Array.from(r)},JSON:function(r){return JSON.stringify(r)},Object:function(r){if(r instanceof String)r=r.toString();if(typeof r==="string")return JSON.parse(r);else return Object.assign({},r)}},i={attributes:"_, script, data-script",defaultTransition:"all 500ms ease-in",disableSelector:"[disable-scripting], [data-disable-scripting]",hideShowStrategies:{},conversions:t};class o{static OP_TABLE={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE",".":"PERIOD","..":"ELLIPSIS","\\":"BACKSLASH",":":"COLON","%":"PERCENT","|":"PIPE","!":"EXCLAMATION","?":"QUESTION","#":"POUND","&":"AMPERSAND",$:"DOLLAR",";":"SEMI",",":"COMMA","(":"L_PAREN",")":"R_PAREN","<":"L_ANG",">":"R_ANG","<=":"LTE_ANG",">=":"GTE_ANG","==":"EQ","===":"EQQ","!=":"NEQ","!==":"NEQQ","{":"L_BRACE","}":"R_BRACE","[":"L_BRACKET","]":"R_BRACKET","=":"EQUALS"};static isValidCSSClassChar(r){return o.isAlpha(r)||o.isNumeric(r)||r==="-"||r==="_"||r===":"}static isValidCSSIDChar(r){return o.isAlpha(r)||o.isNumeric(r)||r==="-"||r==="_"||r===":"}static isWhitespace(r){return r===" "||r==="\t"||o.isNewline(r)}static positionString(r){return"[Line: "+r.line+", Column: "+r.column+"]"}static isNewline(r){return r==="\r"||r==="\n"}static isNumeric(r){return r>="0"&&r<="9"}static isAlpha(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"}static isIdentifierChar(r,l){return r==="_"||r==="$"}static isReservedChar(r){return r==="`"||r==="^"}static isValidSingleQuoteStringStart(r){if(r.length>0){var l=r[r.length-1];if(l.type==="IDENTIFIER"||l.type==="CLASS_REF"||l.type==="ID_REF")return!1;if(l.op&&(l.value===">"||l.value===")"))return!1}return!0}static tokenize(r,l){var d=[],y=r,w=0,F=0,q=1,g="<START>",E=0;function I(){return l&&E===0}while(w<y.length)if(s()==="-"&&m()==="-"&&(o.isWhitespace(T(2))||T(2)===""||T(2)==="-")||s()==="/"&&m()==="/"&&(o.isWhitespace(T(2))||T(2)===""||T(2)==="/"))M();else if(s()==="/"&&m()==="*"&&(o.isWhitespace(T(2))||T(2)===""||T(2)==="*"))P();else if(o.isWhitespace(s()))d.push(C());else if(!x()&&s()==="."&&(o.isAlpha(m())||m()==="{"||m()==="-"))d.push(D());else if(!x()&&s()==="#"&&(o.isAlpha(m())||m()==="{"))d.push(j());else if(s()==="["&&m()==="@")d.push(_());else if(s()==="@")d.push(U());else if(s()==="*"&&o.isAlpha(m()))d.push(z());else if(o.isAlpha(s())||!I()&&o.isIdentifierChar(s()))d.push(u());else if(o.isNumeric(s()))d.push(c());else if(!I()&&(s()==='"'||s()==="`"))d.push(a());else if(!I()&&s()==="'")if(o.isValidSingleQuoteStringStart(d))d.push(a());else d.push(n());else if(o.OP_TABLE[s()]){if(g==="$"&&s()==="{")E++;if(s()==="}")E--;d.push(n())}else if(I()||o.isReservedChar(s()))d.push(O("RESERVED",v()));else if(w<y.length)throw Error("Unknown token: "+s()+" ");return new f(d,[],y);function R(S,A){var L=O(S,A);return L.op=!0,L}function O(S,A){return{type:S,value:A||"",start:w,end:w+1,column:F,line:q}}function M(){while(s()&&!o.isNewline(s()))v();v()}function P(){while(s()&&!(s()==="*"&&m()==="/"))v();v(),v()}function D(){var S=O("CLASS_REF"),A=v();if(s()==="{"){S.template=!0,A+=v();while(s()&&s()!=="}")A+=v();if(s()!=="}")throw Error("Unterminated class reference");else A+=v()}else while(o.isValidCSSClassChar(s()))A+=v();return S.value=A,S.end=w,S}function _(){var S=O("ATTRIBUTE_REF"),A=v();while(w<y.length&&s()!=="]")A+=v();if(s()==="]")A+=v();return S.value=A,S.end=w,S}function U(){var S=O("ATTRIBUTE_REF"),A=v();while(o.isValidCSSIDChar(s()))A+=v();if(s()==="="){if(A+=v(),s()==='"'||s()==="'"){let L=a();A+=L.value}else if(o.isAlpha(s())||o.isNumeric(s())||o.isIdentifierChar(s())){let L=u();A+=L.value}}return S.value=A,S.end=w,S}function z(){var S=O("STYLE_REF"),A=v();while(o.isAlpha(s())||s()==="-")A+=v();return S.value=A,S.end=w,S}function j(){var S=O("ID_REF"),A=v();if(s()==="{"){S.template=!0,A+=v();while(s()&&s()!=="}")A+=v();if(s()!=="}")throw Error("Unterminated id reference");else v()}else while(o.isValidCSSIDChar(s()))A+=v();return S.value=A,S.end=w,S}function u(){var S=O("IDENTIFIER"),A=v();while(o.isAlpha(s())||o.isNumeric(s())||o.isIdentifierChar(s()))A+=v();if(s()==="!"&&A==="beep")A+=v();return S.value=A,S.end=w,S}function c(){var S=O("NUMBER"),A=v();while(o.isNumeric(s()))A+=v();if(s()==="."&&o.isNumeric(m()))A+=v();while(o.isNumeric(s()))A+=v();if(s()==="e"||s()==="E"){if(o.isNumeric(m()))A+=v();else if(m()==="-")A+=v(),A+=v()}while(o.isNumeric(s()))A+=v();return S.value=A,S.end=w,S}function n(){var S=R(),A=v();while(s()&&o.OP_TABLE[A+s()])A+=v();return S.type=o.OP_TABLE[A],S.value=A,S.end=w,S}function a(){var S=O("STRING"),A=v(),L="";while(s()&&s()!==A)if(s()==="\\"){v();let H=v();if(H==="b")L+="\b";else if(H==="f")L+="\f";else if(H==="n")L+="\n";else if(H==="r")L+="\r";else if(H==="t")L+="\t";else if(H==="v")L+="\v";else if(H==="x"){const Y=p();if(Number.isNaN(Y))throw Error("Invalid hexadecimal escape at "+o.positionString(S));L+=String.fromCharCode(Y)}else L+=H}else L+=v();if(s()!==A)throw Error("Unterminated string at "+o.positionString(S));else v();return S.value=L,S.end=w,S.template=A==="`",S}function p(){if(!s())return NaN;let A=16*Number.parseInt(v(),16);if(!s())return NaN;return A+=Number.parseInt(v(),16),A}function s(){return y.charAt(w)}function m(){return y.charAt(w+1)}function T(S=1){return y.charAt(w+S)}function v(){return g=s(),w++,F++,g}function x(){return o.isAlpha(g)||o.isNumeric(g)||g===")"||g==='"'||g==="'"||g==="`"||g==="}"||g==="]"}function C(){var S=O("WHITESPACE"),A="";while(s()&&o.isWhitespace(s())){if(o.isNewline(s()))F=0,q++;A+=v()}return S.value=A,S.end=w,S}}tokenize(r,l){return o.tokenize(r,l)}}class f{constructor(r,l,d){this.tokens=r,this.consumed=l,this.source=d,this.consumeWhitespace()}get list(){return this.tokens}_lastConsumed=null;consumeWhitespace(){while(this.token(0,!0).type==="WHITESPACE")this.consumed.push(this.tokens.shift())}raiseError(r,l){h.raiseParseError(r,l)}requireOpToken(r){var l=this.matchOpToken(r);if(l)return l;else this.raiseError(this,"Expected '"+r+"' but found '"+this.currentToken().value+"'")}matchAnyOpToken(r,l,d){for(var y=0;y<arguments.length;y++){var w=arguments[y],F=this.matchOpToken(w);if(F)return F}}matchAnyToken(r,l,d){for(var y=0;y<arguments.length;y++){var w=arguments[y],F=this.matchToken(w);if(F)return F}}matchOpToken(r){if(this.currentToken()&&this.currentToken().op&&this.currentToken().value===r)return this.consumeToken()}requireTokenType(r,l,d,y){var w=this.matchTokenType(r,l,d,y);if(w)return w;else this.raiseError(this,"Expected one of "+JSON.stringify([r,l,d]))}matchTokenType(r,l,d,y){if(this.currentToken()&&this.currentToken().type&&[r,l,d,y].indexOf(this.currentToken().type)>=0)return this.consumeToken()}requireToken(r,l){var d=this.matchToken(r,l);if(d)return d;else this.raiseError(this,"Expected '"+r+"' but found '"+this.currentToken().value+"'")}peekToken(r,l,d){if(l=l||0,d=d||"IDENTIFIER",this.tokens[l]&&this.tokens[l].value===r&&this.tokens[l].type===d)return this.tokens[l]}matchToken(r,l){if(this.follows.indexOf(r)!==-1)return;if(l=l||"IDENTIFIER",this.currentToken()&&this.currentToken().value===r&&this.currentToken().type===l)return this.consumeToken()}consumeToken(){var r=this.tokens.shift();return this.consumed.push(r),this._lastConsumed=r,this.consumeWhitespace(),r}consumeUntil(r,l){var d=[],y=this.token(0,!0);while((l==null||y.type!==l)&&(r==null||y.value!==r)&&y.type!=="EOF"){var w=this.tokens.shift();this.consumed.push(w),d.push(y),y=this.token(0,!0)}return this.consumeWhitespace(),d}lastWhitespace(){if(this.consumed[this.consumed.length-1]&&this.consumed[this.consumed.length-1].type==="WHITESPACE")return this.consumed[this.consumed.length-1].value;else return""}consumeUntilWhitespace(){return this.consumeUntil(null,"WHITESPACE")}hasMore(){return this.tokens.length>0}token(r,l){var d,y=0;do{if(!l)while(this.tokens[y]&&this.tokens[y].type==="WHITESPACE")y++;d=this.tokens[y],r--,y++}while(r>-1);if(d)return d;else return{type:"EOF",value:"<<<EOF>>>"}}currentToken(){return this.token(0)}lastMatch(){return this._lastConsumed}static sourceFor=function(){return this.programSource.substring(this.startToken.start,this.endToken.end)};static lineFor=function(){return this.programSource.split("\n")[this.startToken.line-1]};follows=[];pushFollow(r){this.follows.push(r)}popFollow(){this.follows.pop()}clearFollows(){var r=this.follows;return this.follows=[],r}restoreFollows(r){this.follows=r}}class h{constructor(r){this.runtime=r,this.possessivesDisabled=!1,this.addGrammarElement("feature",function(l,d,y){if(y.matchOpToken("(")){var w=l.requireElement("feature",y);return y.requireOpToken(")"),w}var F=l.FEATURES[y.currentToken().value||""];if(F)return F(l,d,y)}),this.addGrammarElement("command",function(l,d,y){if(y.matchOpToken("(")){const q=l.requireElement("command",y);return y.requireOpToken(")"),q}var w=l.COMMANDS[y.currentToken().value||""];let F;if(w)F=w(l,d,y);else if(y.currentToken().type==="IDENTIFIER")F=l.parseElement("pseudoCommand",y);if(F)return l.parseElement("indirectStatement",y,F);return F}),this.addGrammarElement("commandList",function(l,d,y){if(y.hasMore()){var w=l.parseElement("command",y);if(w){y.matchToken("then");const F=l.parseElement("commandList",y);if(F)w.next=F;return w}}return{type:"emptyCommandListCommand",op:function(F){return d.findNext(this,F)},execute:function(F){return d.unifiedExec(this,F)}}}),this.addGrammarElement("leaf",function(l,d,y){var w=l.parseAnyOf(l.LEAF_EXPRESSIONS,y);if(w==null)return l.parseElement("symbol",y);return w}),this.addGrammarElement("indirectExpression",function(l,d,y,w){for(var F=0;F<l.INDIRECT_EXPRESSIONS.length;F++){var q=l.INDIRECT_EXPRESSIONS[F];w.endToken=y.lastMatch();var g=l.parseElement(q,y,w);if(g)return g}return w}),this.addGrammarElement("indirectStatement",function(l,d,y,w){if(y.matchToken("unless")){w.endToken=y.lastMatch();var F=l.requireElement("expression",y),q={type:"unlessStatementModifier",args:[F],op:function(g,E){if(E)return this.next;else return w},execute:function(g){return d.unifiedExec(this,g)}};return w.parent=q,q}return w}),this.addGrammarElement("primaryExpression",function(l,d,y){var w=l.parseElement("leaf",y);if(w)return l.parseElement("indirectExpression",y,w);l.raiseParseError(y,"Unexpected value: "+y.currentToken().value)})}use(r){return r(this),this}GRAMMAR={};COMMANDS={};FEATURES={};LEAF_EXPRESSIONS=[];INDIRECT_EXPRESSIONS=[];initElt(r,l,d){r.startToken=l,r.sourceFor=f.sourceFor,r.lineFor=f.lineFor,r.programSource=d.source}parseElement(r,l,d=void 0){var y=this.GRAMMAR[r];if(y){var w=l.currentToken(),F=y(this,this.runtime,l,d);if(F){this.initElt(F,w,l),F.endToken=F.endToken||l.lastMatch();var d=F.root;while(d!=null)this.initElt(d,w,l),d=d.root}return F}}requireElement(r,l,d,y){var w=this.parseElement(r,l,y);if(!w)h.raiseParseError(l,d||"Expected "+r);return w}parseAnyOf(r,l){for(var d=0;d<r.length;d++){var y=r[d],w=this.parseElement(y,l);if(w)return w}}addGrammarElement(r,l){this.GRAMMAR[r]=l}addCommand(r,l){var d=r+"Command",y=function(w,F,q){const g=l(w,F,q);if(g)return g.type=d,g.execute=function(E){return E.meta.command=g,F.unifiedExec(this,E)},g};this.GRAMMAR[d]=y,this.COMMANDS[r]=y}addFeature(r,l){var d=r+"Feature",y=function(w,F,q){var g=l(w,F,q);if(g)return g.isFeature=!0,g.keyword=r,g.type=d,g};this.GRAMMAR[d]=y,this.FEATURES[r]=y}addLeafExpression(r,l){this.LEAF_EXPRESSIONS.push(r),this.addGrammarElement(r,l)}addIndirectExpression(r,l){this.INDIRECT_EXPRESSIONS.push(r),this.addGrammarElement(r,l)}static createParserContext(r){var l=r.currentToken(),d=r.source,y=d.split("\n"),w=l&&l.line?l.line-1:y.length-1,F=y[w],q=l&&l.line?l.column:F.length-1;return F+"\n"+" ".repeat(q)+"^^\n\n"}static raiseParseError(r,l){l=(l||"Unexpected Token : "+r.currentToken().value)+"\n\n"+h.createParserContext(r);var d=new Error(l);throw d.tokens=r,d}raiseParseError(r,l){h.raiseParseError(r,l)}parseHyperScript(r){var l=this.parseElement("hyperscript",r);if(r.hasMore())this.raiseParseError(r);if(l)return l}setParent(r,l){if(typeof r==="object"){if(r.parent=l,typeof l==="object")l.children=l.children||new Set,l.children.add(r);this.setParent(r.next,l)}}commandStart(r){return this.COMMANDS[r.value||""]}featureStart(r){return this.FEATURES[r.value||""]}commandBoundary(r){if(r.value=="end"||r.value=="then"||r.value=="else"||r.value=="otherwise"||r.value==")"||this.commandStart(r)||this.featureStart(r)||r.type=="EOF")return!0;return!1}parseStringTemplate(r){var l=[""];do if(l.push(r.lastWhitespace()),r.currentToken().value==="$"){r.consumeToken();var d=r.matchOpToken("{");if(l.push(this.requireElement("expression",r)),d)r.requireOpToken("}");l.push("")}else if(r.currentToken().value==="\\")r.consumeToken(),r.consumeToken();else{var y=r.consumeToken();l[l.length-1]+=y?y.value:""}while(r.hasMore());return l.push(r.lastWhitespace()),l}ensureTerminated(r){const l=this.runtime;var d={type:"implicitReturn",op:function(w){if(w.meta.returned=!0,w.meta.resolve)w.meta.resolve();return l.HALT},execute:function(w){}},y=r;while(y.next)y=y.next;y.next=d}}class k{constructor(r,l){this.lexer=r??new o,this.parser=l??new h(this).use(ie).use(ue),this.parser.runtime=this}matchesSelector(r,l){var d=r.matches||r.matchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector;return d&&d.call(r,l)}makeEvent(r,l){var d;if(e.Event&&typeof e.Event==="function")d=new Event(r,{bubbles:!0,cancelable:!0}),d.detail=l;else d=document.createEvent("CustomEvent"),d.initCustomEvent(r,!0,!0,l);return d}triggerEvent(r,l,d,y){d=d||{},d.sender=y;var w=this.makeEvent(l,d),F=r.dispatchEvent(w);return F}isArrayLike(r){return Array.isArray(r)||typeof NodeList!=="undefined"&&(r instanceof NodeList||r instanceof HTMLCollection)}isIterable(r){return typeof r==="object"&&Symbol.iterator in r&&typeof r[Symbol.iterator]==="function"}shouldAutoIterate(r){return r!=null&&r[ae]||this.isArrayLike(r)}forEach(r,l){if(r==null);else if(this.isIterable(r))for(let y of r)l(y);else if(this.isArrayLike(r))for(var d=0;d<r.length;d++)l(r[d]);else l(r)}implicitLoop(r,l){if(this.shouldAutoIterate(r))for(let d of r)l(d);else l(r)}wrapArrays(r){var l=[];for(var d=0;d<r.length;d++){var y=r[d];if(Array.isArray(y))l.push(Promise.all(y));else l.push(y)}return l}unwrapAsyncs(r){for(var l=0;l<r.length;l++){var d=r[l];if(d.asyncWrapper)r[l]=d.value;if(Array.isArray(d))for(var y=0;y<d.length;y++){var w=d[y];if(w.asyncWrapper)d[y]=w.value}}}static HALT={};HALT=k.HALT;unifiedExec(r,l){while(!0){try{var d=this.unifiedEval(r,l)}catch(y){if(l.meta.handlingFinally)console.error(" Exception in finally block: ",y),d=k.HALT;else if(this.registerHyperTrace(l,y),l.meta.errorHandler&&!l.meta.handlingError){l.meta.handlingError=!0,l.locals[l.meta.errorSymbol]=y,r=l.meta.errorHandler;continue}else l.meta.currentException=y,d=k.HALT}if(d==null){console.error(r," did not return a next element to execute! context: ",l);return}else if(d.then){d.then((y)=>{this.unifiedExec(y,l)}).catch((y)=>{this.unifiedExec({op:function(){throw y}},l)});return}else if(d===k.HALT)if(l.meta.finallyHandler&&!l.meta.handlingFinally)l.meta.handlingFinally=!0,r=l.meta.finallyHandler;else{if(l.meta.onHalt)l.meta.onHalt();if(l.meta.currentException)if(l.meta.reject){l.meta.reject(l.meta.currentException);return}else throw l.meta.currentException;else return}else r=d}}unifiedEval(r,l){var d=[l],y=!1,w=!1;if(r.args)for(var F=0;F<r.args.length;F++){var q=r.args[F];if(q==null)d.push(null);else if(Array.isArray(q)){var g=[];for(var E=0;E<q.length;E++){var I=q[E],R=I?I.evaluate(l):null;if(R){if(R.then)y=!0;else if(R.asyncWrapper)w=!0}g.push(R)}d.push(g)}else if(q.evaluate){var R=q.evaluate(l);if(R){if(R.then)y=!0;else if(R.asyncWrapper)w=!0}d.push(R)}else d.push(q)}if(y)return new Promise((O,M)=>{d=this.wrapArrays(d),Promise.all(d).then(function(P){if(w)this.unwrapAsyncs(P);try{var D=r.op.apply(r,P);O(D)}catch(_){M(_)}}).catch(function(P){M(P)})});else{if(w)this.unwrapAsyncs(d);return r.op.apply(r,d)}}_scriptAttrs=null;getScriptAttributes(){if(this._scriptAttrs==null)this._scriptAttrs=i.attributes.replace(/ /g,"").split(",");return this._scriptAttrs}getScript(r){for(var l=0;l<this.getScriptAttributes().length;l++){var d=this.getScriptAttributes()[l];if(r.hasAttribute&&r.hasAttribute(d))return r.getAttribute(d)}if(r instanceof HTMLScriptElement&&r.type==="text/hyperscript")return r.innerText;return null}hyperscriptFeaturesMap=new WeakMap;getHyperscriptFeatures(r){var l=this.hyperscriptFeaturesMap.get(r);if(typeof l==="undefined"){if(r)this.hyperscriptFeaturesMap.set(r,l={})}return l}addFeatures(r,l){if(r)Object.assign(l.locals,this.getHyperscriptFeatures(r)),this.addFeatures(r.parentElement,l)}makeContext(r,l,d,y){return new X(r,l,d,y,this)}getScriptSelector(){return this.getScriptAttributes().map(function(r){return"["+r+"]"}).join(", ")}convertValue(r,l){var d=t.dynamicResolvers;for(var y=0;y<d.length;y++){var w=d[y],F=w(l,r);if(F!==void 0)return F}if(r==null)return null;var q=t[l];if(q)return q(r);throw"Unknown conversion : "+l}parse(r){const l=this.lexer,d=this.parser;var y=l.tokenize(r);if(this.parser.commandStart(y.currentToken())){var w=d.requireElement("commandList",y);if(y.hasMore())d.raiseParseError(y);return d.ensureTerminated(w),w}else if(d.featureStart(y.currentToken())){var F=d.requireElement("hyperscript",y);if(y.hasMore())d.raiseParseError(y);return F}else{var q=d.requireElement("expression",y);if(y.hasMore())d.raiseParseError(y);return q}}evaluateNoPromise(r,l){let d=r.evaluate(l);if(d.next)throw new Error(f.sourceFor.call(r)+" returned a Promise in a context that they are not allowed.");return d}evaluate(r,l,d){class y extends EventTarget{constructor(g){super();this.module=g}toString(){return this.module.id}}var w="document"in e?e.document.body:new y(d&&d.module);l=Object.assign(this.makeContext(w,null,w,null),l||{});var F=this.parse(r);if(F.execute)if(F.execute(l),typeof l.meta.returnValue!=="undefined")return l.meta.returnValue;else return l.result;else if(F.apply)return F.apply(w,w,d),this.getHyperscriptFeatures(w);else return F.evaluate(l);function q(){return{}}}processNode(r){var l=this.getScriptSelector();if(this.matchesSelector(r,l))this.initElement(r,r);if(r instanceof HTMLScriptElement&&r.type==="text/hyperscript")this.initElement(r,document.body);if(r.querySelectorAll)this.forEach(r.querySelectorAll(l+", [type='text/hyperscript']"),(d)=>{this.initElement(d,d instanceof HTMLScriptElement&&d.type==="text/hyperscript"?document.body:d)})}initElement(r,l){if(r.closest&&r.closest(i.disableSelector))return;var d=this.getInternalData(r);if(!d.initialized){var y=this.getScript(r);if(y)try{d.initialized=!0,d.script=y;const q=this.lexer,g=this.parser;var w=q.tokenize(y),F=g.parseHyperScript(w);if(!F)return;F.apply(l||r,r),setTimeout(()=>{this.triggerEvent(l||r,"load",{hyperscript:!0})},1)}catch(q){this.triggerEvent(r,"exception",{error:q}),console.error("hyperscript errors were found on the following element:",r,"\n\n",q.message,q.stack)}}}internalDataMap=new WeakMap;getInternalData(r){var l=this.internalDataMap.get(r);if(typeof l==="undefined")this.internalDataMap.set(r,l={});return l}typeCheck(r,l,d){if(r==null&&d)return!0;var y=Object.prototype.toString.call(r).slice(8,-1);return y===l}getElementScope(r){var l=r.meta&&r.meta.owner;if(l){var d=this.getInternalData(l),y="elementScope";if(r.meta.feature&&r.meta.feature.behavior)y=r.meta.feature.behavior+"Scope";var w=ye(d,y);return w}else return{}}isReservedWord(r){return["meta","it","result","locals","event","target","detail","sender","body"].includes(r)}isHyperscriptContext(r){return r instanceof X}resolveSymbol(r,l,d){if(r==="me"||r==="my"||r==="I")return l.me;if(r==="it"||r==="its"||r==="result")return l.result;if(r==="you"||r==="your"||r==="yourself")return l.you;else if(d==="global")return e[r];else if(d==="element"){var y=this.getElementScope(l);return y[r]}else if(d==="local")return l.locals[r];else{if(l.meta&&l.meta.context){var w=l.meta.context[r];if(typeof w!=="undefined")return w;if(l.meta.context.detail){if(w=l.meta.context.detail[r],typeof w!=="undefined")return w}}if(this.isHyperscriptContext(l)&&!this.isReservedWord(r))var F=l.locals[r];else var F=l[r];if(typeof F!=="undefined")return F;else{var y=this.getElementScope(l);if(F=y[r],typeof F!=="undefined")return F;else return e[r]}}}setSymbol(r,l,d,y){if(d==="global")e[r]=y;else if(d==="element"){var w=this.getElementScope(l);w[r]=y}else if(d==="local")l.locals[r]=y;else if(this.isHyperscriptContext(l)&&!this.isReservedWord(r)&&typeof l.locals[r]!=="undefined")l.locals[r]=y;else{var w=this.getElementScope(l),F=w[r];if(typeof F!=="undefined")w[r]=y;else if(this.isHyperscriptContext(l)&&!this.isReservedWord(r))l.locals[r]=y;else l[r]=y}}findNext(r,l){if(r)if(r.resolveNext)return r.resolveNext(l);else if(r.next)return r.next;else return this.findNext(r.parent,l)}flatGet(r,l,d){if(r!=null){var y=d(r,l);if(typeof y!=="undefined")return y;if(this.shouldAutoIterate(r)){var w=[];for(var F of r){var q=d(F,l);w.push(q)}return w}}}resolveProperty(r,l){return this.flatGet(r,l,(d,y)=>d[y])}resolveAttribute(r,l){return this.flatGet(r,l,(d,y)=>d.getAttribute&&d.getAttribute(y))}resolveStyle(r,l){return this.flatGet(r,l,(d,y)=>d.style&&d.style[y])}resolveComputedStyle(r,l){return this.flatGet(r,l,(d,y)=>getComputedStyle(d).getPropertyValue(y))}assignToNamespace(r,l,d,y){let w;if(typeof document!=="undefined"&&r===document.body)w=e;else w=this.getHyperscriptFeatures(r);var F;while((F=l.shift())!==void 0){var q=w[F];if(q==null)q={},w[F]=q;w=q}w[d]=y}getHyperTrace(r,l){var d=[],y=r;while(y.meta.caller)y=y.meta.caller;if(y.meta.traceMap)return y.meta.traceMap.get(l,d)}registerHyperTrace(r,l){var d=[],y=null;while(r!=null)d.push(r),y=r,r=r.meta.caller;if(y.meta.traceMap==null)y.meta.traceMap=new Map;if(!y.meta.traceMap.get(l)){var w={trace:d,print:function(F){F=F||console.error,F("hypertrace /// ");var q=0;for(var g=0;g<d.length;g++)q=Math.max(q,d[g].meta.feature.displayName.length);for(var g=0;g<d.length;g++){var E=d[g];F("  ->",E.meta.feature.displayName.padEnd(q+2),"-",E.meta.owner)}}};y.meta.traceMap.set(l,w)}}escapeSelector(r){return r.replace(/:/g,function(l){return"\\"+l})}nullCheck(r,l){if(r==null)throw new Error("'"+l.sourceFor()+"' is null")}isEmpty(r){return r==null||r.length===0}doesExist(r){if(r==null)return!1;if(this.shouldAutoIterate(r)){for(let l of r)return!0;return!1}return!0}getRootNode(r){if(r&&r instanceof Node){var l=r.getRootNode();if(l instanceof Document||l instanceof ShadowRoot)return l}return document}getEventQueueFor(r,l){let d=this.getInternalData(r);var y=d.eventQueues;if(y==null)y=new Map,d.eventQueues=y;var w=y.get(l);if(w==null)w={queue:[],executing:!1},y.set(l,w);return w}beepValueToConsole(r,l,d){if(this.triggerEvent(r,"hyperscript:beep",{element:r,expression:l,value:d})){var y;if(d)if(d instanceof J)y="ElementCollection";else if(d.constructor)y=d.constructor.name;else y="unknown";else y="object (null)";var w=d;if(y==="String")w='"'+w+'"';else if(d instanceof J)w=Array.from(d);console.log("///_ BEEP! The expression ("+f.sourceFor.call(l).replace("beep! ","")+") evaluates to:",w,"of type "+y)}}hyperscriptUrl="document"in e&&document.currentScript?document.currentScript.src:null}function b(){return document.cookie.split("; ").map((l)=>{let d=l.split("=");return{name:d[0],value:decodeURIComponent(d[1])}})}function N(r){document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}function G(){for(let r of b())N(r.name)}const B=new Proxy({},{get(r,l){if(l==="then"||l==="asyncWrapper")return null;else if(l==="length")return b().length;else if(l==="clear")return N;else if(l==="clearAll")return G;else if(typeof l==="string")if(!isNaN(l))return b()[parseInt(l)];else{let d=document.cookie.split("; ").find((y)=>y.startsWith(l+"="))?.split("=")[1];if(d)return decodeURIComponent(d)}else if(l===Symbol.iterator)return b()[l]},set(r,l,d){var y=null;if(typeof d==="string")y=encodeURIComponent(d),y+=";samesite=lax";else{if(y=encodeURIComponent(d.value),d.expires)y+=";expires="+d.maxAge;if(d.maxAge)y+=";max-age="+d.maxAge;if(d.partitioned)y+=";partitioned="+d.partitioned;if(d.path)y+=";path="+d.path;if(d.samesite)y+=";samesite="+d.path;if(d.secure)y+=";secure="+d.path}return document.cookie=l+"="+y,!0}});class X{constructor(r,l,d,y,w){this.meta={parser:w.parser,lexer:w.lexer,runtime:w,owner:r,feature:l,iterators:{},ctx:this},this.locals={cookies:B},this.me=d,this.you=void 0,this.result=void 0,this.event=y,this.target=y?y.target:null,this.detail=y?y.detail:null,this.sender=y?y.detail?y.detail.sender:null:null,this.body="document"in e?document.body:null,w.addFeatures(r,this)}}class J{constructor(r,l,d){this._css=r,this.relativeToElement=l,this.escape=d,this[ae]=!0}get css(){if(this.escape)return k.prototype.escapeSelector(this._css);else return this._css}get className(){return this._css.substr(1)}get id(){return this.className()}contains(r){for(let l of this)if(l.contains(r))return!0;return!1}get length(){return this.selectMatches().length}[Symbol.iterator](){return this.selectMatches()[Symbol.iterator]()}selectMatches(){return k.prototype.getRootNode(this.relativeToElement).querySelectorAll(this.css)}}const ae=Symbol();function ye(r,l){var d=r[l];if(d)return d;else{var y={};return r[l]=y,y}}function Ue(r){try{return JSON.parse(r)}catch(l){return Q(l),null}}function Q(r){if(console.error)console.error(r);else if(console.log)console.log("ERROR: ",r)}function V(r,l){return new(r.bind.apply(r,[r].concat(l)))}function ie(r){r.addLeafExpression("parenthesized",function(u,c,n){if(n.matchOpToken("(")){var a=n.clearFollows();try{var p=u.requireElement("expression",n)}finally{n.restoreFollows(a)}return n.requireOpToken(")"),p}}),r.addLeafExpression("string",function(u,c,n){var a=n.matchTokenType("STRING");if(!a)return;var p=a.value,s;if(a.template){var m=o.tokenize(p,!0);s=u.parseStringTemplate(m)}else s=[];return{type:"string",token:a,args:s,op:function(T){var v="";for(var x=1;x<arguments.length;x++){var C=arguments[x];if(C!==void 0)v+=C}return v},evaluate:function(T){if(s.length===0)return p;else return c.unifiedEval(this,T)}}}),r.addGrammarElement("nakedString",function(u,c,n){if(n.hasMore()){var a=n.consumeUntilWhitespace();return n.matchTokenType("WHITESPACE"),{type:"nakedString",tokens:a,evaluate:function(p){return a.map(function(s){return s.value}).join("")}}}}),r.addLeafExpression("number",function(u,c,n){var a=n.matchTokenType("NUMBER");if(!a)return;var p=a,s=parseFloat(a.value);return{type:"number",value:s,numberToken:p,evaluate:function(){return s}}}),r.addLeafExpression("idRef",function(u,c,n){var a=n.matchTokenType("ID_REF");if(!a)return;if(!a.value)return;if(a.template){var p=a.value.substring(2),s=o.tokenize(p),m=u.requireElement("expression",s);return{type:"idRefTemplate",args:[m],op:function(T,v){return c.getRootNode(T.me).getElementById(v)},evaluate:function(T){return c.unifiedEval(this,T)}}}else{const T=a.value.substring(1);return{type:"idRef",css:a.value,value:T,evaluate:function(v){return c.getRootNode(v.me).getElementById(T)}}}}),r.addLeafExpression("classRef",function(u,c,n){var a=n.matchTokenType("CLASS_REF");if(!a)return;if(!a.value)return;if(a.template){var p=a.value.substring(2),s=o.tokenize(p),m=u.requireElement("expression",s);return{type:"classRefTemplate",args:[m],op:function(T,v){return new J("."+v,T.me,!0)},evaluate:function(T){return c.unifiedEval(this,T)}}}else{const T=a.value;return{type:"classRef",css:T,evaluate:function(v){return new J(T,v.me,!0)}}}});class l extends J{constructor(u,c,n){super(u,c);this.templateParts=n,this.elements=n.filter((a)=>a instanceof Element)}get css(){let u="",c=0;for(let n of this.templateParts)if(n instanceof Element)u+="[data-hs-query-id='"+c+++"']";else u+=n;return u}[Symbol.iterator](){this.elements.forEach((c,n)=>c.dataset.hsQueryId=n);const u=super[Symbol.iterator]();return this.elements.forEach((c)=>c.removeAttribute("data-hs-query-id")),u}}r.addLeafExpression("queryRef",function(u,c,n){var a=n.matchOpToken("<");if(!a)return;var p=n.consumeUntil("/");n.requireOpToken("/"),n.requireOpToken(">");var s=p.map(function(x){if(x.type==="STRING")return'"'+x.value+'"';else return x.value}).join(""),m,T,v;if(s.indexOf("$")>=0)m=!0,T=o.tokenize(s,!0),v=u.parseStringTemplate(T);return{type:"queryRef",css:s,args:v,op:function(x,...C){if(m)return new l(s,x.me,C);else return new J(s,x.me)},evaluate:function(x){return c.unifiedEval(this,x)}}}),r.addLeafExpression("attributeRef",function(u,c,n){var a=n.matchTokenType("ATTRIBUTE_REF");if(!a)return;if(!a.value)return;var p=a.value;if(p.indexOf("[")===0)var s=p.substring(2,p.length-1);else var s=p.substring(1);var m="["+s+"]",T=s.split("="),v=T[0],x=T[1];if(x){if(x.indexOf('"')===0)x=x.substring(1,x.length-1)}return{type:"attributeRef",name:v,css:m,value:x,op:function(C){var S=C.you||C.me;if(S)return S.getAttribute(v)},evaluate:function(C){return c.unifiedEval(this,C)}}}),r.addLeafExpression("styleRef",function(u,c,n){var a=n.matchTokenType("STYLE_REF");if(!a)return;if(!a.value)return;var p=a.value.substr(1);if(p.startsWith("computed-"))return p=p.substr("computed-".length),{type:"computedStyleRef",name:p,op:function(s){var m=s.you||s.me;if(m)return c.resolveComputedStyle(m,p)},evaluate:function(s){return c.unifiedEval(this,s)}};else return{type:"styleRef",name:p,op:function(s){var m=s.you||s.me;if(m)return c.resolveStyle(m,p)},evaluate:function(s){return c.unifiedEval(this,s)}}}),r.addGrammarElement("objectKey",function(u,c,n){var a;if(a=n.matchTokenType("STRING"))return{type:"objectKey",key:a.value,evaluate:function(){return a.value}};else if(n.matchOpToken("[")){var p=u.parseElement("expression",n);return n.requireOpToken("]"),{type:"objectKey",expr:p,args:[p],op:function(m,T){return T},evaluate:function(m){return c.unifiedEval(this,m)}}}else{var s="";do if(a=n.matchTokenType("IDENTIFIER")||n.matchOpToken("-"),a)s+=a.value;while(a);return{type:"objectKey",key:s,evaluate:function(){return s}}}}),r.addLeafExpression("objectLiteral",function(u,c,n){if(!n.matchOpToken("{"))return;var a=[],p=[];if(!n.matchOpToken("}")){do{var s=u.requireElement("objectKey",n);n.requireOpToken(":");var m=u.requireElement("expression",n);p.push(m),a.push(s)}while(n.matchOpToken(","));n.requireOpToken("}")}return{type:"objectLiteral",args:[a,p],op:function(T,v,x){var C={};for(var S=0;S<v.length;S++)C[v[S]]=x[S];return C},evaluate:function(T){return c.unifiedEval(this,T)}}}),r.addGrammarElement("nakedNamedArgumentList",function(u,c,n){var a=[],p=[];if(n.currentToken().type==="IDENTIFIER")do{var s=n.requireTokenType("IDENTIFIER");n.requireOpToken(":");var m=u.requireElement("expression",n);p.push(m),a.push({name:s,value:m})}while(n.matchOpToken(","));return{type:"namedArgumentList",fields:a,args:[p],op:function(T,v){var x={_namedArgList_:!0};for(var C=0;C<v.length;C++){var S=a[C];x[S.name.value]=v[C]}return x},evaluate:function(T){return c.unifiedEval(this,T)}}}),r.addGrammarElement("namedArgumentList",function(u,c,n){if(!n.matchOpToken("("))return;var a=u.requireElement("nakedNamedArgumentList",n);return n.requireOpToken(")"),a}),r.addGrammarElement("symbol",function(u,c,n){var a="default";if(n.matchToken("global"))a="global";else if(n.matchToken("element")||n.matchToken("module")){if(a="element",n.matchOpToken("'"))n.requireToken("s")}else if(n.matchToken("local"))a="local";let p=n.matchOpToken(":"),s=n.matchTokenType("IDENTIFIER");if(s&&s.value){var m=s.value;if(p)m=":"+m;if(a==="default"){if(m.indexOf("$")===0)a="global";if(m.indexOf(":")===0)a="element"}return{type:"symbol",token:s,scope:a,name:m,evaluate:function(T){return c.resolveSymbol(m,T,a)}}}}),r.addGrammarElement("implicitMeTarget",function(u,c,n){return{type:"implicitMeTarget",evaluate:function(a){return a.you||a.me}}}),r.addLeafExpression("boolean",function(u,c,n){var a=n.matchToken("true")||n.matchToken("false");if(!a)return;const p=a.value==="true";return{type:"boolean",evaluate:function(s){return p}}}),r.addLeafExpression("null",function(u,c,n){if(n.matchToken("null"))return{type:"null",evaluate:function(a){return null}}}),r.addLeafExpression("arrayLiteral",function(u,c,n){if(!n.matchOpToken("["))return;var a=[];if(!n.matchOpToken("]")){do{var p=u.requireElement("expression",n);a.push(p)}while(n.matchOpToken(","));n.requireOpToken("]")}return{type:"arrayLiteral",values:a,args:[a],op:function(s,m){return m},evaluate:function(s){return c.unifiedEval(this,s)}}}),r.addLeafExpression("blockLiteral",function(u,c,n){if(!n.matchOpToken("\\"))return;var a=[],p=n.matchTokenType("IDENTIFIER");if(p){a.push(p);while(n.matchOpToken(","))a.push(n.requireTokenType("IDENTIFIER"))}n.requireOpToken("-"),n.requireOpToken(">");var s=u.requireElement("expression",n);return{type:"blockLiteral",args:a,expr:s,evaluate:function(m){var T=function(){for(var v=0;v<a.length;v++)m.locals[a[v].value]=arguments[v];return s.evaluate(m)};return T}}}),r.addIndirectExpression("propertyAccess",function(u,c,n,a){if(!n.matchOpToken("."))return;var p=n.requireTokenType("IDENTIFIER"),s={type:"propertyAccess",root:a,prop:p,args:[a],op:function(m,T){var v=c.resolveProperty(T,p.value);return v},evaluate:function(m){return c.unifiedEval(this,m)}};return u.parseElement("indirectExpression",n,s)}),r.addIndirectExpression("of",function(u,c,n,a){if(!n.matchToken("of"))return;var p=u.requireElement("unaryExpression",n),s=null,m=a;while(m.root)s=m,m=m.root;if(m.type!=="symbol"&&m.type!=="attributeRef"&&m.type!=="styleRef"&&m.type!=="computedStyleRef")u.raiseParseError(n,"Cannot take a property of a non-symbol: "+m.type);var T=m.type==="attributeRef",v=m.type==="styleRef"||m.type==="computedStyleRef";if(T||v)var x=m;var C=m.name,S={type:"ofExpression",prop:m.token,root:p,attribute:x,expression:a,args:[p],op:function(A,L){if(T)return c.resolveAttribute(L,C);else if(v)if(m.type==="computedStyleRef")return c.resolveComputedStyle(L,C);else return c.resolveStyle(L,C);else return c.resolveProperty(L,C)},evaluate:function(A){return c.unifiedEval(this,A)}};if(m.type==="attributeRef")S.attribute=m;if(s)s.root=S,s.args=[S];else a=S;return u.parseElement("indirectExpression",n,a)}),r.addIndirectExpression("possessive",function(u,c,n,a){if(u.possessivesDisabled)return;var p=n.matchOpToken("'");if(p||a.type==="symbol"&&(a.name==="my"||a.name==="its"||a.name==="your")&&(n.currentToken().type==="IDENTIFIER"||n.currentToken().type==="ATTRIBUTE_REF"||n.currentToken().type==="STYLE_REF")){if(p)n.requireToken("s");var s,m,T;if(s=u.parseElement("attributeRef",n),s==null){if(m=u.parseElement("styleRef",n),m==null)T=n.requireTokenType("IDENTIFIER")}var v={type:"possessive",root:a,attribute:s||m,prop:T,args:[a],op:function(x,C){if(s)var S=c.resolveAttribute(C,s.name);else if(m){var S;if(m.type==="computedStyleRef")S=c.resolveComputedStyle(C,m.name);else S=c.resolveStyle(C,m.name)}else var S=c.resolveProperty(C,T.value);return S},evaluate:function(x){return c.unifiedEval(this,x)}};return u.parseElement("indirectExpression",n,v)}}),r.addIndirectExpression("inExpression",function(u,c,n,a){if(!n.matchToken("in"))return;var p=u.requireElement("unaryExpression",n),s={type:"inExpression",root:a,args:[a,p],op:function(m,T,v){var x=[];if(T.css)c.implicitLoop(v,function(S){var A=S.querySelectorAll(T.css);for(var L=0;L<A.length;L++)x.push(A[L])});else if(T instanceof Element){var C=!1;if(c.implicitLoop(v,function(S){if(S.contains(T))C=!0}),C)return T}else c.implicitLoop(T,function(S){c.implicitLoop(v,function(A){if(S===A)x.push(S)})});return x},evaluate:function(m){return c.unifiedEval(this,m)}};return u.parseElement("indirectExpression",n,s)}),r.addIndirectExpression("asExpression",function(u,c,n,a){if(!n.matchToken("as"))return;n.matchToken("a")||n.matchToken("an");var p=u.requireElement("dotOrColonPath",n).evaluate(),s={type:"asExpression",root:a,args:[a],op:function(m,T){return c.convertValue(T,p)},evaluate:function(m){return c.unifiedEval(this,m)}};return u.parseElement("indirectExpression",n,s)}),r.addIndirectExpression("functionCall",function(u,c,n,a){if(!n.matchOpToken("("))return;var p=[];if(!n.matchOpToken(")")){do p.push(u.requireElement("expression",n));while(n.matchOpToken(","));n.requireOpToken(")")}if(a.root)var s={type:"functionCall",root:a,argExressions:p,args:[a.root,p],op:function(m,T,v){c.nullCheck(T,a.root);var x=T[a.prop.value];if(c.nullCheck(x,a),x.hyperfunc)v.push(m);return x.apply(T,v)},evaluate:function(m){return c.unifiedEval(this,m)}};else var s={type:"functionCall",root:a,argExressions:p,args:[a,p],op:function(T,v,x){if(c.nullCheck(v,a),v.hyperfunc)x.push(T);var C=v.apply(null,x);return C},evaluate:function(T){return c.unifiedEval(this,T)}};return u.parseElement("indirectExpression",n,s)}),r.addIndirectExpression("attributeRefAccess",function(u,c,n,a){var p=u.parseElement("attributeRef",n);if(!p)return;var s={type:"attributeRefAccess",root:a,attribute:p,args:[a],op:function(m,T){var v=c.resolveAttribute(T,p.name);return v},evaluate:function(m){return c.unifiedEval(this,m)}};return s}),r.addIndirectExpression("arrayIndex",function(u,c,n,a){if(!n.matchOpToken("["))return;var p=!1,s=!1,m=null,T=null;if(n.matchOpToken(".."))p=!0,m=u.requireElement("expression",n);else if(m=u.requireElement("expression",n),n.matchOpToken("..")){s=!0;var v=n.currentToken();if(v.type!=="R_BRACKET")T=u.parseElement("expression",n)}n.requireOpToken("]");var x={type:"arrayIndex",root:a,prop:m,firstIndex:m,secondIndex:T,args:[a,m,T],op:function(C,S,A,L){if(S==null)return null;if(p){if(A<0)A=S.length+A;return S.slice(0,A+1)}else if(s)if(L!=null){if(L<0)L=S.length+L;return S.slice(A,L+1)}else return S.slice(A);else return S[A]},evaluate:function(C){return c.unifiedEval(this,C)}};return u.parseElement("indirectExpression",n,x)});var d=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","pc","pt","px"];r.addGrammarElement("postfixExpression",function(u,c,n){var a=u.parseElement("primaryExpression",n);let p=n.matchAnyToken.apply(n,d)||n.matchOpToken("%");if(p)return{type:"stringPostfix",postfix:p.value,args:[a],op:function(v,x){return""+x+p.value},evaluate:function(v){return c.unifiedEval(this,v)}};var s=null;if(n.matchToken("s")||n.matchToken("seconds"))s=1000;else if(n.matchToken("ms")||n.matchToken("milliseconds"))s=1;if(s)return{type:"timeExpression",time:a,factor:s,args:[a],op:function(v,x){return x*s},evaluate:function(v){return c.unifiedEval(this,v)}};if(n.matchOpToken(":")){var m=n.requireTokenType("IDENTIFIER");if(!m.value)return;var T=!n.matchOpToken("!");return{type:"typeCheck",typeName:m,nullOk:T,args:[a],op:function(v,x){var C=c.typeCheck(x,this.typeName.value,T);if(C)return x;else throw new Error("Typecheck failed!  Expected: "+m.value)},evaluate:function(v){return c.unifiedEval(this,v)}}}else return a}),r.addGrammarElement("logicalNot",function(u,c,n){if(!n.matchToken("not"))return;var a=u.requireElement("unaryExpression",n);return{type:"logicalNot",root:a,args:[a],op:function(p,s){return!s},evaluate:function(p){return c.unifiedEval(this,p)}}}),r.addGrammarElement("noExpression",function(u,c,n){if(!n.matchToken("no"))return;var a=u.requireElement("unaryExpression",n);return{type:"noExpression",root:a,args:[a],op:function(p,s){return c.isEmpty(s)},evaluate:function(p){return c.unifiedEval(this,p)}}}),r.addLeafExpression("some",function(u,c,n){if(!n.matchToken("some"))return;var a=u.requireElement("expression",n);return{type:"noExpression",root:a,args:[a],op:function(p,s){return!c.isEmpty(s)},evaluate(p){return c.unifiedEval(this,p)}}}),r.addGrammarElement("negativeNumber",function(u,c,n){if(!n.matchOpToken("-"))return;var a=u.requireElement("unaryExpression",n);return{type:"negativeNumber",root:a,args:[a],op:function(p,s){return-1*s},evaluate:function(p){return c.unifiedEval(this,p)}}}),r.addGrammarElement("unaryExpression",function(u,c,n){return n.matchToken("the"),u.parseAnyOf(["beepExpression","logicalNot","relativePositionalExpression","positionalExpression","noExpression","negativeNumber","postfixExpression"],n)}),r.addGrammarElement("beepExpression",function(u,c,n){if(!n.matchToken("beep!"))return;var a=u.parseElement("unaryExpression",n);if(a){a.booped=!0;var p=a.evaluate;return a.evaluate=function(s){let m=p.apply(a,arguments),T=s.me;return c.beepValueToConsole(T,a,m),m},a}});var y=function(u,c,n,a){var p=c.querySelectorAll(n);for(var s=0;s<p.length;s++){var m=p[s];if(m.compareDocumentPosition(u)===Node.DOCUMENT_POSITION_PRECEDING)return m}if(a)return p[0]},w=function(u,c,n,a){var p=c.querySelectorAll(n);for(var s=p.length-1;s>=0;s--){var m=p[s];if(m.compareDocumentPosition(u)===Node.DOCUMENT_POSITION_FOLLOWING)return m}if(a)return p[p.length-1]},F=function(u,c,n,a){var p=[];k.prototype.forEach(c,function(v){if(v.matches(n)||v===u)p.push(v)});for(var s=0;s<p.length-1;s++){var m=p[s];if(m===u)return p[s+1]}if(a){var T=p[0];if(T&&T.matches(n))return T}},q=function(u,c,n,a){return F(u,Array.from(c).reverse(),n,a)};r.addGrammarElement("relativePositionalExpression",function(u,c,n){var a=n.matchAnyToken("next","previous");if(!a)return;var p=a.value==="next",s=u.parseElement("expression",n);if(n.matchToken("from")){n.pushFollow("in");try{var m=u.requireElement("unaryExpression",n)}finally{n.popFollow()}}else var m=u.requireElement("implicitMeTarget",n);var T=!1,v;if(n.matchToken("in")){T=!0;var x=u.requireElement("unaryExpression",n)}else if(n.matchToken("within"))v=u.requireElement("unaryExpression",n);else v=document.body;var C=!1;if(n.matchToken("with"))n.requireToken("wrapping"),C=!0;return{type:"relativePositionalExpression",from:m,forwardSearch:p,inSearch:T,wrapping:C,inElt:x,withinElt:v,operator:a.value,args:[s,m,x,v],op:function(S,A,L,H,Y){var W=A.css;if(W==null)throw"Expected a CSS value to be returned by "+f.sourceFor.apply(s);if(T){if(H)if(p)return F(L,H,W,C);else return q(L,H,W,C)}else if(Y)if(p)return y(L,Y,W,C);else return w(L,Y,W,C)},evaluate:function(S){return c.unifiedEval(this,S)}}}),r.addGrammarElement("positionalExpression",function(u,c,n){var a=n.matchAnyToken("first","last","random");if(!a)return;n.matchAnyToken("in","from","of");var p=u.requireElement("unaryExpression",n);const s=a.value;return{type:"positionalExpression",rhs:p,operator:a.value,args:[p],op:function(m,T){if(T&&!Array.isArray(T))if(T.children)T=T.children;else T=Array.from(T);if(T){if(s==="first")return T[0];else if(s==="last")return T[T.length-1];else if(s==="random")return T[Math.floor(Math.random()*T.length)]}},evaluate:function(m){return c.unifiedEval(this,m)}}}),r.addGrammarElement("mathOperator",function(u,c,n){var a=u.parseElement("unaryExpression",n),p,s=null;p=n.matchAnyOpToken("+","-","*","/")||n.matchToken("mod");while(p){s=s||p;var m=p.value;if(s.value!==m)u.raiseParseError(n,"You must parenthesize math operations with different operators");var T=u.parseElement("unaryExpression",n);a={type:"mathOperator",lhs:a,rhs:T,operator:m,args:[a,T],op:function(v,x,C){if(m==="+")return x+C;else if(m==="-")return x-C;else if(m==="*")return x*C;else if(m==="/")return x/C;else if(m==="mod")return x%C},evaluate:function(v){return c.unifiedEval(this,v)}},p=n.matchAnyOpToken("+","-","*","/")||n.matchToken("mod")}return a}),r.addGrammarElement("mathExpression",function(u,c,n){return u.parseAnyOf(["mathOperator","unaryExpression"],n)});function g(u,c,n){if(c.contains)return c.contains(n);else if(c.includes)return c.includes(n);else throw Error("The value of "+u.sourceFor()+" does not have a contains or includes method on it")}function E(u,c,n){if(c.match)return!!c.match(n);else if(c.matches)return c.matches(n);else throw Error("The value of "+u.sourceFor()+" does not have a match or matches method on it")}r.addGrammarElement("comparisonOperator",function(u,c,n){var a=u.parseElement("mathExpression",n),p=n.matchAnyOpToken("<",">","<=",">=","==","===","!=","!=="),s=p?p.value:null,m=!0,T=!1;if(s==null){if(n.matchToken("is")||n.matchToken("am"))if(n.matchToken("not"))if(n.matchToken("in"))s="not in";else if(n.matchToken("a"))s="not a",T=!0;else if(n.matchToken("empty"))s="not empty",m=!1;else{if(n.matchToken("really"))s="!==";else s="!=";if(n.matchToken("equal"))n.matchToken("to")}else if(n.matchToken("in"))s="in";else if(n.matchToken("a"))s="a",T=!0;else if(n.matchToken("empty"))s="empty",m=!1;else if(n.matchToken("less"))if(n.requireToken("than"),n.matchToken("or"))n.requireToken("equal"),n.requireToken("to"),s="<=";else s="<";else if(n.matchToken("greater"))if(n.requireToken("than"),n.matchToken("or"))n.requireToken("equal"),n.requireToken("to"),s=">=";else s=">";else{if(n.matchToken("really"))s="===";else s="==";if(n.matchToken("equal"))n.matchToken("to")}else if(n.matchToken("equals"))s="==";else if(n.matchToken("really"))n.requireToken("equals"),s="===";else if(n.matchToken("exist")||n.matchToken("exists"))s="exist",m=!1;else if(n.matchToken("matches")||n.matchToken("match"))s="match";else if(n.matchToken("contains")||n.matchToken("contain"))s="contain";else if(n.matchToken("includes")||n.matchToken("include"))s="include";else if(n.matchToken("do")||n.matchToken("does"))if(n.requireToken("not"),n.matchToken("matches")||n.matchToken("match"))s="not match";else if(n.matchToken("contains")||n.matchToken("contain"))s="not contain";else if(n.matchToken("exist")||n.matchToken("exist"))s="not exist",m=!1;else if(n.matchToken("include"))s="not include";else u.raiseParseError(n,"Expected matches or contains")}if(s){var v,x,C;if(T)v=n.requireTokenType("IDENTIFIER"),x=!n.matchOpToken("!");else if(m){if(C=u.requireElement("mathExpression",n),s==="match"||s==="not match")C=C.css?C.css:C}var S=a;a={type:"comparisonOperator",operator:s,typeName:v,nullOk:x,lhs:a,rhs:C,args:[a,C],op:function(A,L,H){if(s==="==")return L==H;else if(s==="!=")return L!=H;if(s==="===")return L===H;else if(s==="!==")return L!==H;if(s==="match")return L!=null&&E(S,L,H);if(s==="not match")return L==null||!E(S,L,H);if(s==="in")return H!=null&&g(C,H,L);if(s==="not in")return H==null||!g(C,H,L);if(s==="contain")return L!=null&&g(S,L,H);if(s==="not contain")return L==null||!g(S,L,H);if(s==="include")return L!=null&&g(S,L,H);if(s==="not include")return L==null||!g(S,L,H);if(s==="===")return L===H;else if(s==="!==")return L!==H;else if(s==="<")return L<H;else if(s===">")return L>H;else if(s==="<=")return L<=H;else if(s===">=")return L>=H;else if(s==="empty")return c.isEmpty(L);else if(s==="not empty")return!c.isEmpty(L);else if(s==="exist")return c.doesExist(L);else if(s==="not exist")return!c.doesExist(L);else if(s==="a")return c.typeCheck(L,v.value,x);else if(s==="not a")return!c.typeCheck(L,v.value,x);else throw"Unknown comparison : "+s},evaluate:function(A){return c.unifiedEval(this,A)}}}return a}),r.addGrammarElement("comparisonExpression",function(u,c,n){return u.parseAnyOf(["comparisonOperator","mathExpression"],n)}),r.addGrammarElement("logicalOperator",function(u,c,n){var a=u.parseElement("comparisonExpression",n),p,s=null;p=n.matchToken("and")||n.matchToken("or");while(p){if(s=s||p,s.value!==p.value)u.raiseParseError(n,"You must parenthesize logical operations with different operators");var m=u.requireElement("comparisonExpression",n);const T=p.value;a={type:"logicalOperator",operator:T,lhs:a,rhs:m,args:[a,m],op:function(v,x,C){if(T==="and")return x&&C;else return x||C},evaluate:function(v){return c.unifiedEval(this,v)}},p=n.matchToken("and")||n.matchToken("or")}return a}),r.addGrammarElement("logicalExpression",function(u,c,n){return u.parseAnyOf(["logicalOperator","mathExpression"],n)}),r.addGrammarElement("asyncExpression",function(u,c,n){if(n.matchToken("async")){var a=u.requireElement("logicalExpression",n),p={type:"asyncExpression",value:a,evaluate:function(s){return{asyncWrapper:!0,value:this.value.evaluate(s)}}};return p}else return u.parseElement("logicalExpression",n)}),r.addGrammarElement("expression",function(u,c,n){return n.matchToken("the"),u.parseElement("asyncExpression",n)}),r.addGrammarElement("assignableExpression",function(u,c,n){n.matchToken("the");var a=u.parseElement("primaryExpression",n);if(a&&(a.type==="symbol"||a.type==="ofExpression"||a.type==="propertyAccess"||a.type==="attributeRefAccess"||a.type==="attributeRef"||a.type==="styleRef"||a.type==="arrayIndex"||a.type==="possessive"))return a;else u.raiseParseError(n,"A target expression must be writable.  The expression type '"+(a&&a.type)+"' is not.");return a}),r.addGrammarElement("hyperscript",function(u,c,n){var a=[];if(n.hasMore())while(u.featureStart(n.currentToken())||n.currentToken().value==="("){var p=u.requireElement("feature",n);a.push(p),n.matchToken("end")}return{type:"hyperscript",features:a,apply:function(s,m,T){for(let v of a)v.install(s,m,T)}}});var I=function(u){var c=[];if(u.token(0).value==="("&&(u.token(1).value===")"||u.token(2).value===","||u.token(2).value===")")){u.matchOpToken("(");do c.push(u.requireTokenType("IDENTIFIER"));while(u.matchOpToken(","));u.requireOpToken(")")}return c};r.addFeature("on",function(u,c,n){if(!n.matchToken("on"))return;var a=!1;if(n.matchToken("every"))a=!0;var p=[],s=null;do{var m=u.requireElement("eventName",n,"Expected event name"),T=m.evaluate();if(s)s=s+" or "+T;else s="on "+T;var v=I(n),x=null;if(n.matchOpToken("["))x=u.requireElement("expression",n),n.requireOpToken("]");var C,S,A;if(n.currentToken().type==="NUMBER"){var L=n.consumeToken();if(!L.value)return;if(C=parseInt(L.value),n.matchToken("to")){var H=n.consumeToken();if(!H.value)return;S=parseInt(H.value)}else if(n.matchToken("and"))A=!0,n.requireToken("on")}var Y,W;if(T==="intersection"){if(Y={},n.matchToken("with"))Y.with=u.requireElement("expression",n).evaluate();if(n.matchToken("having"))do if(n.matchToken("margin"))Y.rootMargin=u.requireElement("stringLike",n).evaluate();else if(n.matchToken("threshold"))Y.threshold=u.requireElement("expression",n).evaluate();else u.raiseParseError(n,"Unknown intersection config specification");while(n.matchToken("and"))}else if(T==="mutation")if(W={},n.matchToken("of"))do if(n.matchToken("anything"))W.attributes=!0,W.subtree=!0,W.characterData=!0,W.childList=!0;else if(n.matchToken("childList"))W.childList=!0;else if(n.matchToken("attributes"))W.attributes=!0,W.attributeOldValue=!0;else if(n.matchToken("subtree"))W.subtree=!0;else if(n.matchToken("characterData"))W.characterData=!0,W.characterDataOldValue=!0;else if(n.currentToken().type==="ATTRIBUTE_REF"){var K=n.consumeToken();if(W.attributeFilter==null)W.attributeFilter=[];if(K.value.indexOf("@")==0)W.attributeFilter.push(K.value.substring(1));else u.raiseParseError(n,"Only shorthand attribute references are allowed here")}else u.raiseParseError(n,"Unknown mutation config specification");while(n.matchToken("or"));else W.attributes=!0,W.characterData=!0,W.childList=!0;var Z=null,he=!1;if(n.matchToken("from"))if(n.matchToken("elsewhere"))he=!0;else{n.pushFollow("or");try{Z=u.requireElement("expression",n)}finally{n.popFollow()}if(!Z)u.raiseParseError(n,'Expected either target value or "elsewhere".')}if(Z===null&&he===!1&&n.matchToken("elsewhere"))he=!0;if(n.matchToken("in"))var Ee=u.parseElement("unaryExpression",n);if(n.matchToken("debounced")){n.requireToken("at");var ne=u.requireElement("unaryExpression",n),ce=ne.evaluate({})}else if(n.matchToken("throttled")){n.requireToken("at");var ne=u.requireElement("unaryExpression",n),Te=ne.evaluate({})}p.push({execCount:0,every:a,on:T,args:v,filter:x,from:Z,inExpr:Ee,elsewhere:he,startCount:C,endCount:S,unbounded:A,debounceTime:ce,throttleTime:Te,mutationSpec:W,intersectionSpec:Y,debounced:void 0,lastExec:void 0})}while(n.matchToken("or"));var fe=!0;if(!a){if(n.matchToken("queue"))if(n.matchToken("all"))var ve=!0,fe=!1;else if(n.matchToken("first"))var Be=!0;else if(n.matchToken("none"))var Ve=!0;else n.requireToken("last")}var mt=u.requireElement("commandList",n);u.ensureTerminated(mt);var Dt,pt;if(n.matchToken("catch"))Dt=n.requireTokenType("IDENTIFIER").value,pt=u.requireElement("commandList",n),u.ensureTerminated(pt);if(n.matchToken("finally")){var Cn=u.requireElement("commandList",n);u.ensureTerminated(Cn)}var ge={displayName:s,events:p,start:mt,every:a,execCount:0,errorHandler:pt,errorSymbol:Dt,execute:function(le){let Ce=c.getEventQueueFor(le.me,ge);if(Ce.executing&&a===!1){if(Ve||Be&&Ce.queue.length>0)return;if(fe)Ce.queue.length=0;Ce.queue.push(le);return}ge.execCount++,Ce.executing=!0,le.meta.onHalt=function(){Ce.executing=!1;var de=Ce.queue.shift();if(de)setTimeout(function(){ge.execute(de)},1)},le.meta.reject=function(de){console.error(de.message?de.message:de);var $=c.getHyperTrace(le,de);if($)$.print();c.triggerEvent(le.me,"exception",{error:de})},mt.execute(le)},install:function(le,Ce){for(let $ of ge.events){var de;if($.elsewhere)de=[document];else if($.from)de=$.from.evaluate(c.makeContext(le,ge,le,null));else de=[le];c.implicitLoop(de,function(xe){var je=$.on;if(xe==null){console.warn("'%s' feature ignored because target does not exists:",s,le);return}if($.mutationSpec)je="hyperscript:mutation",new MutationObserver(function(Fe,re){if(!ge.executing)c.triggerEvent(xe,je,{mutationList:Fe,observer:re})}).observe(xe,$.mutationSpec);if($.intersectionSpec){je="hyperscript:intersection";const Ke=new IntersectionObserver(function(Fe){for(let ht of Fe){var re={observer:Ke};re=Object.assign(re,ht),re.intersecting=ht.isIntersecting,c.triggerEvent(xe,je,re)}},$.intersectionSpec);Ke.observe(xe)}var ui=xe.addEventListener||xe.on;ui.call(xe,je,function Ke(Fe){if(typeof Node!=="undefined"&&le instanceof Node&&xe!==le&&!le.isConnected){xe.removeEventListener(je,Ke);return}var re=c.makeContext(le,ge,le,Fe);if($.elsewhere&&le.contains(Fe.target))return;if($.from)re.result=xe;for(let vt of $.args){let An=re.event[vt.value];if(An!==void 0)re.locals[vt.value]=An;else if("detail"in re.event)re.locals[vt.value]=re.event.detail[vt.value]}if(re.meta.errorHandler=pt,re.meta.errorSymbol=Dt,re.meta.finallyHandler=Cn,$.filter){var ht=re.meta.context;re.meta.context=re.event;try{var li=$.filter.evaluate(re);if(li);else return}finally{re.meta.context=ht}}if($.inExpr){var ze=Fe.target;while(!0)if(ze.matches&&ze.matches($.inExpr.css)){re.result=ze;break}else if(ze=ze.parentElement,ze==null)return}if($.execCount++,$.startCount){if($.endCount){if($.execCount<$.startCount||$.execCount>$.endCount)return}else if($.unbounded){if($.execCount<$.startCount)return}else if($.execCount!==$.startCount)return}if($.debounceTime){if($.debounced)clearTimeout($.debounced);$.debounced=setTimeout(function(){ge.execute(re)},$.debounceTime);return}if($.throttleTime)if($.lastExec&&Date.now()<$.lastExec+$.throttleTime)return;else $.lastExec=Date.now();ge.execute(re)})})}}};return u.setParent(mt,ge),ge}),r.addFeature("def",function(u,c,n){if(!n.matchToken("def"))return;var a=u.requireElement("dotOrColonPath",n),p=a.evaluate(),s=p.split("."),m=s.pop(),T=[];if(n.matchOpToken("("))if(n.matchOpToken(")"));else{do T.push(n.requireTokenType("IDENTIFIER"));while(n.matchOpToken(","));n.requireOpToken(")")}var v=u.requireElement("commandList",n),x,C;if(n.matchToken("catch"))x=n.requireTokenType("IDENTIFIER").value,C=u.parseElement("commandList",n);if(n.matchToken("finally")){var S=u.requireElement("commandList",n);u.ensureTerminated(S)}var A={displayName:m+"("+T.map(function(L){return L.value}).join(", ")+")",name:m,args:T,start:v,errorHandler:C,errorSymbol:x,finallyHandler:S,install:function(L,H){var Y=function(){var W=c.makeContext(H,A,L,null);W.meta.errorHandler=C,W.meta.errorSymbol=x,W.meta.finallyHandler=S;for(var K=0;K<T.length;K++){var Z=T[K],he=arguments[K];if(Z)W.locals[Z.value]=he}if(W.meta.caller=arguments[T.length],W.meta.caller)W.meta.callingCommand=W.meta.caller.meta.command;var Ee,ne=null,ce=new Promise(function(Te,fe){Ee=Te,ne=fe});if(v.execute(W),W.meta.returned)return W.meta.returnValue;else return W.meta.resolve=Ee,W.meta.reject=ne,ce};Y.hyperfunc=!0,Y.hypername=p,c.assignToNamespace(L,s,m,Y)}};if(u.ensureTerminated(v),C)u.ensureTerminated(C);return u.setParent(v,A),A}),r.addFeature("set",function(u,c,n){let a=u.parseElement("setCommand",n);if(a){if(a.target.scope!=="element")u.raiseParseError(n,"variables declared at the feature level must be element scoped.");let p={start:a,install:function(s,m){a&&a.execute(c.makeContext(s,p,s,null))}};return u.ensureTerminated(a),p}}),r.addFeature("init",function(u,c,n){if(!n.matchToken("init"))return;var a=n.matchToken("immediately"),p=u.requireElement("commandList",n),s={start:p,install:function(m,T){let v=function(){p&&p.execute(c.makeContext(m,s,m,null))};if(a)v();else setTimeout(v,0)}};return u.ensureTerminated(p),u.setParent(p,s),s}),r.addFeature("worker",function(u,c,n){if(n.matchToken("worker")){u.raiseParseError(n,"In order to use the 'worker' feature, include the _hyperscript worker plugin. See https://hyperscript.org/features/worker/ for more info.");return}}),r.addFeature("behavior",function(u,c,n){if(!n.matchToken("behavior"))return;var a=u.requireElement("dotOrColonPath",n).evaluate(),p=a.split("."),s=p.pop(),m=[];if(n.matchOpToken("(")&&!n.matchOpToken(")")){do m.push(n.requireTokenType("IDENTIFIER").value);while(n.matchOpToken(","));n.requireOpToken(")")}var T=u.requireElement("hyperscript",n);for(var v=0;v<T.features.length;v++){var x=T.features[v];x.behavior=a}return{install:function(C,S){c.assignToNamespace(e.document&&e.document.body,p,s,function(A,L,H){var Y=c.getInternalData(A),W=ye(Y,a+"Scope");for(var K=0;K<m.length;K++)W[m[K]]=H[m[K]];T.apply(A,L)})}}}),r.addFeature("install",function(u,c,n){if(!n.matchToken("install"))return;var a=u.requireElement("dotOrColonPath",n).evaluate(),p=a.split("."),s=u.parseElement("namedArgumentList",n),m;return m={install:function(T,v){c.unifiedEval({args:[s],op:function(x,C){var S=e;for(var A=0;A<p.length;A++)if(S=S[p[A]],typeof S!=="object"&&typeof S!=="function")throw new Error("No such behavior defined as "+a);if(!(S instanceof Function))throw new Error(a+" is not a behavior");S(T,v,C)}},c.makeContext(T,m,T,null))}}}),r.addGrammarElement("jsBody",function(u,c,n){var a=n.currentToken().start,p=n.currentToken(),s=[],m="",T=!1;while(n.hasMore()){p=n.consumeToken();var v=n.token(0,!0);if(v.type==="IDENTIFIER"&&v.value==="end")break;if(T)if(p.type==="IDENTIFIER"||p.type==="NUMBER")m+=p.value;else{if(m!=="")s.push(m);m="",T=!1}else if(p.type==="IDENTIFIER"&&p.value==="function")T=!0}var x=p.end+1;return{type:"jsBody",exposedFunctionNames:s,jsSource:n.source.substring(a,x)}}),r.addFeature("js",function(u,c,n){if(!n.matchToken("js"))return;var a=u.requireElement("jsBody",n),p=a.jsSource+"\nreturn { "+a.exposedFunctionNames.map(function(m){return m+":"+m}).join(",")+" } ",s=new Function(p);return{jsSource:p,function:s,exposedFunctionNames:a.exposedFunctionNames,install:function(){Object.assign(e,s())}}}),r.addCommand("js",function(u,c,n){if(!n.matchToken("js"))return;var a=[];if(n.matchOpToken("("))if(n.matchOpToken(")"));else{do{var p=n.requireTokenType("IDENTIFIER");a.push(p.value)}while(n.matchOpToken(","));n.requireOpToken(")")}var s=u.requireElement("jsBody",n);n.matchToken("end");var m=V(Function,a.concat([s.jsSource])),T={jsSource:s.jsSource,function:m,inputs:a,op:function(v){var x=[];a.forEach(function(S){x.push(c.resolveSymbol(S,v,"default"))});var C=m.apply(e,x);if(C&&typeof C.then==="function")return new Promise(function(S){C.then(function(A){v.result=A,S(c.findNext(this,v))})});else return v.result=C,c.findNext(this,v)}};return T}),r.addCommand("async",function(u,c,n){if(!n.matchToken("async"))return;if(n.matchToken("do")){var a=u.requireElement("commandList",n),p=a;while(p.next)p=p.next;p.next=c.HALT,n.requireToken("end")}else var a=u.requireElement("command",n);var s={body:a,op:function(m){return setTimeout(function(){a.execute(m)}),c.findNext(this,m)}};return u.setParent(a,s),s}),r.addCommand("tell",function(u,c,n){var a=n.currentToken();if(!n.matchToken("tell"))return;var p=u.requireElement("expression",n),s=u.requireElement("commandList",n);if(n.hasMore()&&!u.featureStart(n.currentToken()))n.requireToken("end");var m="tell_"+a.start,T={value:p,body:s,args:[p],resolveNext:function(v){var x=v.meta.iterators[m];if(x.index<x.value.length)return v.you=x.value[x.index++],s;else if(v.you=x.originalYou,this.next)return this.next;else return c.findNext(this.parent,v)},op:function(v,x){if(x==null)x=[];else if(!(Array.isArray(x)||x instanceof NodeList))x=[x];return v.meta.iterators[m]={originalYou:v.you,index:0,value:x},this.resolveNext(v)}};return u.setParent(s,T),T}),r.addCommand("wait",function(u,c,n){if(!n.matchToken("wait"))return;var a;if(n.matchToken("for")){n.matchToken("a");var p=[];do{var s=n.token(0);if(s.type==="NUMBER"||s.type==="L_PAREN")p.push({time:u.requireElement("expression",n).evaluate()});else p.push({name:u.requireElement("dotOrColonPath",n,"Expected event name").evaluate(),args:I(n)})}while(n.matchToken("or"));if(n.matchToken("from"))var m=u.requireElement("expression",n);return a={event:p,on:m,args:[m],op:function(v,x){var C=x?x:v.me;if(!(C instanceof EventTarget))throw new Error("Not a valid event target: "+this.on.sourceFor());return new Promise((S)=>{var A=!1;for(let H of p){var L=(Y)=>{if(v.result=Y,H.args)for(let W of H.args)v.locals[W.value]=Y[W.value]||(Y.detail?Y.detail[W.value]:null);if(!A)A=!0,S(c.findNext(this,v))};if(H.name)C.addEventListener(H.name,L,{once:!0});else if(H.time!=null)setTimeout(L,H.time,H.time)}})}},a}else{var T;if(n.matchToken("a"))n.requireToken("tick"),T=0;else T=u.requireElement("expression",n);return a={type:"waitCmd",time:T,args:[T],op:function(v,x){return new Promise((C)=>{setTimeout(()=>{C(c.findNext(this,v))},x)})},execute:function(v){return c.unifiedExec(this,v)}},a}}),r.addGrammarElement("dotOrColonPath",function(u,c,n){var a=n.matchTokenType("IDENTIFIER");if(a){var p=[a.value],s=n.matchOpToken(".")||n.matchOpToken(":");if(s)do p.push(n.requireTokenType("IDENTIFIER","NUMBER").value);while(n.matchOpToken(s.value));return{type:"dotOrColonPath",path:p,evaluate:function(){return p.join(s?s.value:"")}}}}),r.addGrammarElement("eventName",function(u,c,n){var a;if(a=n.matchTokenType("STRING"))return{evaluate:function(){return a.value}};return u.parseElement("dotOrColonPath",n)});function R(u,c,n,a){var p=c.requireElement("eventName",a),s=c.parseElement("namedArgumentList",a);if(u==="send"&&a.matchToken("to")||u==="trigger"&&a.matchToken("on"))var m=c.requireElement("expression",a);else var m=c.requireElement("implicitMeTarget",a);var T={eventName:p,details:s,to:m,args:[m,p,s],op:function(v,x,C,S){return n.nullCheck(x,m),n.implicitLoop(x,function(A){n.triggerEvent(A,C,S,v.me)}),n.findNext(T,v)}};return T}r.addCommand("trigger",function(u,c,n){if(n.matchToken("trigger"))return R("trigger",u,c,n)}),r.addCommand("send",function(u,c,n){if(n.matchToken("send"))return R("send",u,c,n)});var O=function(u,c,n,a){if(a)if(u.commandBoundary(n.currentToken()))u.raiseParseError(n,"'return' commands must return a value.  If you do not wish to return a value, use 'exit' instead.");else var p=u.requireElement("expression",n);var s={value:p,args:[p],op:function(m,T){var v=m.meta.resolve;if(m.meta.returned=!0,m.meta.returnValue=T,v)if(T)v(T);else v();return c.HALT}};return s};r.addCommand("return",function(u,c,n){if(n.matchToken("return"))return O(u,c,n,!0)}),r.addCommand("exit",function(u,c,n){if(n.matchToken("exit"))return O(u,c,n,!1)}),r.addCommand("halt",function(u,c,n){if(n.matchToken("halt")){if(n.matchToken("the")){if(n.requireToken("event"),n.matchOpToken("'"))n.requireToken("s");var a=!0}if(n.matchToken("bubbling"))var p=!0;else if(n.matchToken("default"))var s=!0;var m=O(u,c,n,!1),T={keepExecuting:!0,bubbling:p,haltDefault:s,exit:m,op:function(v){if(v.event){if(p)v.event.stopPropagation();else if(s)v.event.preventDefault();else v.event.stopPropagation(),v.event.preventDefault();if(a)return c.findNext(this,v);else return m}}};return T}}),r.addCommand("log",function(u,c,n){if(!n.matchToken("log"))return;var a=[u.parseElement("expression",n)];while(n.matchOpToken(","))a.push(u.requireElement("expression",n));if(n.matchToken("with"))var p=u.requireElement("expression",n);var s={exprs:a,withExpr:p,args:[p,a],op:function(m,T,v){if(T)T.apply(null,v);else console.log.apply(null,v);return c.findNext(this,m)}};return s}),r.addCommand("beep!",function(u,c,n){if(!n.matchToken("beep!"))return;var a=[u.parseElement("expression",n)];while(n.matchOpToken(","))a.push(u.requireElement("expression",n));var p={exprs:a,args:[a],op:function(s,m){for(let T=0;T<a.length;T++){const v=a[T],x=m[T];c.beepValueToConsole(s.me,v,x)}return c.findNext(this,s)}};return p}),r.addCommand("throw",function(u,c,n){if(!n.matchToken("throw"))return;var a=u.requireElement("expression",n),p={expr:a,args:[a],op:function(s,m){throw c.registerHyperTrace(s,m),m}};return p});var M=function(u,c,n){var a=u.requireElement("expression",n),p={expr:a,args:[a],op:function(s,m){return s.result=m,c.findNext(p,s)}};return p};r.addCommand("call",function(u,c,n){if(!n.matchToken("call"))return;var a=M(u,c,n);if(a.expr&&a.expr.type!=="functionCall")u.raiseParseError(n,"Must be a function invocation");return a}),r.addCommand("get",function(u,c,n){if(n.matchToken("get"))return M(u,c,n)}),r.addCommand("make",function(u,c,n){if(!n.matchToken("make"))return;n.matchToken("a")||n.matchToken("an");var a=u.requireElement("expression",n),p=[];if(a.type!=="queryRef"&&n.matchToken("from"))do p.push(u.requireElement("expression",n));while(n.matchOpToken(","));if(n.matchToken("called"))var s=u.requireElement("symbol",n);var m;if(a.type==="queryRef")return m={op:function(T){var v,x="div",C,S=[],A=/(?:(^|#|\.)([^#\. ]+))/g;while(v=A.exec(a.css))if(v[1]==="")x=v[2].trim();else if(v[1]==="#")C=v[2].trim();else S.push(v[2].trim());var L=document.createElement(x);if(C!==void 0)L.id=C;for(var H=0;H<S.length;H++){var Y=S[H];L.classList.add(Y)}if(T.result=L,s)c.setSymbol(s.name,T,s.scope,L);return c.findNext(this,T)}},m;else return m={args:[a,p],op:function(T,v,x){if(T.result=V(v,x),s)c.setSymbol(s.name,T,s.scope,T.result);return c.findNext(this,T)}},m}),r.addGrammarElement("pseudoCommand",function(u,c,n){let a=n.token(1);if(!(a&&a.op&&(a.value==="."||a.value==="(")))return null;var p=u.requireElement("primaryExpression",n),s=p.root,m=p;while(s.root!=null)m=m.root,s=s.root;if(p.type!=="functionCall")u.raiseParseError(n,"Pseudo-commands must be function calls");if(m.type==="functionCall"&&m.root.root==null){if(n.matchAnyToken("the","to","on","with","into","from","at"))var T=u.requireElement("expression",n);else if(n.matchToken("me"))var T=u.requireElement("implicitMeTarget",n)}var v;if(T)v={type:"pseudoCommand",root:T,argExressions:m.argExressions,args:[T,m.argExressions],op:function(x,C,S){c.nullCheck(C,T);var A=C[m.root.name];if(c.nullCheck(A,m),A.hyperfunc)S.push(x);return x.result=A.apply(C,S),c.findNext(v,x)},execute:function(x){return c.unifiedExec(this,x)}};else v={type:"pseudoCommand",expr:p,args:[p],op:function(x,C){return x.result=C,c.findNext(v,x)},execute:function(x){return c.unifiedExec(this,x)}};return v});var P=function(u,c,n,a,p){var s=a.type==="symbol",m=a.type==="attributeRef",T=a.type==="styleRef",v=a.type==="arrayIndex";if(!(m||T||s)&&a.root==null)u.raiseParseError(n,"Can only put directly into symbols, not references");var x=null,C=null;if(s);else if(m||T){x=u.requireElement("implicitMeTarget",n);var S=a}else if(v)C=a.firstIndex,x=a.root;else{C=a.prop?a.prop.value:null;var S=a.attribute;x=a.root}var A={target:a,symbolWrite:s,value:p,args:[x,C,p],op:function(L,H,Y,W){if(s)c.setSymbol(a.name,L,a.scope,W);else if(c.nullCheck(H,x),v)H[Y]=W;else c.implicitLoop(H,function(K){if(S)if(S.type==="attributeRef")if(W==null)K.removeAttribute(S.name);else K.setAttribute(S.name,W);else K.style[S.name]=W;else K[Y]=W});return c.findNext(this,L)}};return A};r.addCommand("default",function(u,c,n){if(!n.matchToken("default"))return;var a=u.requireElement("assignableExpression",n);n.requireToken("to");var p=u.requireElement("expression",n),s=P(u,c,n,a,p),m={target:a,value:p,setter:s,args:[a],op:function(T,v){if(v)return c.findNext(this,T);else return s}};return s.parent=m,m}),r.addCommand("set",function(u,c,n){if(!n.matchToken("set"))return;if(n.currentToken().type==="L_BRACE"){var a=u.requireElement("objectLiteral",n);n.requireToken("on");var p=u.requireElement("expression",n),s={objectLiteral:a,target:p,args:[a,p],op:function(T,v,x){return Object.assign(x,v),c.findNext(this,T)}};return s}try{n.pushFollow("to");var p=u.requireElement("assignableExpression",n)}finally{n.popFollow()}n.requireToken("to");var m=u.requireElement("expression",n);return P(u,c,n,p,m)}),r.addCommand("if",function(u,c,n){if(!n.matchToken("if"))return;var a=u.requireElement("expression",n);n.matchToken("then");var p=u.parseElement("commandList",n),s=!1;let m=n.matchToken("else")||n.matchToken("otherwise");if(m){let x=n.peekToken("if");if(s=x!=null&&x.line===m.line,s)var T=u.parseElement("command",n);else var T=u.parseElement("commandList",n)}if(n.hasMore()&&!s)n.requireToken("end");var v={expr:a,trueBranch:p,falseBranch:T,args:[a],op:function(x,C){if(C)return p;else if(T)return T;else return c.findNext(this,x)}};return u.setParent(p,v),u.setParent(T,v),v});var D=function(u,c,n,a){var p=c.currentToken(),s;if(c.matchToken("for")||a){var m=c.requireTokenType("IDENTIFIER");s=m.value,c.requireToken("in");var T=u.requireElement("expression",c)}else if(c.matchToken("in")){s="it";var T=u.requireElement("expression",c)}else if(c.matchToken("while"))var v=u.requireElement("expression",c);else if(c.matchToken("until")){var x=!0;if(c.matchToken("event")){var C=u.requireElement("dotOrColonPath",c,"Expected event name");if(c.matchToken("from"))var S=u.requireElement("expression",c)}else var v=u.requireElement("expression",c)}else if(!u.commandBoundary(c.currentToken())&&c.currentToken().value!=="forever"){var A=u.requireElement("expression",c);c.requireToken("times")}else{c.matchToken("forever");var L=!0}if(c.matchToken("index"))var m=c.requireTokenType("IDENTIFIER"),H=m.value;var Y=u.parseElement("commandList",c);if(Y&&C){var W=Y;while(W.next)W=W.next;var K={type:"waitATick",op:function(){return new Promise(function(ne){setTimeout(function(){ne(n.findNext(K))},0)})}};W.next=K}if(c.hasMore())c.requireToken("end");if(s==null){s="_implicit_repeat_"+p.start;var Z=s}else var Z=s+"_"+p.start;var he={identifier:s,indexIdentifier:H,slot:Z,expression:T,forever:L,times:A,until:x,event:C,on:S,whileExpr:v,resolveNext:function(){return this},loop:Y,args:[v,A],op:function(ne,ce,Te){var fe=ne.meta.iterators[Z],ve=!1,Be=null;if(this.forever)ve=!0;else if(this.until)if(C)ve=ne.meta.iterators[Z].eventFired===!1;else ve=ce!==!0;else if(v)ve=ce;else if(Te)ve=fe.index<Te;else{var Ve=fe.iterator.next();ve=!Ve.done,Be=Ve.value}if(ve){if(fe.value)ne.result=ne.locals[s]=Be;else ne.result=fe.index;if(H)ne.locals[H]=fe.index;return fe.index++,Y}else return ne.meta.iterators[Z]=null,n.findNext(this.parent,ne)}};u.setParent(Y,he);var Ee={name:"repeatInit",args:[T,C,S],op:function(ne,ce,Te,fe){var ve={index:0,value:ce,eventFired:!1};if(ne.meta.iterators[Z]=ve,ce&&ce[Symbol.iterator])ve.iterator=ce[Symbol.iterator]();if(C){var Be=fe||ne.me;Be.addEventListener(Te,function(Ve){ne.meta.iterators[Z].eventFired=!0},{once:!0})}return he},execute:function(ne){return n.unifiedExec(this,ne)}};return u.setParent(he,Ee),Ee};r.addCommand("repeat",function(u,c,n){if(n.matchToken("repeat"))return D(u,n,c,!1)}),r.addCommand("for",function(u,c,n){if(n.matchToken("for"))return D(u,n,c,!0)}),r.addCommand("continue",function(u,c,n){if(!n.matchToken("continue"))return;var a={op:function(p){for(var s=this.parent;;s=s.parent){if(s==null)u.raiseParseError(n,"Command `continue` cannot be used outside of a `repeat` loop.");if(s.loop!=null)return s.resolveNext(p)}}};return a}),r.addCommand("break",function(u,c,n){if(!n.matchToken("break"))return;var a={op:function(p){for(var s=this.parent;;s=s.parent){if(s==null)u.raiseParseError(n,"Command `continue` cannot be used outside of a `repeat` loop.");if(s.loop!=null)return c.findNext(s.parent,p)}}};return a}),r.addGrammarElement("stringLike",function(u,c,n){return u.parseAnyOf(["string","nakedString"],n)}),r.addCommand("append",function(u,c,n){if(!n.matchToken("append"))return;var a=null,p=u.requireElement("expression",n),s={type:"symbol",evaluate:function(v){return c.resolveSymbol("result",v)}};if(n.matchToken("to"))a=u.requireElement("expression",n);else a=s;var m=null;if(a.type==="symbol"||a.type==="attributeRef"||a.root!=null)m=P(u,c,n,a,s);var T={value:p,target:a,args:[a,p],op:function(v,x,C){if(Array.isArray(x))return x.push(C),c.findNext(this,v);else if(x instanceof Element)return x.innerHTML+=C,c.findNext(this,v);else if(m)return v.result=(x||"")+C,m;else throw Error("Unable to append a value!")},execute:function(v){return c.unifiedExec(this,v)}};if(m!=null)m.parent=T;return T});function _(u,c,n){n.matchToken("at")||n.matchToken("from");const a={includeStart:!0,includeEnd:!1};if(a.from=n.matchToken("start")?0:u.requireElement("expression",n),n.matchToken("to")||n.matchOpToken(".."))if(n.matchToken("end"))a.toEnd=!0;else a.to=u.requireElement("expression",n);if(n.matchToken("inclusive"))a.includeEnd=!0;else if(n.matchToken("exclusive"))a.includeStart=!1;return a}class U{constructor(u,c){this.re=u,this.str=c}next(){const u=this.re.exec(this.str);if(u===null)return{done:!0};else return{value:u}}}class z{constructor(u,c,n){this.re=u,this.flags=c,this.str=n}[Symbol.iterator](){return new U(new RegExp(this.re,this.flags),this.str)}}r.addCommand("pick",(u,c,n)=>{if(!n.matchToken("pick"))return;if(n.matchToken("the"),n.matchToken("item")||n.matchToken("items")||n.matchToken("character")||n.matchToken("characters")){const a=_(u,c,n);return n.requireToken("from"),{args:[u.requireElement("expression",n),a.from,a.to],op(s,m,T,v){if(a.toEnd)v=m.length;if(!a.includeStart)T++;if(a.includeEnd)v++;if(v==null||v==null)v=T+1;return s.result=m.slice(T,v),c.findNext(this,s)}}}if(n.matchToken("match")){n.matchToken("of");const a=u.parseElement("expression",n);let p="";if(n.matchOpToken("|"))p=n.requireToken("identifier").value;return n.requireToken("from"),{args:[u.parseElement("expression",n),a],op(m,T,v){return m.result=new RegExp(v,p).exec(T),c.findNext(this,m)}}}if(n.matchToken("matches")){n.matchToken("of");const a=u.parseElement("expression",n);let p="gu";if(n.matchOpToken("|"))p="g"+n.requireToken("identifier").value.replace("g","");return console.log("flags",p),n.requireToken("from"),{args:[u.parseElement("expression",n),a],op(m,T,v){return m.result=new z(v,p,T),c.findNext(this,m)}}}}),r.addCommand("increment",function(u,c,n){if(!n.matchToken("increment"))return;var a,p=u.parseElement("assignableExpression",n);if(n.matchToken("by"))a=u.requireElement("expression",n);var s={type:"implicitIncrementOp",target:p,args:[p,a],op:function(m,T,v){T=T?parseFloat(T):0,v=a?parseFloat(v):1;var x=T+v;return m.result=x,x},evaluate:function(m){return c.unifiedEval(this,m)}};return P(u,c,n,p,s)}),r.addCommand("decrement",function(u,c,n){if(!n.matchToken("decrement"))return;var a,p=u.parseElement("assignableExpression",n);if(n.matchToken("by"))a=u.requireElement("expression",n);var s={type:"implicitDecrementOp",target:p,args:[p,a],op:function(m,T,v){T=T?parseFloat(T):0,v=a?parseFloat(v):1;var x=T-v;return m.result=x,x},evaluate:function(m){return c.unifiedEval(this,m)}};return P(u,c,n,p,s)});function j(u,c){var n="text",a;if(u.matchToken("a")||u.matchToken("an"),u.matchToken("json")||u.matchToken("Object"))n="json";else if(u.matchToken("response"))n="response";else if(u.matchToken("html"))n="html";else if(u.matchToken("text"));else a=c.requireElement("dotOrColonPath",u).evaluate();return{type:n,conversion:a}}r.addCommand("fetch",function(u,c,n){if(!n.matchToken("fetch"))return;var a=u.requireElement("stringLike",n);if(n.matchToken("as"))var p=j(n,u);if(n.matchToken("with")&&n.currentToken().value!=="{")var s=u.parseElement("nakedNamedArgumentList",n);else var s=u.parseElement("objectLiteral",n);if(p==null&&n.matchToken("as"))p=j(n,u);var m=p?p.type:"text",T=p?p.conversion:null,v={url:a,argExpressions:s,args:[a,s],op:function(x,C,S){var A=S||{};A.sender=x.me,A.headers=A.headers||{};var L=new AbortController;let H=x.me.addEventListener("fetch:abort",function(){L.abort()},{once:!0});A.signal=L.signal,c.triggerEvent(x.me,"hyperscript:beforeFetch",A),c.triggerEvent(x.me,"fetch:beforeRequest",A),S=A;var Y=!1;if(S.timeout)setTimeout(function(){if(!Y)L.abort()},S.timeout);return fetch(C,S).then(function(W){let K={response:W};if(c.triggerEvent(x.me,"fetch:afterResponse",K),W=K.response,m==="response")return x.result=W,c.triggerEvent(x.me,"fetch:afterRequest",{result:W}),Y=!0,c.findNext(v,x);if(m==="json")return W.json().then(function(Z){return x.result=Z,c.triggerEvent(x.me,"fetch:afterRequest",{result:Z}),Y=!0,c.findNext(v,x)});return W.text().then(function(Z){if(T)Z=c.convertValue(Z,T);if(m==="html")Z=c.convertValue(Z,"Fragment");return x.result=Z,c.triggerEvent(x.me,"fetch:afterRequest",{result:Z}),Y=!0,c.findNext(v,x)})}).catch(function(W){throw c.triggerEvent(x.me,"fetch:error",{reason:W}),W}).finally(function(){x.me.removeEventListener("fetch:abort",H)})}};return v})}function ue(r){r.addCommand("settle",function(q,g,E){if(E.matchToken("settle")){if(!q.commandBoundary(E.currentToken()))var I=q.requireElement("expression",E);else var I=q.requireElement("implicitMeTarget",E);var R={type:"settleCmd",args:[I],op:function(O,M){g.nullCheck(M,I);var P=null,D=!1,_=!1,U=new Promise(function(z){P=z});return M.addEventListener("transitionstart",function(){_=!0},{once:!0}),setTimeout(function(){if(!_&&!D)P(g.findNext(R,O))},500),M.addEventListener("transitionend",function(){if(!D)P(g.findNext(R,O))},{once:!0}),U},execute:function(O){return g.unifiedExec(this,O)}};return R}}),r.addCommand("add",function(q,g,E){if(E.matchToken("add")){var I=q.parseElement("classRef",E),R=null,O=null;if(I==null){if(R=q.parseElement("attributeRef",E),R==null){if(O=q.parseElement("styleLiteral",E),O==null)q.raiseParseError(E,"Expected either a class reference or attribute expression")}}else{var M=[I];while(I=q.parseElement("classRef",E))M.push(I)}if(E.matchToken("to"))var P=q.requireElement("expression",E);else var P=q.requireElement("implicitMeTarget",E);if(E.matchToken("when")){if(O)q.raiseParseError(E,"Only class and properties are supported with a when clause");var D=q.requireElement("expression",E)}if(M)return{classRefs:M,to:P,args:[P,M],op:function(_,U,z){return g.nullCheck(U,P),g.forEach(z,function(j){g.implicitLoop(U,function(u){if(D){if(_.result=u,g.evaluateNoPromise(D,_)){if(u instanceof Element)u.classList.add(j.className)}else if(u instanceof Element)u.classList.remove(j.className);_.result=null}else if(u instanceof Element)u.classList.add(j.className)})}),g.findNext(this,_)}};else if(R)return{type:"addCmd",attributeRef:R,to:P,args:[P],op:function(_,U,z){return g.nullCheck(U,P),g.implicitLoop(U,function(j){if(D){if(_.result=j,g.evaluateNoPromise(D,_))j.setAttribute(R.name,R.value);else j.removeAttribute(R.name);_.result=null}else j.setAttribute(R.name,R.value)}),g.findNext(this,_)},execute:function(_){return g.unifiedExec(this,_)}};else return{type:"addCmd",cssDeclaration:O,to:P,args:[P,O],op:function(_,U,z){return g.nullCheck(U,P),g.implicitLoop(U,function(j){j.style.cssText+=z}),g.findNext(this,_)},execute:function(_){return g.unifiedExec(this,_)}}}}),r.addGrammarElement("styleLiteral",function(q,g,E){if(!E.matchOpToken("{"))return;var I=[""],R=[];while(E.hasMore()){if(E.matchOpToken("\\"))E.consumeToken();else if(E.matchOpToken("}"))break;else if(E.matchToken("$")){var O=E.matchOpToken("{"),M=q.parseElement("expression",E);if(O)E.requireOpToken("}");R.push(M),I.push("")}else{var P=E.consumeToken();I[I.length-1]+=E.source.substring(P.start,P.end)}I[I.length-1]+=E.lastWhitespace()}return{type:"styleLiteral",args:[R],op:function(D,_){var U="";return I.forEach(function(z,j){if(U+=z,j in _)U+=_[j]}),U},evaluate:function(D){return g.unifiedEval(this,D)}}}),r.addCommand("remove",function(q,g,E){if(E.matchToken("remove")){var I=q.parseElement("classRef",E),R=null,O=null;if(I==null){if(R=q.parseElement("attributeRef",E),R==null){if(O=q.parseElement("expression",E),O==null)q.raiseParseError(E,"Expected either a class reference, attribute expression or value expression")}}else{var M=[I];while(I=q.parseElement("classRef",E))M.push(I)}if(E.matchToken("from"))var P=q.requireElement("expression",E);else if(O==null)var P=q.requireElement("implicitMeTarget",E);if(O)return{elementExpr:O,from:P,args:[O,P],op:function(D,_,U){return g.nullCheck(_,O),g.implicitLoop(_,function(z){if(z.parentElement&&(U==null||U.contains(z)))z.parentElement.removeChild(z)}),g.findNext(this,D)}};else return{classRefs:M,attributeRef:R,elementExpr:O,from:P,args:[M,P],op:function(D,_,U){if(g.nullCheck(U,P),_)g.forEach(_,function(z){g.implicitLoop(U,function(j){j.classList.remove(z.className)})});else g.implicitLoop(U,function(z){z.removeAttribute(R.name)});return g.findNext(this,D)}}}}),r.addCommand("toggle",function(q,g,E){if(E.matchToken("toggle")){if(E.matchAnyToken("the","my"),E.currentToken().type==="STYLE_REF"){var I=E.consumeToken().value.substr(1),R=!0,O=y(q,E,I);if(E.matchToken("of")){E.pushFollow("with");try{var M=q.requireElement("expression",E)}finally{E.popFollow()}}else var M=q.requireElement("implicitMeTarget",E)}else if(E.matchToken("between")){var P=!0,D=q.parseElement("classRef",E);E.requireToken("and");var _=q.requireElement("classRef",E)}else{var D=q.parseElement("classRef",E),U=null;if(D==null){if(U=q.parseElement("attributeRef",E),U==null)q.raiseParseError(E,"Expected either a class reference or attribute expression")}else{var z=[D];while(D=q.parseElement("classRef",E))z.push(D)}}if(R!==!0)if(E.matchToken("on"))var M=q.requireElement("expression",E);else var M=q.requireElement("implicitMeTarget",E);if(E.matchToken("for"))var j=q.requireElement("expression",E);else if(E.matchToken("until")){var u=q.requireElement("dotOrColonPath",E,"Expected event name");if(E.matchToken("from"))var c=q.requireElement("expression",E)}var n={classRef:D,classRef2:_,classRefs:z,attributeRef:U,on:M,time:j,evt:u,from:c,toggle:function(a,p,s,m){if(g.nullCheck(a,M),R)g.implicitLoop(a,function(T){O("toggle",T)});else if(P)g.implicitLoop(a,function(T){if(T.classList.contains(p.className))T.classList.remove(p.className),T.classList.add(s.className);else T.classList.add(p.className),T.classList.remove(s.className)});else if(m)g.forEach(m,function(T){g.implicitLoop(a,function(v){v.classList.toggle(T.className)})});else g.forEach(a,function(T){if(T.hasAttribute(U.name))T.removeAttribute(U.name);else T.setAttribute(U.name,U.value)})},args:[M,j,u,c,D,_,z],op:function(a,p,s,m,T,v,x,C){if(s)return new Promise(function(S){n.toggle(p,v,x,C),setTimeout(function(){n.toggle(p,v,x,C),S(g.findNext(n,a))},s)});else if(m)return new Promise(function(S){var A=T||a.me;A.addEventListener(m,function(){n.toggle(p,v,x,C),S(g.findNext(n,a))},{once:!0}),n.toggle(p,v,x,C)});else return this.toggle(p,v,x,C),g.findNext(n,a)}};return n}});var l={display:function(q,g,E){if(E)g.style.display=E;else if(q==="toggle")if(getComputedStyle(g).display==="none")l.display("show",g,E);else l.display("hide",g,E);else if(q==="hide"){const I=r.runtime.getInternalData(g);if(I.originalDisplay==null)I.originalDisplay=g.style.display;g.style.display="none"}else{const I=r.runtime.getInternalData(g);if(I.originalDisplay&&I.originalDisplay!=="none")g.style.display=I.originalDisplay;else g.style.removeProperty("display")}},visibility:function(q,g,E){if(E)g.style.visibility=E;else if(q==="toggle")if(getComputedStyle(g).visibility==="hidden")l.visibility("show",g,E);else l.visibility("hide",g,E);else if(q==="hide")g.style.visibility="hidden";else g.style.visibility="visible"},opacity:function(q,g,E){if(E)g.style.opacity=E;else if(q==="toggle")if(getComputedStyle(g).opacity==="0")l.opacity("show",g,E);else l.opacity("hide",g,E);else if(q==="hide")g.style.opacity="0";else g.style.opacity="1"}},d=function(q,g,E){var I,R=E.currentToken();if(R.value==="when"||R.value==="with"||q.commandBoundary(R))I=q.parseElement("implicitMeTarget",E);else I=q.parseElement("expression",E);return I},y=function(q,g,E){var I=i.defaultHideShowStrategy,R=l;if(i.hideShowStrategies)R=Object.assign(R,i.hideShowStrategies);E=E||I||"display";var O=R[E];if(O==null)q.raiseParseError(g,"Unknown show/hide strategy : "+E);return O};r.addCommand("hide",function(q,g,E){if(E.matchToken("hide")){var I=d(q,g,E),R=null;if(E.matchToken("with")){if(R=E.requireTokenType("IDENTIFIER","STYLE_REF").value,R.indexOf("*")===0)R=R.substr(1)}var O=y(q,E,R);return{target:I,args:[I],op:function(M,P){return g.nullCheck(P,I),g.implicitLoop(P,function(D){O("hide",D)}),g.findNext(this,M)}}}}),r.addCommand("show",function(q,g,E){if(E.matchToken("show")){var I=d(q,g,E),R=null;if(E.matchToken("with")){if(R=E.requireTokenType("IDENTIFIER","STYLE_REF").value,R.indexOf("*")===0)R=R.substr(1)}var O=null;if(E.matchOpToken(":")){var M=E.consumeUntilWhitespace();E.matchTokenType("WHITESPACE"),O=M.map(function(_){return _.value}).join("")}if(E.matchToken("when"))var P=q.requireElement("expression",E);var D=y(q,E,R);return{target:I,when:P,args:[I],op:function(_,U){return g.nullCheck(U,I),g.implicitLoop(U,function(z){if(P){if(_.result=z,g.evaluateNoPromise(P,_))D("show",z,O);else D("hide",z);_.result=null}else D("show",z,O)}),g.findNext(this,_)}}}}),r.addCommand("take",function(q,g,E){if(E.matchToken("take")){let D=null,_=[];while(D=q.parseElement("classRef",E))_.push(D);var I=null,R=null;let U=_.length>0;if(!U){if(I=q.parseElement("attributeRef",E),I==null)q.raiseParseError(E,"Expected either a class reference or attribute expression");if(E.matchToken("with"))R=q.requireElement("expression",E)}if(E.matchToken("from"))var O=q.requireElement("expression",E);if(E.matchToken("for"))var M=q.requireElement("expression",E);else var M=q.requireElement("implicitMeTarget",E);if(U){var P={classRefs:_,from:O,forElt:M,args:[_,O,M],op:function(z,j,u,c){return g.nullCheck(c,M),g.implicitLoop(j,function(n){var a=n.className;if(u)g.implicitLoop(u,function(p){p.classList.remove(a)});else g.implicitLoop(n,function(p){p.classList.remove(a)});g.implicitLoop(c,function(p){p.classList.add(a)})}),g.findNext(this,z)}};return P}else{var P={attributeRef:I,from:O,forElt:M,args:[O,M,R],op:function(j,u,c,n){return g.nullCheck(u,O),g.nullCheck(c,M),g.implicitLoop(u,function(a){if(!n)a.removeAttribute(I.name);else a.setAttribute(I.name,n)}),g.implicitLoop(c,function(a){a.setAttribute(I.name,I.value||"")}),g.findNext(this,j)}};return P}}});function w(q,g,E,I){if(E!=null)var R=q.resolveSymbol(E,g);else var R=g;if(R instanceof Element||R instanceof HTMLDocument){while(R.firstChild)R.removeChild(R.firstChild);R.append(r.runtime.convertValue(I,"Fragment")),q.processNode(R)}else if(E!=null)q.setSymbol(E,g,null,I);else throw"Don't know how to put a value into "+typeof g}r.addCommand("put",function(q,g,E){if(E.matchToken("put")){var I=q.requireElement("expression",E),R=E.matchAnyToken("into","before","after");if(R==null&&E.matchToken("at"))E.matchToken("the"),R=E.matchAnyToken("start","end"),E.requireToken("of");if(R==null)q.raiseParseError(E,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'");var O=q.requireElement("expression",E),M=R.value,P=!1,D=!1,_=null,U=null;if(O.type==="arrayIndex"&&M==="into")P=!0,U=O.prop,_=O.root;else if(O.prop&&O.root&&M==="into")U=O.prop.value,_=O.root;else if(O.type==="symbol"&&M==="into")D=!0,U=O.name;else if(O.type==="attributeRef"&&M==="into"){var z=!0;U=O.name,_=q.requireElement("implicitMeTarget",E)}else if(O.type==="styleRef"&&M==="into"){var j=!0;U=O.name,_=q.requireElement("implicitMeTarget",E)}else if(O.attribute&&M==="into"){var z=O.attribute.type==="attributeRef",j=O.attribute.type==="styleRef";U=O.attribute.name,_=O.root}else _=O;var u={target:O,operation:M,symbolWrite:D,value:I,args:[_,U,I],op:function(c,n,a,p){if(D)w(g,c,a,p);else if(g.nullCheck(n,_),M==="into")if(z)g.implicitLoop(n,function(m){m.setAttribute(a,p)});else if(j)g.implicitLoop(n,function(m){m.style[a]=p});else if(P)n[a]=p;else g.implicitLoop(n,function(m){w(g,m,a,p)});else{var s=M==="before"?Element.prototype.before:M==="after"?Element.prototype.after:M==="start"?Element.prototype.prepend:M==="end"?Element.prototype.append:Element.prototype.append;g.implicitLoop(n,function(m){if(s.call(m,p instanceof Node?p:g.convertValue(p,"Fragment")),m.parentElement)g.processNode(m.parentElement);else g.processNode(m)})}return g.findNext(this,c)}};return u}});function F(q,g,E){var I;if(E.matchToken("the")||E.matchToken("element")||E.matchToken("elements")||E.currentToken().type==="CLASS_REF"||E.currentToken().type==="ID_REF"||E.currentToken().op&&E.currentToken().value==="<"){q.possessivesDisabled=!0;try{I=q.parseElement("expression",E)}finally{delete q.possessivesDisabled}if(E.matchOpToken("'"))E.requireToken("s")}else if(E.currentToken().type==="IDENTIFIER"&&E.currentToken().value==="its"){var R=E.matchToken("its");I={type:"pseudopossessiveIts",token:R,name:R.value,evaluate:function(O){return g.resolveSymbol("it",O)}}}else E.matchToken("my")||E.matchToken("me"),I=q.parseElement("implicitMeTarget",E);return I}r.addCommand("transition",function(q,g,E){if(E.matchToken("transition")){var I=F(q,g,E),R=[],O=[],M=[],P=E.currentToken();while(!q.commandBoundary(P)&&P.value!=="over"&&P.value!=="using"){if(E.currentToken().type==="STYLE_REF"){let j=E.consumeToken().value.substr(1);R.push({type:"styleRefValue",evaluate:function(){return j}})}else R.push(q.requireElement("stringLike",E));if(E.matchToken("from"))O.push(q.requireElement("expression",E));else O.push(null);if(E.requireToken("to"),E.matchToken("initial"))M.push({type:"initial_literal",evaluate:function(){return"initial"}});else M.push(q.requireElement("expression",E));P=E.currentToken()}if(E.matchToken("over"))var D=q.requireElement("expression",E);else if(E.matchToken("using"))var _=q.requireElement("expression",E);var U={to:M,args:[I,R,O,M,_,D],op:function(z,j,u,c,n,a,p){g.nullCheck(j,I);var s=[];return g.implicitLoop(j,function(m){var T=new Promise(function(v,x){var C=m.style.transition;if(p)m.style.transition="all "+p+"ms ease-in";else if(a)m.style.transition=a;else m.style.transition=i.defaultTransition;var S=g.getInternalData(m),A=getComputedStyle(m),L={};for(var H=0;H<A.length;H++){var Y=A[H],W=A[Y];L[Y]=W}if(!S.initialStyles)S.initialStyles=L;for(var H=0;H<u.length;H++){var K=u[H],Z=c[H];if(Z==="computed"||Z==null)m.style[K]=L[K];else m.style[K]=Z}var he=!1,Ee=!1;m.addEventListener("transitionend",function(){if(!Ee)m.style.transition=C,Ee=!0,v()},{once:!0}),m.addEventListener("transitionstart",function(){he=!0},{once:!0}),setTimeout(function(){if(!Ee&&!he)m.style.transition=C,Ee=!0,v()},100),setTimeout(function(){var ne=[];for(var ce=0;ce<u.length;ce++){var Te=u[ce],fe=n[ce];if(fe==="initial"){var ve=S.initialStyles[Te];m.style[Te]=ve}else m.style[Te]=fe}},0)});s.push(T)}),Promise.all(s).then(function(){return g.findNext(U,z)})}};return U}}),r.addCommand("measure",function(q,g,E){if(!E.matchToken("measure"))return;var I=F(q,g,E),R=[];if(!q.commandBoundary(E.currentToken()))do R.push(E.matchTokenType("IDENTIFIER").value);while(E.matchOpToken(","));return{properties:R,args:[I],op:function(O,M){if(g.nullCheck(M,I),0 in M)M=M[0];var P=M.getBoundingClientRect(),D={top:M.scrollTop,left:M.scrollLeft,topMax:M.scrollTopMax,leftMax:M.scrollLeftMax,height:M.scrollHeight,width:M.scrollWidth};return O.result={x:P.x,y:P.y,left:P.left,top:P.top,right:P.right,bottom:P.bottom,width:P.width,height:P.height,bounds:P,scrollLeft:D.left,scrollTop:D.top,scrollLeftMax:D.leftMax,scrollTopMax:D.topMax,scrollWidth:D.width,scrollHeight:D.height,scroll:D},g.forEach(R,function(_){if(_ in O.result)O.locals[_]=O.result[_];else throw"No such measurement as "+_}),g.findNext(this,O)}}}),r.addLeafExpression("closestExpr",function(q,g,E){if(E.matchToken("closest")){if(E.matchToken("parent"))var I=!0;var R=null;if(E.currentToken().type==="ATTRIBUTE_REF"){var O=q.requireElement("attributeRefAccess",E,null);R="["+O.attribute.name+"]"}if(R==null){var M=q.requireElement("expression",E);if(M.css==null)q.raiseParseError(E,"Expected a CSS expression");else R=M.css}if(E.matchToken("to"))var P=q.parseElement("expression",E);else var P=q.parseElement("implicitMeTarget",E);var D={type:"closestExpr",parentSearch:I,expr:M,css:R,to:P,args:[P],op:function(_,U){if(U==null)return null;else{let z=[];if(g.implicitLoop(U,function(j){if(I)z.push(j.parentElement?j.parentElement.closest(R):null);else z.push(j.closest(R))}),g.shouldAutoIterate(U))return z;else return z[0]}},evaluate:function(_){return g.unifiedEval(this,_)}};if(O)return O.root=D,O.args=[D],O;else return D}}),r.addCommand("go",function(q,g,E){if(E.matchToken("go")){if(E.matchToken("back"))var I=!0;else if(E.matchToken("to"),E.matchToken("url")){var R=q.requireElement("stringLike",E),O=!0;if(E.matchToken("in")){E.requireToken("new"),E.requireToken("window");var M=!0}}else{E.matchToken("the");var P=E.matchAnyToken("top","middle","bottom"),D=E.matchAnyToken("left","center","right");if(P||D)E.requireToken("of");var R=q.requireElement("unaryExpression",E),_=E.matchAnyOpToken("+","-");if(_){E.pushFollow("px");try{var U=q.requireElement("expression",E)}finally{E.popFollow()}}E.matchToken("px");var z=E.matchAnyToken("smoothly","instantly"),j={block:"start",inline:"nearest"};if(P){if(P.value==="top")j.block="start";else if(P.value==="bottom")j.block="end";else if(P.value==="middle")j.block="center"}if(D){if(D.value==="left")j.inline="start";else if(D.value==="center")j.inline="center";else if(D.value==="right")j.inline="end"}if(z){if(z.value==="smoothly")j.behavior="smooth";else if(z.value==="instantly")j.behavior="instant"}}var u={target:R,args:[R,U],op:function(c,n,a){if(I)window.history.back();else if(O){if(n)if(M)window.open(n);else window.location.href=n}else g.implicitLoop(n,function(p){if(p===window)p=document.body;if(_){let s=p.getBoundingClientRect(),m=document.createElement("div"),T=_.value==="+"?a:a*-1,v=j.inline=="start"||j.inline=="end"?T:0,x=j.block=="start"||j.block=="end"?T:0;m.style.position="absolute",m.style.top=s.top+window.scrollY+x+"px",m.style.left=s.left+window.scrollX+v+"px",m.style.height=s.height+"px",m.style.width=s.width+"px",m.style.zIndex=""+Number.MIN_SAFE_INTEGER,m.style.opacity="0",document.body.appendChild(m),setTimeout(function(){document.body.removeChild(m)},100),p=m}p.scrollIntoView(j)});return g.findNext(u,c)}};return u}}),i.conversions.dynamicResolvers.push(function(q,g){if(!(q==="Values"||q.indexOf("Values:")===0))return;var E=q.split(":")[1],I={},R=r.runtime.implicitLoop.bind(r.runtime);if(R(g,function(P){var D=M(P);if(D!==void 0){I[D.name]=D.value;return}if(P.querySelectorAll!=null){var _=P.querySelectorAll("input,select,textarea");_.forEach(O)}}),E)if(E==="JSON")return JSON.stringify(I);else if(E==="Form")return new URLSearchParams(I).toString();else throw"Unknown conversion: "+E;else return I;function O(P){var D=M(P);if(D==null)return;if(I[D.name]==null){I[D.name]=D.value;return}if(Array.isArray(I[D.name])&&Array.isArray(D.value)){I[D.name]=[].concat(I[D.name],D.value);return}}function M(P){try{var D={name:P.name,value:P.value};if(D.name==null||D.value==null)return;if(P.type=="radio"&&P.checked==!1)return;if(P.type=="checkbox"){if(P.checked==!1)D.value=void 0;else if(typeof D.value==="string")D.value=[D.value]}if(P.type=="select-multiple"){var _=P.querySelectorAll("option[selected]");D.value=[];for(var U=0;U<_.length;U++)D.value.push(_[U].value)}return D}catch(z){return}}}),i.conversions.HTML=function(q){var g=function(E){if(E instanceof Array)return E.map(function(M){return g(M)}).join("");if(E instanceof HTMLElement)return E.outerHTML;if(E instanceof NodeList){var I="";for(var R=0;R<E.length;R++){var O=E[R];if(O instanceof HTMLElement)I+=O.outerHTML}return I}if(E.toString)return E.toString();return""};return g(q)},i.conversions.Fragment=function(q){var g=document.createDocumentFragment();return r.runtime.implicitLoop(q,function(E){if(E instanceof Node)g.append(E);else{var I=document.createElement("template");I.innerHTML=E,g.append(I.content)}}),g}}const ee=new k,Ne=ee.lexer,me=ee.parser;function ft(r,l){return ee.evaluate(r,l)}function Pt(){var r=Array.from(e.document.querySelectorAll("script[type='text/hyperscript'][src]"));Promise.all(r.map(function(w){return fetch(w.src).then(function(F){return F.text()})})).then((w)=>w.forEach((F)=>Ze(F))).then(()=>l(function(){y(),ee.processNode(document.documentElement),e.document.addEventListener("htmx:load",function(w){ee.processNode(w.detail.elt)})}));function l(w){if(document.readyState!=="loading")setTimeout(w);else document.addEventListener("DOMContentLoaded",w)}function d(){var w=document.querySelector('meta[name="htmx-config"]');if(w)return Ue(w.content);else return null}function y(){var w=d();if(w)Object.assign(i,w)}}const Ze=Object.assign(ft,{config:i,use(r){r(Ze)},internals:{lexer:Ne,parser:me,runtime:ee,Lexer:o,Tokens:f,Parser:h,Runtime:k},ElementCollection:J,addFeature:me.addFeature.bind(me),addCommand:me.addCommand.bind(me),addLeafExpression:me.addLeafExpression.bind(me),addIndirectExpression:me.addIndirectExpression.bind(me),evaluate:ee.evaluate.bind(ee),parse:ee.parse.bind(ee),processNode:ee.processNode.bind(ee),version:"0.9.12",browserInit:Pt});return Ze})});var di=function(e){Ei(e)},Ei=function(e){if(!Me.includes(e))Me.push(e);Ti()},zn=function(e){let t=Me.indexOf(e);if(t!==-1&&t>jt)Me.splice(t,1)},Ti=function(){if(!Bt&&!Ut)Ut=!0,queueMicrotask(ki)},ki=function(){Ut=!1,Bt=!0;for(let e=0;e<Me.length;e++)Me[e](),jt=e;Me.length=0,jt=-1,Bt=!1},yi=function(e){zt=!1,e(),zt=!0},gi=function(e){Je=e.reactive,Xe=e.release,We=(t)=>e.effect(t,{scheduler:(i)=>{if(zt)di(i);else i()}}),Qn=e.raw},On=function(e){We=e},xi=function(e){let t=()=>{};return[(o)=>{let f=We(o);if(!e._x_effects)e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((h)=>h())};return e._x_effects.add(f),t=()=>{if(f===void 0)return;e._x_effects.delete(f),Xe(f)},f},()=>{t()}]},Yn=function(e,t){let i=!0,o,f=We(()=>{let h=e();if(JSON.stringify(h),!i)queueMicrotask(()=>{t(h,o),o=h});else o=h;i=!1});return()=>Xe(f)},bi=function(e){$n.push(e)},on=function(e,t){if(typeof t==="function"){if(!e._x_cleanups)e._x_cleanups=[];e._x_cleanups.push(t)}else t=e,Xn.push(t)},Zn=function(e){Jn.push(e)},Vn=function(e,t,i){if(!e._x_attributeCleanups)e._x_attributeCleanups={};if(!e._x_attributeCleanups[t])e._x_attributeCleanups[t]=[];e._x_attributeCleanups[t].push(i)},Kn=function(e,t){if(!e._x_attributeCleanups)return;Object.entries(e._x_attributeCleanups).forEach(([i,o])=>{if(t===void 0||t.includes(i))o.forEach((f)=>f()),delete e._x_attributeCleanups[i]})},qi=function(e){if(e._x_cleanups)while(e._x_cleanups.length)e._x_cleanups.pop()()},ln=function(){sn.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),un=!0},er=function(){wi(),sn.disconnect(),un=!1},wi=function(){let e=sn.takeRecords();et.push(()=>e.length>0&&fn(e));let t=et.length;queueMicrotask(()=>{if(et.length===t)while(et.length>0)et.shift()()})},se=function(e){if(!un)return e();er();let t=e();return ln(),t},Si=function(){cn=!0},Ni=function(){cn=!1,fn(bt),bt=[]},fn=function(e){if(cn){bt=bt.concat(e);return}let t=new Set,i=new Set,o=new Map,f=new Map;for(let h=0;h<e.length;h++){if(e[h].target._x_ignoreMutationObserver)continue;if(e[h].type==="childList")e[h].addedNodes.forEach((k)=>k.nodeType===1&&t.add(k)),e[h].removedNodes.forEach((k)=>k.nodeType===1&&i.add(k));if(e[h].type==="attributes"){let k=e[h].target,b=e[h].attributeName,N=e[h].oldValue,G=()=>{if(!o.has(k))o.set(k,[]);o.get(k).push({name:b,value:k.getAttribute(b)})},B=()=>{if(!f.has(k))f.set(k,[]);f.get(k).push(b)};if(k.hasAttribute(b)&&N===null)G();else if(k.hasAttribute(b))B(),G();else B()}}f.forEach((h,k)=>{Kn(k,h)}),o.forEach((h,k)=>{Jn.forEach((b)=>b(k,h))});for(let h of i){if(t.has(h))continue;Xn.forEach((k)=>k(h))}t.forEach((h)=>{h._x_ignoreSelf=!0,h._x_ignore=!0});for(let h of t){if(i.has(h))continue;if(!h.isConnected)continue;delete h._x_ignoreSelf,delete h._x_ignore,$n.forEach((k)=>k(h)),h._x_ignore=!0,h._x_ignoreSelf=!0}t.forEach((h)=>{delete h._x_ignoreSelf,delete h._x_ignore}),t=null,i=null,o=null,f=null},tr=function(e){return ut(Qe(e))},st=function(e,t,i){return e._x_dataStack=[t,...Qe(i||e)],()=>{e._x_dataStack=e._x_dataStack.filter((o)=>o!==t)}},Qe=function(e){if(e._x_dataStack)return e._x_dataStack;if(typeof ShadowRoot==="function"&&e instanceof ShadowRoot)return Qe(e.host);if(!e.parentNode)return[];return Qe(e.parentNode)},ut=function(e){return new Proxy({objects:e},Ci)},Ai=function(){return Reflect.ownKeys(this).reduce((t,i)=>{return t[i]=Reflect.get(this,i),t},{})},nr=function(e){let t=(o)=>typeof o==="object"&&!Array.isArray(o)&&o!==null,i=(o,f="")=>{Object.entries(Object.getOwnPropertyDescriptors(o)).forEach(([h,{value:k,enumerable:b}])=>{if(b===!1||k===void 0)return;if(typeof k==="object"&&k!==null&&k.__v_skip)return;let N=f===""?h:`${f}.${h}`;if(typeof k==="object"&&k!==null&&k._x_interceptor)o[h]=k.initialize(e,N,h);else if(t(k)&&k!==o&&!(k instanceof Element))i(k,N)})};return i(e)},rr=function(e,t=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(o,f,h){return e(this.initialValue,()=>Ri(o,f),(k)=>Qt(o,f,k),f,h)}};return t(i),(o)=>{if(typeof o==="object"&&o!==null&&o._x_interceptor){let f=i.initialize.bind(i);i.initialize=(h,k,b)=>{let N=o.initialize(h,k,b);return i.initialValue=N,f(h,k,b)}}else i.initialValue=o;return i}},Ri=function(e,t){return t.split(".").reduce((i,o)=>i[o],e)},Qt=function(e,t,i){if(typeof t==="string")t=t.split(".");if(t.length===1)e[t[0]]=i;else if(t.length===0)throw error;else if(e[t[0]])return Qt(e[t[0]],t.slice(1),i);else return e[t[0]]={},Qt(e[t[0]],t.slice(1),i)},qe=function(e,t){ir[e]=t},Yt=function(e,t){return Object.entries(ir).forEach(([i,o])=>{let f=null;function h(){if(f)return f;else{let[k,b]=cr(t);return f={interceptor:rr,...k},on(t,b),f}}Object.defineProperty(e,`\$${i}`,{get(){return o(t,h())},enumerable:!1})}),e},Oi=function(e,t,i,...o){try{return i(...o)}catch(f){ot(f,e,t)}},ot=function(e,t,i=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:i}),console.warn(`Alpine Expression Error: ${e.message}

${i?'Expression: "'+i+'"\n\n':""}`,t),setTimeout(()=>{throw e},0)},ar=function(e){let t=gt;gt=!1;let i=e();return gt=t,i},_e=function(e,t,i={}){let o;return pe(e,t)((f)=>o=f,i),o},pe=function(...e){return or(...e)},Ii=function(e){or=e},sr=function(e,t){let i={};Yt(i,e);let o=[i,...Qe(e)],f=typeof t==="function"?Li(o,t):Pi(o,t,e);return Oi.bind(null,e,t,f)},Li=function(e,t){return(i=()=>{},{scope:o={},params:f=[]}={})=>{let h=t.apply(ut([o,...e]),f);qt(i,h)}},Fi=function(e,t){if(Mt[e])return Mt[e];let i=Object.getPrototypeOf(async function(){}).constructor,o=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,h=(()=>{try{let k=new i(["__self","scope"],`with (scope) { __self.result = ${o} }; __self.finished = true; return __self.result;`);return Object.defineProperty(k,"name",{value:`[Alpine] ${e}`}),k}catch(k){return ot(k,t,e),Promise.resolve()}})();return Mt[e]=h,h},Pi=function(e,t,i){let o=Fi(t,i);return(f=()=>{},{scope:h={},params:k=[]}={})=>{o.result=void 0,o.finished=!1;let b=ut([h,...e]);if(typeof o==="function"){let N=o(o,b).catch((G)=>ot(G,i,t));if(o.finished)qt(f,o.result,b,k,i),o.result=void 0;else N.then((G)=>{qt(f,G,b,k,i)}).catch((G)=>ot(G,i,t)).finally(()=>o.result=void 0)}}},qt=function(e,t,i,o,f){if(gt&&typeof t==="function"){let h=t.apply(i,o);if(h instanceof Promise)h.then((k)=>qt(e,k,i,o)).catch((k)=>ot(k,f,t));else e(h)}else if(typeof t==="object"&&t instanceof Promise)t.then((h)=>e(h));else e(t)},$e=function(e=""){return mn+e},Di=function(e){mn=e},oe=function(e,t){return wt[e]=t,{before(i){if(!wt[i]){console.warn(String.raw`Cannot find directive \`${i}\`. \`${e}\` will use the default order of execution`);return}const o=De.indexOf(i);De.splice(o>=0?o:De.indexOf("DEFAULT"),0,e)}}},Mi=function(e){return Object.keys(wt).includes(e)},pn=function(e,t,i){if(t=Array.from(t),e._x_virtualDirectives){let h=Object.entries(e._x_virtualDirectives).map(([b,N])=>({name:b,value:N})),k=ur(h);h=h.map((b)=>{if(k.find((N)=>N.name===b.name))return{name:`x-bind:${b.name}`,value:`"${b.value}"`};return b}),t=t.concat(h)}let o={};return t.map(pr((h,k)=>o[h]=k)).filter(vr).map(Hi(o,i)).sort(Wi).map((h)=>{return Gi(e,h)})},ur=function(e){return Array.from(e).map(pr()).filter((t)=>!vr(t))},_i=function(e){Jt=!0;let t=Symbol();lr=t,rt.set(t,[]);let i=()=>{while(rt.get(t).length)rt.get(t).shift()();rt.delete(t)},o=()=>{Jt=!1,i()};e(i),o()},cr=function(e){let t=[],i=(b)=>t.push(b),[o,f]=xi(e);return t.push(f),[{Alpine:ct,effect:o,cleanup:i,evaluateLater:pe.bind(pe,e),evaluate:_e.bind(_e,e)},()=>t.forEach((b)=>b())]},Gi=function(e,t){let i=()=>{},o=wt[t.type]||i,[f,h]=cr(e);Vn(e,t.original,h);let k=()=>{if(e._x_ignore||e._x_ignoreSelf)return;o.inline&&o.inline(e,t,f),o=o.bind(o,e,t,f),Jt?rt.get(lr).push(o):o()};return k.runCleanups=h,k},pr=function(e=()=>{}){return({name:t,value:i})=>{let{name:o,value:f}=hr.reduce((h,k)=>{return k(h)},{name:t,value:i});if(o!==t)e(o,t);return{name:o,value:f}}},hn=function(e){hr.push(e)},vr=function({name:e}){return dr().test(e)},Hi=function(e,t){return({name:i,value:o})=>{let f=i.match(dr()),h=i.match(/:([a-zA-Z0-9\-_:]+)/),k=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],b=t||e[i]||i;return{type:f?f[1]:null,value:h?h[1]:null,modifiers:k.map((N)=>N.replace(".","")),expression:o,original:b}}},Wi=function(e,t){let i=De.indexOf(e.type)===-1?Xt:e.type,o=De.indexOf(t.type)===-1?Xt:t.type;return De.indexOf(i)-De.indexOf(o)},it=function(e,t,i={}){e.dispatchEvent(new CustomEvent(t,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))},Re=function(e,t){if(typeof ShadowRoot==="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach((f)=>Re(f,t));return}let i=!1;if(t(e,()=>i=!0),i)return;let o=e.firstElementChild;while(o)Re(o,t,!1),o=o.nextElementSibling},ke=function(e,...t){console.warn(`Alpine Warning: ${e}`,...t)},Ui=function(){if(In)ke("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems.");if(In=!0,!document.body)ke("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?");it(document,"alpine:init"),it(document,"alpine:initializing"),ln(),bi((t)=>Se(t,Re)),on((t)=>br(t)),Zn((t,i)=>{pn(t,i).forEach((o)=>o())});let e=(t)=>!Nt(t.parentElement,!0);Array.from(document.querySelectorAll(kr().join(","))).filter(e).forEach((t)=>{Se(t)}),it(document,"alpine:initialized"),setTimeout(()=>{zi()})},Tr=function(){return vn.map((e)=>e())},kr=function(){return vn.concat(Er).map((e)=>e())},yr=function(e){vn.push(e)},gr=function(e){Er.push(e)},Nt=function(e,t=!1){return lt(e,(i)=>{if((t?kr():Tr()).some((f)=>i.matches(f)))return!0})},lt=function(e,t){if(!e)return;if(t(e))return e;if(e._x_teleportBack)e=e._x_teleportBack;if(!e.parentElement)return;return lt(e.parentElement,t)},Bi=function(e){return Tr().some((t)=>e.matches(t))},ji=function(e){xr.push(e)},Se=function(e,t=Re,i=()=>{}){_i(()=>{t(e,(o,f)=>{i(o,f),xr.forEach((h)=>h(o,f)),pn(o,o.attributes).forEach((h)=>h()),o._x_ignore&&f()})})},br=function(e,t=Re){t(e,(i)=>{Kn(i),qi(i)})},zi=function(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,i,o])=>{if(Mi(i))return;o.some((f)=>{if(document.querySelector(f))return ke(`found "${f}", but missing ${t} plugin`),!0})})},En=function(e=()=>{}){return queueMicrotask(()=>{dn||setTimeout(()=>{Zt()})}),new Promise((t)=>{$t.push(()=>{e(),t()})})},Zt=function(){dn=!1;while($t.length)$t.shift()()},Qi=function(){dn=!0},Tn=function(e,t){if(Array.isArray(t))return Ln(e,t.join(" "));else if(typeof t==="object"&&t!==null)return Yi(e,t);else if(typeof t==="function")return Tn(e,t());return Ln(e,t)},Ln=function(e,t){let i=(h)=>h.split(" ").filter(Boolean),o=(h)=>h.split(" ").filter((k)=>!e.classList.contains(k)).filter(Boolean),f=(h)=>{return e.classList.add(...h),()=>{e.classList.remove(...h)}};return t=t===!0?t="":t||"",f(o(t))},Yi=function(e,t){let i=(b)=>b.split(" ").filter(Boolean),o=Object.entries(t).flatMap(([b,N])=>N?i(b):!1).filter(Boolean),f=Object.entries(t).flatMap(([b,N])=>!N?i(b):!1).filter(Boolean),h=[],k=[];return f.forEach((b)=>{if(e.classList.contains(b))e.classList.remove(b),k.push(b)}),o.forEach((b)=>{if(!e.classList.contains(b))e.classList.add(b),h.push(b)}),()=>{k.forEach((b)=>e.classList.add(b)),h.forEach((b)=>e.classList.remove(b))}},Ct=function(e,t){if(typeof t==="object"&&t!==null)return Ji(e,t);return Xi(e,t)},Ji=function(e,t){let i={};return Object.entries(t).forEach(([o,f])=>{if(i[o]=e.style[o],!o.startsWith("--"))o=$i(o);e.style.setProperty(o,f)}),setTimeout(()=>{if(e.style.length===0)e.removeAttribute("style")}),()=>{Ct(e,i)}},Xi=function(e,t){let i=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",i||"")}},$i=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},Vt=function(e,t=()=>{}){let i=!1;return function(){if(!i)i=!0,e.apply(this,arguments);else t.apply(this,arguments)}},Zi=function(e,t,i){qr(e,Tn,""),{enter:(f)=>{e._x_transition.enter.during=f},"enter-start":(f)=>{e._x_transition.enter.start=f},"enter-end":(f)=>{e._x_transition.enter.end=f},leave:(f)=>{e._x_transition.leave.during=f},"leave-start":(f)=>{e._x_transition.leave.start=f},"leave-end":(f)=>{e._x_transition.leave.end=f}}[i](t)},Vi=function(e,t,i){qr(e,Ct);let o=!t.includes("in")&&!t.includes("out")&&!i,f=o||t.includes("in")||["enter"].includes(i),h=o||t.includes("out")||["leave"].includes(i);if(t.includes("in")&&!o)t=t.filter((V,ie)=>ie<t.indexOf("out"));if(t.includes("out")&&!o)t=t.filter((V,ie)=>ie>t.indexOf("out"));let k=!t.includes("opacity")&&!t.includes("scale"),b=k||t.includes("opacity"),N=k||t.includes("scale"),G=b?0:1,B=N?tt(t,"scale",95)/100:1,X=tt(t,"delay",0)/1000,J=tt(t,"origin","center"),ae="opacity, transform",ye=tt(t,"duration",150)/1000,Ue=tt(t,"duration",75)/1000,Q="cubic-bezier(0.4, 0.0, 0.2, 1)";if(f)e._x_transition.enter.during={transformOrigin:J,transitionDelay:`${X}s`,transitionProperty:ae,transitionDuration:`${ye}s`,transitionTimingFunction:Q},e._x_transition.enter.start={opacity:G,transform:`scale(${B})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"};if(h)e._x_transition.leave.during={transformOrigin:J,transitionDelay:`${X}s`,transitionProperty:ae,transitionDuration:`${Ue}s`,transitionTimingFunction:Q},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:G,transform:`scale(${B})`}},qr=function(e,t,i={}){if(!e._x_transition)e._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(o=()=>{},f=()=>{}){Kt(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},o,f)},out(o=()=>{},f=()=>{}){Kt(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},o,f)}}},wr=function(e){let t=e.parentNode;if(!t)return;return t._x_hidePromise?t:wr(t)},Kt=function(e,t,{during:i,start:o,end:f}={},h=()=>{},k=()=>{}){if(e._x_transitioning)e._x_transitioning.cancel();if(Object.keys(i).length===0&&Object.keys(o).length===0&&Object.keys(f).length===0){h(),k();return}let b,N,G;Ki(e,{start(){b=t(e,o)},during(){N=t(e,i)},before:h,end(){b(),G=t(e,f)},after:k,cleanup(){N(),G()}})},Ki=function(e,t){let i,o,f,h=Vt(()=>{se(()=>{if(i=!0,!o)t.before();if(!f)t.end(),Zt();if(t.after(),e.isConnected)t.cleanup();delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(k){this.beforeCancels.push(k)},cancel:Vt(function(){while(this.beforeCancels.length)this.beforeCancels.shift()();h()}),finish:h},se(()=>{t.start(),t.during()}),Qi(),requestAnimationFrame(()=>{if(i)return;let k=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1000,b=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1000;if(k===0)k=Number(getComputedStyle(e).animationDuration.replace("s",""))*1000;se(()=>{t.before()}),o=!0,requestAnimationFrame(()=>{if(i)return;se(()=>{t.end()}),Zt(),setTimeout(e._x_transitioning.finish,k+b),f=!0})})},tt=function(e,t,i){if(e.indexOf(t)===-1)return i;const o=e[e.indexOf(t)+1];if(!o)return i;if(t==="scale"){if(isNaN(o))return i}if(t==="duration"||t==="delay"){let f=o.match(/([0-9]+)ms/);if(f)return f[1]}if(t==="origin"){if(["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2]))return[o,e[e.indexOf(t)+2]].join(" ")}return o},Le=function(e,t=()=>{}){return(...i)=>Oe?t(...i):e(...i)},ea=function(e){return(...t)=>Oe&&e(...t)},At=function(e){Sr.push(e)},ta=function(e,t){Sr.forEach((i)=>i(e,t)),Oe=!0,Nr(()=>{Se(t,(i,o)=>{o(i,()=>{})})}),Oe=!1},na=function(e,t){if(!t._x_dataStack)t._x_dataStack=e._x_dataStack;Oe=!0,en=!0,Nr(()=>{ra(t)}),Oe=!1,en=!1},ra=function(e){let t=!1;Se(e,(o,f)=>{Re(o,(h,k)=>{if(t&&Bi(h))return k();t=!0,f(h,k)})})},Nr=function(e){let t=We;On((i,o)=>{let f=t(i);return Xe(f),()=>{}}),e(),On(t)},Cr=function(e,t,i,o=[]){if(!e._x_bindings)e._x_bindings=Je({});switch(e._x_bindings[t]=i,t=o.includes("camel")?fa(t):t,t){case"value":ia(e,i);break;case"style":oa(e,i);break;case"class":aa(e,i);break;case"selected":case"checked":sa(e,t,i);break;default:Ar(e,t,i);break}},ia=function(e,t){if(e.type==="radio"){if(e.attributes.value===void 0)e.value=t;if(window.fromModel)if(typeof t==="boolean")e.checked=xt(e.value)===t;else e.checked=Fn(e.value,t)}else if(e.type==="checkbox")if(Number.isInteger(t))e.value=t;else if(!Array.isArray(t)&&typeof t!=="boolean"&&![null,void 0].includes(t))e.value=String(t);else if(Array.isArray(t))e.checked=t.some((i)=>Fn(i,e.value));else e.checked=!!t;else if(e.tagName==="SELECT")ca(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}},aa=function(e,t){if(e._x_undoAddedClasses)e._x_undoAddedClasses();e._x_undoAddedClasses=Tn(e,t)},oa=function(e,t){if(e._x_undoAddedStyles)e._x_undoAddedStyles();e._x_undoAddedStyles=Ct(e,t)},sa=function(e,t,i){Ar(e,t,i),la(e,t,i)},Ar=function(e,t,i){if([null,void 0,!1].includes(i)&&ma(t))e.removeAttribute(t);else{if(Rr(t))i=t;ua(e,t,i)}},ua=function(e,t,i){if(e.getAttribute(t)!=i)e.setAttribute(t,i)},la=function(e,t,i){if(e[t]!==i)e[t]=i},ca=function(e,t){const i=[].concat(t).map((o)=>{return o+""});Array.from(e.options).forEach((o)=>{o.selected=i.includes(o.value)})},fa=function(e){return e.toLowerCase().replace(/-(\w)/g,(t,i)=>i.toUpperCase())},Fn=function(e,t){return e==t},xt=function(e){if([1,"1","true","on","yes",!0].includes(e))return!0;if([0,"0","false","off","no",!1].includes(e))return!1;return e?Boolean(e):null},Rr=function(e){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)},ma=function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)},pa=function(e,t,i){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];return Or(e,t,i)},ha=function(e,t,i,o=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let f=e._x_inlineBindings[t];return f.extract=o,ar(()=>{return _e(e,f.expression)})}return Or(e,t,i)},Or=function(e,t,i){let o=e.getAttribute(t);if(o===null)return typeof i==="function"?i():i;if(o==="")return!0;if(Rr(t))return!![t,"true"].includes(o);return o},Ir=function(e,t){var i;return function(){var o=this,f=arguments,h=function(){i=null,e.apply(o,f)};clearTimeout(i),i=setTimeout(h,t)}},Lr=function(e,t){let i;return function(){let o=this,f=arguments;if(!i)e.apply(o,f),i=!0,setTimeout(()=>i=!1,t)}},Fr=function({get:e,set:t},{get:i,set:o}){let f=!0,h,k,b=We(()=>{let N=e(),G=i();if(f)o(_t(N)),f=!1;else{let B=JSON.stringify(N),X=JSON.stringify(G);if(B!==h)o(_t(N));else if(B!==X)t(_t(G))}h=JSON.stringify(e()),k=JSON.stringify(i())});return()=>{Xe(b)}},_t=function(e){return typeof e==="object"?JSON.parse(JSON.stringify(e)):e},va=function(e){(Array.isArray(e)?e:[e]).forEach((i)=>i(ct))},da=function(e,t){if(!Pn)Pe=Je(Pe),Pn=!0;if(t===void 0)return Pe[e];if(Pe[e]=t,typeof t==="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init==="function")Pe[e].init();nr(Pe[e])},Ea=function(){return Pe},Ta=function(e,t){let i=typeof t!=="function"?()=>t:t;if(e instanceof Element)return Dr(e,i());else Pr[e]=i;return()=>{}},ka=function(e){return Object.entries(Pr).forEach(([t,i])=>{Object.defineProperty(e,t,{get(){return(...o)=>{return i(...o)}}})}),e},Dr=function(e,t,i){let o=[];while(o.length)o.pop()();let f=Object.entries(t).map(([k,b])=>({name:k,value:b})),h=ur(f);return f=f.map((k)=>{if(h.find((b)=>b.name===k.name))return{name:`x-bind:${k.name}`,value:`"${k.value}"`};return k}),pn(e,f,i).map((k)=>{o.push(k.runCleanups),k()}),()=>{while(o.length)o.pop()()}},ya=function(e,t){Mr[e]=t},ga=function(e,t){return Object.entries(Mr).forEach(([i,o])=>{Object.defineProperty(e,i,{get(){return(...f)=>{return o.bind(t)(...f)}},enumerable:!1})}),e},_r=function(e,t){const i=Object.create(null),o=e.split(",");for(let f=0;f<o.length;f++)i[o[f]]=!0;return t?(f)=>!!i[f.toLowerCase()]:(f)=>!!i[f]},Ra=function(e){return e&&e._isEffect===!0},Oa=function(e,t=qa){if(Ra(e))e=e.raw;const i=Fa(e,t);if(!t.lazy)i();return i},Ia=function(e){if(e.active){if(Br(e),e.options.onStop)e.options.onStop();e.active=!1}},Fa=function(e,t){const i=function o(){if(!i.active)return e();if(!nt.includes(i)){Br(i);try{return Da(),nt.push(i),we=i,e()}finally{nt.pop(),jr(),we=nt[nt.length-1]}}};return i.id=La++,i.allowRecurse=!!t.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=e,i.deps=[],i.options=t,i},Br=function(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}},Pa=function(){gn.push(Ye),Ye=!1},Da=function(){gn.push(Ye),Ye=!0},jr=function(){const e=gn.pop();Ye=e===void 0?!0:e},be=function(e,t,i){if(!Ye||we===void 0)return;let o=tn.get(e);if(!o)tn.set(e,o=new Map);let f=o.get(i);if(!f)o.set(i,f=new Set);if(!f.has(we)){if(f.add(we),we.deps.push(f),we.options.onTrack)we.options.onTrack({effect:we,target:e,type:t,key:i})}},Ie=function(e,t,i,o,f,h){const k=tn.get(e);if(!k)return;const b=new Set,N=(B)=>{if(B)B.forEach((X)=>{if(X!==we||X.allowRecurse)b.add(X)})};if(t==="clear")k.forEach(N);else if(i==="length"&&Ge(e))k.forEach((B,X)=>{if(X==="length"||X>=o)N(B)});else{if(i!==void 0)N(k.get(i));switch(t){case"add":if(!Ge(e)){if(N(k.get(He)),at(e))N(k.get(nn))}else if(yn(i))N(k.get("length"));break;case"delete":if(!Ge(e)){if(N(k.get(He)),at(e))N(k.get(nn))}break;case"set":if(at(e))N(k.get(He));break}}const G=(B)=>{if(B.options.onTrigger)B.options.onTrigger({effect:B,target:e,key:i,type:t,newValue:o,oldValue:f,oldTarget:h});if(B.options.scheduler)B.options.scheduler(B);else B()};b.forEach(G)},Ha=function(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t)=>{e[t]=function(...i){const o=te(this);for(let h=0,k=this.length;h<k;h++)be(o,"get",h+"");const f=o[t](...i);if(f===-1||f===!1)return o[t](...i.map(te));else return f}}),["push","pop","shift","unshift","splice"].forEach((t)=>{e[t]=function(...i){Pa();const o=te(this)[t].apply(this,i);return jr(),o}}),e},Qr=function(e=!1,t=!1){return function i(o,f,h){if(f==="__v_isReactive")return!e;else if(f==="__v_isReadonly")return e;else if(f==="__v_raw"&&h===(e?t?no:$r:t?to:Xr).get(o))return o;const k=Ge(o);if(!e&&k&&Rt(Dn,f))return Reflect.get(Dn,f,h);const b=Reflect.get(o,f,h);if(kn(f)?zr.has(f):Ma(f))return b;if(!e)be(o,"get",f);if(t)return b;if(rn(b))return!k||!yn(f)?b.value:b;if(Ot(b))return e?Zr(b):wn(b);return b}},Ua=function(e=!1){return function t(i,o,f,h){let k=i[o];if(!e){if(f=te(f),k=te(k),!Ge(i)&&rn(k)&&!rn(f))return k.value=f,!0}const b=Ge(i)&&yn(o)?Number(o)<i.length:Rt(i,o),N=Reflect.set(i,o,f,h);if(i===te(h)){if(!b)Ie(i,"add",o,f);else if(Ur(f,k))Ie(i,"set",o,f,k)}return N}},Ba=function(e,t){const i=Rt(e,t),o=e[t],f=Reflect.deleteProperty(e,t);if(f&&i)Ie(e,"delete",t,void 0,o);return f},ja=function(e,t){const i=Reflect.has(e,t);if(!kn(t)||!zr.has(t))be(e,"has",t);return i},za=function(e){return be(e,"iterate",Ge(e)?"length":He),Reflect.ownKeys(e)},dt=function(e,t,i=!1,o=!1){e=e.__v_raw;const f=te(e),h=te(t);if(t!==h)!i&&be(f,"get",t);!i&&be(f,"get",h);const{has:k}=Lt(f),b=o?qn:i?bn:xn;if(k.call(f,t))return b(e.get(t));else if(k.call(f,h))return b(e.get(h));else if(e!==f)e.get(t)},Et=function(e,t=!1){const i=this.__v_raw,o=te(i),f=te(e);if(e!==f)!t&&be(o,"has",e);return!t&&be(o,"has",f),e===f?i.has(e):i.has(e)||i.has(f)},Tt=function(e,t=!1){return e=e.__v_raw,!t&&be(te(e),"iterate",He),Reflect.get(e,"size",e)},Mn=function(e){e=te(e);const t=te(this);if(!Lt(t).has.call(t,e))t.add(e),Ie(t,"add",e,e);return this},_n=function(e,t){t=te(t);const i=te(this),{has:o,get:f}=Lt(i);let h=o.call(i,e);if(!h)e=te(e),h=o.call(i,e);else Jr(i,o,e);const k=f.call(i,e);if(i.set(e,t),!h)Ie(i,"add",e,t);else if(Ur(t,k))Ie(i,"set",e,t,k);return this},Gn=function(e){const t=te(this),{has:i,get:o}=Lt(t);let f=i.call(t,e);if(!f)e=te(e),f=i.call(t,e);else Jr(t,i,e);const h=o?o.call(t,e):void 0,k=t.delete(e);if(f)Ie(t,"delete",e,void 0,h);return k},Hn=function(){const e=te(this),t=e.size!==0,i=at(e)?new Map(e):new Set(e),o=e.clear();if(t)Ie(e,"clear",void 0,void 0,i);return o},kt=function(e,t){return function i(o,f){const h=this,k=h.__v_raw,b=te(k),N=t?qn:e?bn:xn;return!e&&be(b,"iterate",He),k.forEach((G,B)=>{return o.call(f,N(G),N(B),h)})}},yt=function(e,t,i){return function(...o){const f=this.__v_raw,h=te(f),k=at(h),b=e==="entries"||e===Symbol.iterator&&k,N=e==="keys"&&k,G=f[e](...o),B=i?qn:t?bn:xn;return!t&&be(h,"iterate",N?nn:He),{next(){const{value:X,done:J}=G.next();return J?{value:X,done:J}:{value:b?[B(X[0]),B(X[1])]:B(X),done:J}},[Symbol.iterator](){return this}}}},Ae=function(e){return function(...t){{const i=t[0]?`on key "${t[0]}" `:"";console.warn(`${Wr(e)} operation ${i}failed: target is readonly.`,te(this))}return e==="delete"?!1:this}},Ja=function(){const e={get(h){return dt(this,h)},get size(){return Tt(this)},has:Et,add:Mn,set:_n,delete:Gn,clear:Hn,forEach:kt(!1,!1)},t={get(h){return dt(this,h,!1,!0)},get size(){return Tt(this)},has:Et,add:Mn,set:_n,delete:Gn,clear:Hn,forEach:kt(!1,!0)},i={get(h){return dt(this,h,!0)},get size(){return Tt(this,!0)},has(h){return Et.call(this,h,!0)},add:Ae("add"),set:Ae("set"),delete:Ae("delete"),clear:Ae("clear"),forEach:kt(!0,!1)},o={get(h){return dt(this,h,!0,!0)},get size(){return Tt(this,!0)},has(h){return Et.call(this,h,!0)},add:Ae("add"),set:Ae("set"),delete:Ae("delete"),clear:Ae("clear"),forEach:kt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((h)=>{e[h]=yt(h,!1,!1),i[h]=yt(h,!0,!1),t[h]=yt(h,!1,!0),o[h]=yt(h,!0,!0)}),[e,i,t,o]},Yr=function(e,t){const i=t?e?Va:Za:e?$a:Xa;return(o,f,h)=>{if(f==="__v_isReactive")return!e;else if(f==="__v_isReadonly")return e;else if(f==="__v_raw")return o;return Reflect.get(Rt(i,f)&&f in o?i:o,f,h)}},Jr=function(e,t,i){const o=te(i);if(o!==i&&t.call(e,o)){const f=Hr(e);console.warn(`Reactive ${f} contains both the raw and reactive versions of the same object${f==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}},ro=function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}},io=function(e){return e.__v_skip||!Object.isExtensible(e)?0:ro(Hr(e))},wn=function(e){if(e&&e.__v_isReadonly)return e;return Vr(e,!1,Qa,Ka,Xr)},Zr=function(e){return Vr(e,!0,Ya,eo,$r)},Vr=function(e,t,i,o,f){if(!Ot(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const h=f.get(e);if(h)return h;const k=io(e);if(k===0)return e;const b=new Proxy(e,k===2?o:i);return f.set(e,b),b},te=function(e){return e&&te(e.__v_raw)||e},rn=function(e){return Boolean(e&&e.__v_isRef===!0)},ao=function(e){let t=[];return lt(e,(i)=>{if(i._x_refs)t.push(i._x_refs)}),t},Kr=function(e){if(!Gt[e])Gt[e]=0;return++Gt[e]},oo=function(e,t){return lt(e,(i)=>{if(i._x_ids&&i._x_ids[t])return!0})},so=function(e,t){if(!e._x_ids)e._x_ids={};if(!e._x_ids[t])e._x_ids[t]=Kr(t)},uo=function(e,t,i,o){if(!e._x_id)e._x_id={};if(e._x_id[t])return e._x_id[t];let f=o();return e._x_id[t]=f,i(()=>{delete e._x_id[t]}),f},ei=function(e,t,i){qe(t,(o)=>ke(`You can't use [\$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,o))},Wn=function(e){let t=Le(()=>{return document.querySelector(e)},()=>{return lo})();if(!t)ke(`Cannot find x-teleport element for selector: "${e}"`);return t},an=function(e,t,i,o){let f=e,h=(N)=>o(N),k={},b=(N,G)=>(B)=>G(N,B);if(i.includes("dot"))t=co(t);if(i.includes("camel"))t=fo(t);if(i.includes("passive"))k.passive=!0;if(i.includes("capture"))k.capture=!0;if(i.includes("window"))f=window;if(i.includes("document"))f=document;if(i.includes("debounce")){let N=i[i.indexOf("debounce")+1]||"invalid-wait",G=St(N.split("ms")[0])?Number(N.split("ms")[0]):250;h=Ir(h,G)}if(i.includes("throttle")){let N=i[i.indexOf("throttle")+1]||"invalid-wait",G=St(N.split("ms")[0])?Number(N.split("ms")[0]):250;h=Lr(h,G)}if(i.includes("prevent"))h=b(h,(N,G)=>{G.preventDefault(),N(G)});if(i.includes("stop"))h=b(h,(N,G)=>{G.stopPropagation(),N(G)});if(i.includes("once"))h=b(h,(N,G)=>{N(G),f.removeEventListener(t,h,k)});if(i.includes("away")||i.includes("outside"))f=document,h=b(h,(N,G)=>{if(e.contains(G.target))return;if(G.target.isConnected===!1)return;if(e.offsetWidth<1&&e.offsetHeight<1)return;if(e._x_isShown===!1)return;N(G)});if(i.includes("self"))h=b(h,(N,G)=>{G.target===e&&N(G)});if(po(t)||ni(t))h=b(h,(N,G)=>{if(ho(G,i))return;N(G)});return f.addEventListener(t,h,k),()=>{f.removeEventListener(t,h,k)}},co=function(e){return e.replace(/-/g,".")},fo=function(e){return e.toLowerCase().replace(/-(\w)/g,(t,i)=>i.toUpperCase())},St=function(e){return!Array.isArray(e)&&!isNaN(e)},mo=function(e){if([" ","_"].includes(e))return e;return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()},po=function(e){return["keydown","keyup"].includes(e)},ni=function(e){return["contextmenu","click","mouse"].some((t)=>e.includes(t))},ho=function(e,t){let i=t.filter((h)=>{return!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(h)});if(i.includes("debounce")){let h=i.indexOf("debounce");i.splice(h,St((i[h+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let h=i.indexOf("throttle");i.splice(h,St((i[h+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0)return!1;if(i.length===1&&Un(e.key).includes(i[0]))return!1;const f=["ctrl","shift","alt","meta","cmd","super"].filter((h)=>i.includes(h));if(i=i.filter((h)=>!f.includes(h)),f.length>0){if(f.filter((k)=>{if(k==="cmd"||k==="super")k="meta";return e[`${k}Key`]}).length===f.length){if(ni(e.type))return!1;if(Un(e.key).includes(i[0]))return!1}}return!0},Un=function(e){if(!e)return[];e=mo(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map((i)=>{if(t[i]===e)return i}).filter((i)=>i)},Ht=function(e,t,i,o){return se(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return i.detail!==null&&i.detail!==void 0?i.detail:i.target.value;else if(e.type==="checkbox")if(Array.isArray(o)){let f=null;if(t.includes("number"))f=Wt(i.target.value);else if(t.includes("boolean"))f=xt(i.target.value);else f=i.target.value;return i.target.checked?o.includes(f)?o:o.concat([f]):o.filter((h)=>!vo(h,f))}else return i.target.checked;else if(e.tagName.toLowerCase()==="select"&&e.multiple){if(t.includes("number"))return Array.from(i.target.selectedOptions).map((f)=>{let h=f.value||f.text;return Wt(h)});else if(t.includes("boolean"))return Array.from(i.target.selectedOptions).map((f)=>{let h=f.value||f.text;return xt(h)});return Array.from(i.target.selectedOptions).map((f)=>{return f.value||f.text})}else{let f;if(e.type==="radio")if(i.target.checked)f=i.target.value;else f=o;else f=i.target.value;if(t.includes("number"))return Wt(f);else if(t.includes("boolean"))return xt(f);else if(t.includes("trim"))return f.trim();else return f}})},Wt=function(e){let t=e?parseFloat(e):null;return Eo(t)?t:e},vo=function(e,t){return e==t},Eo=function(e){return!Array.isArray(e)&&!isNaN(e)},Bn=function(e){return e!==null&&typeof e==="object"&&typeof e.get==="function"&&typeof e.set==="function"},To=function(e,t){e._x_keyExpression=t},ko=function(e){if(!Oe)return!1;if(en)return!0;return e.hasAttribute("data-has-alpine-state")},yo=function(e,t,i,o){let f=(k)=>typeof k==="object"&&!Array.isArray(k),h=e;i((k)=>{if(xo(k)&&k>=0)k=Array.from(Array(k).keys(),(Q)=>Q+1);if(k===void 0)k=[];let{_x_lookup:b,_x_prevKeys:N}=e,G=[],B=[];if(f(k))k=Object.entries(k).map(([Q,V])=>{let ie=jn(t,V,Q,k);o((ue)=>{if(B.includes(ue))ke("Duplicate key on x-for",e);B.push(ue)},{scope:{index:Q,...ie}}),G.push(ie)});else for(let Q=0;Q<k.length;Q++){let V=jn(t,k[Q],Q,k);o((ie)=>{if(B.includes(ie))ke("Duplicate key on x-for",e);B.push(ie)},{scope:{index:Q,...V}}),G.push(V)}let X=[],J=[],ae=[],ye=[];for(let Q=0;Q<N.length;Q++){let V=N[Q];if(B.indexOf(V)===-1)ae.push(V)}N=N.filter((Q)=>!ae.includes(Q));let Ue="template";for(let Q=0;Q<B.length;Q++){let V=B[Q],ie=N.indexOf(V);if(ie===-1)N.splice(Q,0,V),X.push([Ue,Q]);else if(ie!==Q){let ue=N.splice(Q,1)[0],ee=N.splice(ie-1,1)[0];N.splice(Q,0,ee),N.splice(ie,0,ue),J.push([ue,ee])}else ye.push(V);Ue=V}for(let Q=0;Q<ae.length;Q++){let V=ae[Q];if(b[V]._x_effects)b[V]._x_effects.forEach(zn);b[V].remove(),b[V]=null,delete b[V]}for(let Q=0;Q<J.length;Q++){let[V,ie]=J[Q],ue=b[V],ee=b[ie],Ne=document.createElement("div");se(()=>{if(!ee)ke('x-for ":key" is undefined or invalid',h,ie,b);ee.after(Ne),ue.after(ee),ee._x_currentIfEl&&ee.after(ee._x_currentIfEl),Ne.before(ue),ue._x_currentIfEl&&ue.after(ue._x_currentIfEl),Ne.remove()}),ee._x_refreshXForScope(G[B.indexOf(ie)])}for(let Q=0;Q<X.length;Q++){let[V,ie]=X[Q],ue=V==="template"?h:b[V];if(ue._x_currentIfEl)ue=ue._x_currentIfEl;let ee=G[ie],Ne=B[ie],me=document.importNode(h.content,!0).firstElementChild,ft=Je(ee);if(st(me,ft,h),me._x_refreshXForScope=(Pt)=>{Object.entries(Pt).forEach(([Ze,r])=>{ft[Ze]=r})},se(()=>{ue.after(me),Le(()=>Se(me))()}),typeof Ne==="object")ke("x-for key cannot be an object, it must be a string or an integer",h);b[Ne]=me}for(let Q=0;Q<ye.length;Q++)b[ye[Q]]._x_refreshXForScope(G[B.indexOf(ye[Q])]);h._x_prevKeys=B})},go=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,o=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,f=e.match(o);if(!f)return;let h={};h.items=f[2].trim();let k=f[1].replace(i,"").trim(),b=k.match(t);if(b){if(h.item=k.replace(t,"").trim(),h.index=b[1].trim(),b[2])h.collection=b[2].trim()}else h.item=k;return h},jn=function(e,t,i,o){let f={};if(/^\[.*\]$/.test(e.item)&&Array.isArray(t))e.item.replace("[","").replace("]","").split(",").map((k)=>k.trim()).forEach((k,b)=>{f[k]=t[b]});else if(/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t==="object")e.item.replace("{","").replace("}","").split(",").map((k)=>k.trim()).forEach((k)=>{f[k]=t[k]});else f[e.item]=t;if(e.index)f[e.index]=i;if(e.collection)f[e.collection]=o;return f},xo=function(e){return!Array.isArray(e)&&!isNaN(e)},ii=function(){},Ft=function(e,t,i){oe(t,(o)=>ke(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,o))},Ut=!1,Bt=!1,Me=[],jt=-1,Je,We,Xe,Qn,zt=!0,Jn=[],Xn=[],$n=[],sn=new MutationObserver(fn),un=!1,et=[],cn=!1,bt=[],Ci={ownKeys({objects:e}){return Array.from(new Set(e.flatMap((t)=>Object.keys(t))))},has({objects:e},t){if(t==Symbol.unscopables)return!1;return e.some((i)=>Object.prototype.hasOwnProperty.call(i,t)||Reflect.has(i,t))},get({objects:e},t,i){if(t=="toJSON")return Ai;return Reflect.get(e.find((o)=>Reflect.has(o,t))||{},t,i)},set({objects:e},t,i,o){const f=e.find((k)=>Object.prototype.hasOwnProperty.call(k,t))||e[e.length-1],h=Object.getOwnPropertyDescriptor(f,t);if(h?.set&&h?.get)return h.set.call(o,i)||!0;return Reflect.set(f,t,i)}},ir={},gt=!0,or=sr,Mt={},mn="x-",wt={},Jt=!1,rt=new Map,lr=Symbol(),fr=(e,t)=>({name:i,value:o})=>{if(i.startsWith(e))i=i.replace(e,t);return{name:i,value:o}},mr=(e)=>e,hr=[],dr=()=>new RegExp(`^${mn}([^:^.]+)\\b`),Xt="DEFAULT",De=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Xt,"teleport"],In=!1,vn=[],Er=[],xr=[],$t=[],dn=!1;oe("transition",(e,{value:t,modifiers:i,expression:o},{evaluate:f})=>{if(typeof o==="function")o=f(o);if(o===!1)return;if(!o||typeof o==="boolean")Vi(e,i,t);else Zi(e,o,t)});window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,i,o){const f=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let h=()=>f(i);if(t){if(e._x_transition&&(e._x_transition.enter||e._x_transition.leave))e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(i):h();else e._x_transition?e._x_transition.in(i):h();return}e._x_hidePromise=e._x_transition?new Promise((k,b)=>{e._x_transition.out(()=>{},()=>k(o)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>b({isFromCancelledTransition:!0}))}):Promise.resolve(o),queueMicrotask(()=>{let k=wr(e);if(k){if(!k._x_hideChildren)k._x_hideChildren=[];k._x_hideChildren.push(e)}else f(()=>{let b=(N)=>{let G=Promise.all([N._x_hidePromise,...(N._x_hideChildren||[]).map(b)]).then(([B])=>B?.());return delete N._x_hidePromise,delete N._x_hideChildren,G};b(e).catch((N)=>{if(!N.isFromCancelledTransition)throw N})})})};var Oe=!1,Sr=[],en=!1,Pe={},Pn=!1,Pr={},Mr={},xa={get reactive(){return Je},get release(){return Xe},get effect(){return We},get raw(){return Qn},version:"3.14.1",flushAndStopDeferringMutations:Ni,dontAutoEvaluateFunctions:ar,disableEffectScheduling:yi,startObservingMutations:ln,stopObservingMutations:er,setReactivityEngine:gi,onAttributeRemoved:Vn,onAttributesAdded:Zn,closestDataStack:Qe,skipDuringClone:Le,onlyDuringClone:ea,addRootSelector:yr,addInitSelector:gr,interceptClone:At,addScopeToNode:st,deferMutations:Si,mapAttributes:hn,evaluateLater:pe,interceptInit:ji,setEvaluator:Ii,mergeProxies:ut,extractProp:ha,findClosest:lt,onElRemoved:on,closestRoot:Nt,destroyTree:br,interceptor:rr,transition:Kt,setStyles:Ct,mutateDom:se,directive:oe,entangle:Fr,throttle:Lr,debounce:Ir,evaluate:_e,initTree:Se,nextTick:En,prefixed:$e,prefix:Di,plugin:va,magic:qe,store:da,start:Ui,clone:na,cloneNode:ta,bound:pa,$data:tr,watch:Yn,walk:Re,data:ya,bind:Ta},ct=xa,ba="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",So=_r(ba+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),qa=Object.freeze({}),No=Object.freeze([]),wa=Object.prototype.hasOwnProperty,Rt=(e,t)=>wa.call(e,t),Ge=Array.isArray,at=(e)=>Gr(e)==="[object Map]",Sa=(e)=>typeof e==="string",kn=(e)=>typeof e==="symbol",Ot=(e)=>e!==null&&typeof e==="object",Na=Object.prototype.toString,Gr=(e)=>Na.call(e),Hr=(e)=>{return Gr(e).slice(8,-1)},yn=(e)=>Sa(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,It=(e)=>{const t=Object.create(null);return(i)=>{return t[i]||(t[i]=e(i))}},Ca=/-(\w)/g,Co=It((e)=>{return e.replace(Ca,(t,i)=>i?i.toUpperCase():"")}),Aa=/\B([A-Z])/g,Ao=It((e)=>e.replace(Aa,"-$1").toLowerCase()),Wr=It((e)=>e.charAt(0).toUpperCase()+e.slice(1)),Ro=It((e)=>e?`on${Wr(e)}`:""),Ur=(e,t)=>e!==t&&(e===e||t===t),tn=new WeakMap,nt=[],we,He=Symbol("iterate"),nn=Symbol("Map key iterate"),La=0,Ye=!0,gn=[],Ma=_r("__proto__,__v_isRef,__isVue"),zr=new Set(Object.getOwnPropertyNames(Symbol).map((e)=>Symbol[e]).filter(kn)),_a=Qr(),Ga=Qr(!0),Dn=Ha(),Wa=Ua(),Qa={get:_a,set:Wa,deleteProperty:Ba,has:ja,ownKeys:za},Ya={get:Ga,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},xn=(e)=>Ot(e)?wn(e):e,bn=(e)=>Ot(e)?Zr(e):e,qn=(e)=>e,Lt=(e)=>Reflect.getPrototypeOf(e),[Xa,$a,Za,Va]=Ja(),Ka={get:Yr(!1,!1)},eo={get:Yr(!0,!1)},Xr=new WeakMap,to=new WeakMap,$r=new WeakMap,no=new WeakMap;qe("nextTick",()=>En);qe("dispatch",(e)=>it.bind(it,e));qe("watch",(e,{evaluateLater:t,cleanup:i})=>(o,f)=>{let h=t(o),b=Yn(()=>{let N;return h((G)=>N=G),N},f);i(b)});qe("store",Ea);qe("data",(e)=>tr(e));qe("root",(e)=>Nt(e));qe("refs",(e)=>{if(e._x_refs_proxy)return e._x_refs_proxy;return e._x_refs_proxy=ut(ao(e)),e._x_refs_proxy});var Gt={};qe("id",(e,{cleanup:t})=>(i,o=null)=>{let f=`${i}${o?`-${o}`:""}`;return uo(e,f,t,()=>{let h=oo(e,i),k=h?h._x_ids[i]:Kr(i);return o?`${i}-${k}-${o}`:`${i}-${k}`})});At((e,t)=>{if(e._x_id)t._x_id=e._x_id});qe("el",(e)=>e);ei("Focus","focus","focus");ei("Persist","persist","persist");oe("modelable",(e,{expression:t},{effect:i,evaluateLater:o,cleanup:f})=>{let h=o(t),k=()=>{let B;return h((X)=>B=X),B},b=o(`${t} = __placeholder`),N=(B)=>b(()=>{},{scope:{__placeholder:B}}),G=k();N(G),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let B=e._x_model.get,X=e._x_model.set,J=Fr({get(){return B()},set(ae){X(ae)}},{get(){return k()},set(ae){N(ae)}});f(J)})});oe("teleport",(e,{modifiers:t,expression:i},{cleanup:o})=>{if(e.tagName.toLowerCase()!=="template")ke("x-teleport can only be used on a <template> tag",e);let f=Wn(i),h=e.content.cloneNode(!0).firstElementChild;if(e._x_teleport=h,h._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),h.setAttribute("data-teleport-target",!0),e._x_forwardEvents)e._x_forwardEvents.forEach((b)=>{h.addEventListener(b,(N)=>{N.stopPropagation(),e.dispatchEvent(new N.constructor(N.type,N))})});st(h,{},e);let k=(b,N,G)=>{if(G.includes("prepend"))N.parentNode.insertBefore(b,N);else if(G.includes("append"))N.parentNode.insertBefore(b,N.nextSibling);else N.appendChild(b)};se(()=>{k(h,f,t),Le(()=>{Se(h),h._x_ignore=!0})()}),e._x_teleportPutBack=()=>{let b=Wn(i);se(()=>{k(e._x_teleport,b,t)})},o(()=>h.remove())});var lo=document.createElement("div"),ti=()=>{};ti.inline=(e,{modifiers:t},{cleanup:i})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,i(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};oe("ignore",ti);oe("effect",Le((e,{expression:t},{effect:i})=>{i(pe(e,t))}));oe("model",(e,{modifiers:t,expression:i},{effect:o,cleanup:f})=>{let h=e;if(t.includes("parent"))h=e.parentNode;let k=pe(h,i),b;if(typeof i==="string")b=pe(h,`${i} = __placeholder`);else if(typeof i==="function"&&typeof i()==="string")b=pe(h,`${i()} = __placeholder`);else b=()=>{};let N=()=>{let J;return k((ae)=>J=ae),Bn(J)?J.get():J},G=(J)=>{let ae;if(k((ye)=>ae=ye),Bn(ae))ae.set(J);else b(()=>{},{scope:{__placeholder:J}})};if(typeof i==="string"&&e.type==="radio")se(()=>{if(!e.hasAttribute("name"))e.setAttribute("name",i)});var B=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let X=Oe?()=>{}:an(e,B,t,(J)=>{G(Ht(e,t,J,N()))});if(t.includes("fill")){if([void 0,null,""].includes(N())||e.type==="checkbox"&&Array.isArray(N())||e.tagName.toLowerCase()==="select"&&e.multiple)G(Ht(e,t,{target:e},N()))}if(!e._x_removeModelListeners)e._x_removeModelListeners={};if(e._x_removeModelListeners.default=X,f(()=>e._x_removeModelListeners.default()),e.form){let J=an(e.form,"reset",[],(ae)=>{En(()=>e._x_model&&e._x_model.set(Ht(e,t,{target:e},N())))});f(()=>J())}e._x_model={get(){return N()},set(J){G(J)}},e._x_forceModelUpdate=(J)=>{if(J===void 0&&typeof i==="string"&&i.match(/\./))J="";window.fromModel=!0,se(()=>Cr(e,"value",J)),delete window.fromModel},o(()=>{let J=N();if(t.includes("unintrusive")&&document.activeElement.isSameNode(e))return;e._x_forceModelUpdate(J)})});oe("cloak",(e)=>queueMicrotask(()=>se(()=>e.removeAttribute($e("cloak")))));gr(()=>`[${$e("init")}]`);oe("init",Le((e,{expression:t},{evaluate:i})=>{if(typeof t==="string")return!!t.trim()&&i(t,{},!1);return i(t,{},!1)}));oe("text",(e,{expression:t},{effect:i,evaluateLater:o})=>{let f=o(t);i(()=>{f((h)=>{se(()=>{e.textContent=h})})})});oe("html",(e,{expression:t},{effect:i,evaluateLater:o})=>{let f=o(t);i(()=>{f((h)=>{se(()=>{e.innerHTML=h,e._x_ignoreSelf=!0,Se(e),delete e._x_ignoreSelf})})})});hn(fr(":",mr($e("bind:"))));var ri=(e,{value:t,modifiers:i,expression:o,original:f},{effect:h,cleanup:k})=>{if(!t){let N={};ka(N),pe(e,o)((B)=>{Dr(e,B,f)},{scope:N});return}if(t==="key")return To(e,o);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let b=pe(e,o);h(()=>b((N)=>{if(N===void 0&&typeof o==="string"&&o.match(/\./))N="";se(()=>Cr(e,t,N,i))})),k(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};ri.inline=(e,{value:t,modifiers:i,expression:o})=>{if(!t)return;if(!e._x_inlineBindings)e._x_inlineBindings={};e._x_inlineBindings[t]={expression:o,extract:!1}};oe("bind",ri);yr(()=>`[${$e("data")}]`);oe("data",(e,{expression:t},{cleanup:i})=>{if(ko(e))return;t=t===""?"{}":t;let o={};Yt(o,e);let f={};ga(f,o);let h=_e(e,t,{scope:f});if(h===void 0||h===!0)h={};Yt(h,e);let k=Je(h);nr(k);let b=st(e,k);k.init&&_e(e,k.init),i(()=>{k.destroy&&_e(e,k.destroy),b()})});At((e,t)=>{if(e._x_dataStack)t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0)});oe("show",(e,{modifiers:t,expression:i},{effect:o})=>{let f=pe(e,i);if(!e._x_doHide)e._x_doHide=()=>{se(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})};if(!e._x_doShow)e._x_doShow=()=>{se(()=>{if(e.style.length===1&&e.style.display==="none")e.removeAttribute("style");else e.style.removeProperty("display")})};let h=()=>{e._x_doHide(),e._x_isShown=!1},k=()=>{e._x_doShow(),e._x_isShown=!0},b=()=>setTimeout(k),N=Vt((X)=>X?k():h(),(X)=>{if(typeof e._x_toggleAndCascadeWithTransitions==="function")e._x_toggleAndCascadeWithTransitions(e,X,k,h);else X?b():h()}),G,B=!0;o(()=>f((X)=>{if(!B&&X===G)return;if(t.includes("immediate"))X?b():h();N(X),G=X,B=!1}))});oe("for",(e,{expression:t},{effect:i,cleanup:o})=>{let f=go(t),h=pe(e,f.items),k=pe(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},i(()=>yo(e,f,h,k)),o(()=>{Object.values(e._x_lookup).forEach((b)=>b.remove()),delete e._x_prevKeys,delete e._x_lookup})});ii.inline=(e,{expression:t},{cleanup:i})=>{let o=Nt(e);if(!o._x_refs)o._x_refs={};o._x_refs[t]=e,i(()=>delete o._x_refs[t])};oe("ref",ii);oe("if",(e,{expression:t},{effect:i,cleanup:o})=>{if(e.tagName.toLowerCase()!=="template")ke("x-if can only be used on a <template> tag",e);let f=pe(e,t),h=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let b=e.content.cloneNode(!0).firstElementChild;return st(b,{},e),se(()=>{e.after(b),Le(()=>Se(b))()}),e._x_currentIfEl=b,e._x_undoIf=()=>{Re(b,(N)=>{if(N._x_effects)N._x_effects.forEach(zn)}),b.remove(),delete e._x_currentIfEl},b},k=()=>{if(!e._x_undoIf)return;e._x_undoIf(),delete e._x_undoIf};i(()=>f((b)=>{b?h():k()})),o(()=>e._x_undoIf&&e._x_undoIf())});oe("id",(e,{expression:t},{evaluate:i})=>{i(t).forEach((f)=>so(e,f))});At((e,t)=>{if(e._x_ids)t._x_ids=e._x_ids});hn(fr("@",mr($e("on:"))));oe("on",Le((e,{value:t,modifiers:i,expression:o},{cleanup:f})=>{let h=o?pe(e,o):()=>{};if(e.tagName.toLowerCase()==="template"){if(!e._x_forwardEvents)e._x_forwardEvents=[];if(!e._x_forwardEvents.includes(t))e._x_forwardEvents.push(t)}let k=an(e,t,i,(b)=>{h(()=>{},{scope:{$event:b},params:[b]})});f(()=>k())}));Ft("Collapse","collapse","collapse");Ft("Intersect","intersect","intersect");Ft("Focus","trap","focus");Ft("Mask","mask","mask");ct.setEvaluator(sr);ct.setReactivityEngine({reactive:wn,effect:Oa,release:Ia,raw:te});var bo=ct,Sn=bo;var si=hi(oi(),1),qo=function(e){return new URL(e).pathname.split("/").filter(Boolean).pop()};window.Alpine=Sn;Sn.start();si.default.browserInit();window.initComponents=function(){const e=document.getElementsByClassName("stop-vertical-scroll");for(let t of e)t.onmouseover=()=>{document.body.classList.add("noYScroll")},t.onmouseout=()=>{document.body.classList.remove("noYScroll")}};window.addEventListener("popstate",(e)=>{window.location.reload()});initComponents();window.trimInput=function(e){if(e&&e.value)e.value=e.value.replace(/^\s+/,"").replace(/\s+$/,"").trim()};window.isInputEmpty=function(e){return trimInput(e),!e||!e.value||e.value===""};window.getLastUrlSegmentCurrent=function(){return qo(window.location.href)??""};window.getQueryParam=function(e){return new URL(document.location).searchParams.get(e)};window.limitInputToMaxLength=function(e){if(e.value.length>e.maxLength)e.value=e.value.slice(0,e.maxLength)};window.getPathName=function(){return window.location.pathname};window.redirectTo=function(e){window.location.href="."+e};window.initNav=function(){let e=window.location.pathname;if(e.length===0){let t=getLastUrlSegmentCurrent();if(!t||t===""||t==="index"||t==="/"){let i=localStorage.getItem("current-nav");if(i){document.getElementById(i)?.dispatchEvent(new CustomEvent("navigate"));return}let o=document.getElementsByClassName("navbar-start");if(o.length>0){let h=o[0].getElementsByTagName("a");if(h.length>0){let k=h[0];localStorage.setItem("current-nav",k.id),k.dispatchEvent(new CustomEvent("navigate"))}}}}else if(e==="/"){let t=getLastUrlSegmentCurrent();if(!t||t===""||t==="index"||t==="/"){let i=localStorage.getItem("current-nav");if(i){document.getElementById(i)?.dispatchEvent(new CustomEvent("navigate"));return}let o=document.getElementsByClassName("navbar-start");if(o.length>0){let h=o[0].getElementsByTagName("a");if(h.length>0){let k=h[0];localStorage.setItem("current-nav",k.id),k.dispatchEvent(new CustomEvent("navigate"))}}}}else{let t=document.getElementById("nav-helper");if(t)t.dispatchEvent(new CustomEvent("navigate"))}};window.saveNavState=function(e){localStorage.setItem("current-nav",e.id),modifyUrl(e)};window.modifyUrl=function(e){let t=e.getAttribute("hx-get").replaceAll("/stc","");window.history.pushState(window.history.state,document.title,t)};window.removeStc=function(e){let i=window.location.href.replaceAll("/stc","");window.history.replaceState(window.history.state,document.title,i)};window.saveToLocalStorage=function(e,t){localStorage.setItem(e,t)};window.getFromLocalStorage=function(e){return localStorage.getItem(e)};window.monthsToStr=function(e){let t="";for(let i=0;i<e.length;i++){let o=e[i];if(t+=integerToMonth(o),i<e.length-1)t+=", "}return t};window.integerToMonth=function(e){if(!e)return"N/A";switch(e){case 1:return"Enero";case 2:return"Febrero";case 3:return"Marzo";case 4:return"Abril";case 5:return"Mayo";case 6:return"Junio";case 7:return"Julio";case 8:return"Agosto";case 9:return"Septiembre";case 10:return"Octubre";case 11:return"Noviembre";case 12:return"Diciembre";default:return"N/A"}};window.openTab=function(e,t){let i=document.getElementsByClassName("tab-cm-content");for(let f=0;f<i.length;f++)i[f].style.display="none";let o=document.getElementsByClassName("tablinks");for(let f=0;f<o.length;f++)o[f].className=o[f].className.replace(" btn-active","");if(document.getElementById(t).style.display="block",e)e.className+=" btn-active"};window.slideTo=function(e,t){let i=document.getElementById(e);if(i)i.scrollBy({left:t==="left"?-500:500,behavior:"smooth"})};window.scrollDiv=function(e){e.addEventListener("wheel",(t)=>{e.scrollBy({left:t.deltaY>0?-400:400,behavior:"smooth"})},{passive:!0})};window.validateEmail=function(e){if(e){if(e.length>0){let t=e.indexOf("@"),i=e.indexOf(".");if(t>0&&i>t&&i<e.length-1)return!0}}return!1};window.sendEvent=function(e,t){let i=document.getElementById(e);if(i)i.dispatchEvent(new CustomEvent(t))};window.saveResource=function(e,t){saveToLocalStorage(e,t)};window.getResource=function(e,t){let i=getFromLocalStorage(e),o=getLastUrlSegmentCurrent();localStorage.removeItem(e);let f=i??o;if(i&&t){let h=window.location.href+t+f;window.history.pushState(window.history.state,document.title,h)}return f};
