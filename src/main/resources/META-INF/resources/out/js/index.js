var fi=Object.create;var{defineProperty:Rn,getPrototypeOf:mi,getOwnPropertyNames:hi}=Object;var pi=Object.prototype.hasOwnProperty;var vi=(e,t,i)=>{i=e!=null?fi(mi(e)):{};const a=t||!e||!e.__esModule?Rn(i,"default",{value:e,enumerable:!0}):i;for(let c of hi(e))if(!pi.call(a,c))Rn(a,c,{get:()=>e[c],enumerable:!0});return a};var di=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var si=di((Nn,oi)=>{(function(e,t){const i=t(e);if(typeof Nn==="object"&&typeof Nn.nodeName!=="string")oi.exports=i;else if(e._hyperscript=i,"document"in e)e._hyperscript.browserInit()})(typeof self!=="undefined"?self:Nn,(e)=>{const t={dynamicResolvers:[function(r,l){if(r==="Fixed")return Number(l).toFixed();else if(r.indexOf("Fixed:")===0){let d=r.split(":")[1];return Number(l).toFixed(parseInt(d))}}],String:function(r){if(r.toString)return r.toString();else return""+r},Int:function(r){return parseInt(r)},Float:function(r){return parseFloat(r)},Number:function(r){return Number(r)},Date:function(r){return new Date(r)},Array:function(r){return Array.from(r)},JSON:function(r){return JSON.stringify(r)},Object:function(r){if(r instanceof String)r=r.toString();if(typeof r==="string")return JSON.parse(r);else return Object.assign({},r)}},i={attributes:"_, script, data-script",defaultTransition:"all 500ms ease-in",disableSelector:"[disable-scripting], [data-disable-scripting]",hideShowStrategies:{},conversions:t};class a{static OP_TABLE={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE",".":"PERIOD","..":"ELLIPSIS","\\":"BACKSLASH",":":"COLON","%":"PERCENT","|":"PIPE","!":"EXCLAMATION","?":"QUESTION","#":"POUND","&":"AMPERSAND",$:"DOLLAR",";":"SEMI",",":"COMMA","(":"L_PAREN",")":"R_PAREN","<":"L_ANG",">":"R_ANG","<=":"LTE_ANG",">=":"GTE_ANG","==":"EQ","===":"EQQ","!=":"NEQ","!==":"NEQQ","{":"L_BRACE","}":"R_BRACE","[":"L_BRACKET","]":"R_BRACKET","=":"EQUALS"};static isValidCSSClassChar(r){return a.isAlpha(r)||a.isNumeric(r)||r==="-"||r==="_"||r===":"}static isValidCSSIDChar(r){return a.isAlpha(r)||a.isNumeric(r)||r==="-"||r==="_"||r===":"}static isWhitespace(r){return r===" "||r==="\t"||a.isNewline(r)}static positionString(r){return"[Line: "+r.line+", Column: "+r.column+"]"}static isNewline(r){return r==="\r"||r==="\n"}static isNumeric(r){return r>="0"&&r<="9"}static isAlpha(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"}static isIdentifierChar(r,l){return r==="_"||r==="$"}static isReservedChar(r){return r==="`"||r==="^"}static isValidSingleQuoteStringStart(r){if(r.length>0){var l=r[r.length-1];if(l.type==="IDENTIFIER"||l.type==="CLASS_REF"||l.type==="ID_REF")return!1;if(l.op&&(l.value===">"||l.value===")"))return!1}return!0}static tokenize(r,l){var d=[],y=r,w=0,F=0,q=1,g="<START>",E=0;function I(){return l&&E===0}while(w<y.length)if(s()==="-"&&m()==="-"&&(a.isWhitespace(T(2))||T(2)===""||T(2)==="-")||s()==="/"&&m()==="/"&&(a.isWhitespace(T(2))||T(2)===""||T(2)==="/"))M();else if(s()==="/"&&m()==="*"&&(a.isWhitespace(T(2))||T(2)===""||T(2)==="*"))P();else if(a.isWhitespace(s()))d.push(A());else if(!x()&&s()==="."&&(a.isAlpha(m())||m()==="{"||m()==="-"))d.push(D());else if(!x()&&s()==="#"&&(a.isAlpha(m())||m()==="{"))d.push(j());else if(s()==="["&&m()==="@")d.push(_());else if(s()==="@")d.push(U());else if(s()==="*"&&a.isAlpha(m()))d.push(z());else if(a.isAlpha(s())||!I()&&a.isIdentifierChar(s()))d.push(u());else if(a.isNumeric(s()))d.push(f());else if(!I()&&(s()==='"'||s()==="`"))d.push(o());else if(!I()&&s()==="'")if(a.isValidSingleQuoteStringStart(d))d.push(o());else d.push(n());else if(a.OP_TABLE[s()]){if(g==="$"&&s()==="{")E++;if(s()==="}")E--;d.push(n())}else if(I()||a.isReservedChar(s()))d.push(O("RESERVED",v()));else if(w<y.length)throw Error("Unknown token: "+s()+" ");return new c(d,[],y);function R(S,C){var L=O(S,C);return L.op=!0,L}function O(S,C){return{type:S,value:C||"",start:w,end:w+1,column:F,line:q}}function M(){while(s()&&!a.isNewline(s()))v();v()}function P(){while(s()&&!(s()==="*"&&m()==="/"))v();v(),v()}function D(){var S=O("CLASS_REF"),C=v();if(s()==="{"){S.template=!0,C+=v();while(s()&&s()!=="}")C+=v();if(s()!=="}")throw Error("Unterminated class reference");else C+=v()}else while(a.isValidCSSClassChar(s()))C+=v();return S.value=C,S.end=w,S}function _(){var S=O("ATTRIBUTE_REF"),C=v();while(w<y.length&&s()!=="]")C+=v();if(s()==="]")C+=v();return S.value=C,S.end=w,S}function U(){var S=O("ATTRIBUTE_REF"),C=v();while(a.isValidCSSIDChar(s()))C+=v();if(s()==="="){if(C+=v(),s()==='"'||s()==="'"){let L=o();C+=L.value}else if(a.isAlpha(s())||a.isNumeric(s())||a.isIdentifierChar(s())){let L=u();C+=L.value}}return S.value=C,S.end=w,S}function z(){var S=O("STYLE_REF"),C=v();while(a.isAlpha(s())||s()==="-")C+=v();return S.value=C,S.end=w,S}function j(){var S=O("ID_REF"),C=v();if(s()==="{"){S.template=!0,C+=v();while(s()&&s()!=="}")C+=v();if(s()!=="}")throw Error("Unterminated id reference");else v()}else while(a.isValidCSSIDChar(s()))C+=v();return S.value=C,S.end=w,S}function u(){var S=O("IDENTIFIER"),C=v();while(a.isAlpha(s())||a.isNumeric(s())||a.isIdentifierChar(s()))C+=v();if(s()==="!"&&C==="beep")C+=v();return S.value=C,S.end=w,S}function f(){var S=O("NUMBER"),C=v();while(a.isNumeric(s()))C+=v();if(s()==="."&&a.isNumeric(m()))C+=v();while(a.isNumeric(s()))C+=v();if(s()==="e"||s()==="E"){if(a.isNumeric(m()))C+=v();else if(m()==="-")C+=v(),C+=v()}while(a.isNumeric(s()))C+=v();return S.value=C,S.end=w,S}function n(){var S=R(),C=v();while(s()&&a.OP_TABLE[C+s()])C+=v();return S.type=a.OP_TABLE[C],S.value=C,S.end=w,S}function o(){var S=O("STRING"),C=v(),L="";while(s()&&s()!==C)if(s()==="\\"){v();let H=v();if(H==="b")L+="\b";else if(H==="f")L+="\f";else if(H==="n")L+="\n";else if(H==="r")L+="\r";else if(H==="t")L+="\t";else if(H==="v")L+="\v";else if(H==="x"){const Y=p();if(Number.isNaN(Y))throw Error("Invalid hexadecimal escape at "+a.positionString(S));L+=String.fromCharCode(Y)}else L+=H}else L+=v();if(s()!==C)throw Error("Unterminated string at "+a.positionString(S));else v();return S.value=L,S.end=w,S.template=C==="`",S}function p(){if(!s())return NaN;let C=16*Number.parseInt(v(),16);if(!s())return NaN;return C+=Number.parseInt(v(),16),C}function s(){return y.charAt(w)}function m(){return y.charAt(w+1)}function T(S=1){return y.charAt(w+S)}function v(){return g=s(),w++,F++,g}function x(){return a.isAlpha(g)||a.isNumeric(g)||g===")"||g==='"'||g==="'"||g==="`"||g==="}"||g==="]"}function A(){var S=O("WHITESPACE"),C="";while(s()&&a.isWhitespace(s())){if(a.isNewline(s()))F=0,q++;C+=v()}return S.value=C,S.end=w,S}}tokenize(r,l){return a.tokenize(r,l)}}class c{constructor(r,l,d){this.tokens=r,this.consumed=l,this.source=d,this.consumeWhitespace()}get list(){return this.tokens}_lastConsumed=null;consumeWhitespace(){while(this.token(0,!0).type==="WHITESPACE")this.consumed.push(this.tokens.shift())}raiseError(r,l){h.raiseParseError(r,l)}requireOpToken(r){var l=this.matchOpToken(r);if(l)return l;else this.raiseError(this,"Expected '"+r+"' but found '"+this.currentToken().value+"'")}matchAnyOpToken(r,l,d){for(var y=0;y<arguments.length;y++){var w=arguments[y],F=this.matchOpToken(w);if(F)return F}}matchAnyToken(r,l,d){for(var y=0;y<arguments.length;y++){var w=arguments[y],F=this.matchToken(w);if(F)return F}}matchOpToken(r){if(this.currentToken()&&this.currentToken().op&&this.currentToken().value===r)return this.consumeToken()}requireTokenType(r,l,d,y){var w=this.matchTokenType(r,l,d,y);if(w)return w;else this.raiseError(this,"Expected one of "+JSON.stringify([r,l,d]))}matchTokenType(r,l,d,y){if(this.currentToken()&&this.currentToken().type&&[r,l,d,y].indexOf(this.currentToken().type)>=0)return this.consumeToken()}requireToken(r,l){var d=this.matchToken(r,l);if(d)return d;else this.raiseError(this,"Expected '"+r+"' but found '"+this.currentToken().value+"'")}peekToken(r,l,d){if(l=l||0,d=d||"IDENTIFIER",this.tokens[l]&&this.tokens[l].value===r&&this.tokens[l].type===d)return this.tokens[l]}matchToken(r,l){if(this.follows.indexOf(r)!==-1)return;if(l=l||"IDENTIFIER",this.currentToken()&&this.currentToken().value===r&&this.currentToken().type===l)return this.consumeToken()}consumeToken(){var r=this.tokens.shift();return this.consumed.push(r),this._lastConsumed=r,this.consumeWhitespace(),r}consumeUntil(r,l){var d=[],y=this.token(0,!0);while((l==null||y.type!==l)&&(r==null||y.value!==r)&&y.type!=="EOF"){var w=this.tokens.shift();this.consumed.push(w),d.push(y),y=this.token(0,!0)}return this.consumeWhitespace(),d}lastWhitespace(){if(this.consumed[this.consumed.length-1]&&this.consumed[this.consumed.length-1].type==="WHITESPACE")return this.consumed[this.consumed.length-1].value;else return""}consumeUntilWhitespace(){return this.consumeUntil(null,"WHITESPACE")}hasMore(){return this.tokens.length>0}token(r,l){var d,y=0;do{if(!l)while(this.tokens[y]&&this.tokens[y].type==="WHITESPACE")y++;d=this.tokens[y],r--,y++}while(r>-1);if(d)return d;else return{type:"EOF",value:"<<<EOF>>>"}}currentToken(){return this.token(0)}lastMatch(){return this._lastConsumed}static sourceFor=function(){return this.programSource.substring(this.startToken.start,this.endToken.end)};static lineFor=function(){return this.programSource.split("\n")[this.startToken.line-1]};follows=[];pushFollow(r){this.follows.push(r)}popFollow(){this.follows.pop()}clearFollows(){var r=this.follows;return this.follows=[],r}restoreFollows(r){this.follows=r}}class h{constructor(r){this.runtime=r,this.possessivesDisabled=!1,this.addGrammarElement("feature",function(l,d,y){if(y.matchOpToken("(")){var w=l.requireElement("feature",y);return y.requireOpToken(")"),w}var F=l.FEATURES[y.currentToken().value||""];if(F)return F(l,d,y)}),this.addGrammarElement("command",function(l,d,y){if(y.matchOpToken("(")){const q=l.requireElement("command",y);return y.requireOpToken(")"),q}var w=l.COMMANDS[y.currentToken().value||""];let F;if(w)F=w(l,d,y);else if(y.currentToken().type==="IDENTIFIER")F=l.parseElement("pseudoCommand",y);if(F)return l.parseElement("indirectStatement",y,F);return F}),this.addGrammarElement("commandList",function(l,d,y){if(y.hasMore()){var w=l.parseElement("command",y);if(w){y.matchToken("then");const F=l.parseElement("commandList",y);if(F)w.next=F;return w}}return{type:"emptyCommandListCommand",op:function(F){return d.findNext(this,F)},execute:function(F){return d.unifiedExec(this,F)}}}),this.addGrammarElement("leaf",function(l,d,y){var w=l.parseAnyOf(l.LEAF_EXPRESSIONS,y);if(w==null)return l.parseElement("symbol",y);return w}),this.addGrammarElement("indirectExpression",function(l,d,y,w){for(var F=0;F<l.INDIRECT_EXPRESSIONS.length;F++){var q=l.INDIRECT_EXPRESSIONS[F];w.endToken=y.lastMatch();var g=l.parseElement(q,y,w);if(g)return g}return w}),this.addGrammarElement("indirectStatement",function(l,d,y,w){if(y.matchToken("unless")){w.endToken=y.lastMatch();var F=l.requireElement("expression",y),q={type:"unlessStatementModifier",args:[F],op:function(g,E){if(E)return this.next;else return w},execute:function(g){return d.unifiedExec(this,g)}};return w.parent=q,q}return w}),this.addGrammarElement("primaryExpression",function(l,d,y){var w=l.parseElement("leaf",y);if(w)return l.parseElement("indirectExpression",y,w);l.raiseParseError(y,"Unexpected value: "+y.currentToken().value)})}use(r){return r(this),this}GRAMMAR={};COMMANDS={};FEATURES={};LEAF_EXPRESSIONS=[];INDIRECT_EXPRESSIONS=[];initElt(r,l,d){r.startToken=l,r.sourceFor=c.sourceFor,r.lineFor=c.lineFor,r.programSource=d.source}parseElement(r,l,d=void 0){var y=this.GRAMMAR[r];if(y){var w=l.currentToken(),F=y(this,this.runtime,l,d);if(F){this.initElt(F,w,l),F.endToken=F.endToken||l.lastMatch();var d=F.root;while(d!=null)this.initElt(d,w,l),d=d.root}return F}}requireElement(r,l,d,y){var w=this.parseElement(r,l,y);if(!w)h.raiseParseError(l,d||"Expected "+r);return w}parseAnyOf(r,l){for(var d=0;d<r.length;d++){var y=r[d],w=this.parseElement(y,l);if(w)return w}}addGrammarElement(r,l){this.GRAMMAR[r]=l}addCommand(r,l){var d=r+"Command",y=function(w,F,q){const g=l(w,F,q);if(g)return g.type=d,g.execute=function(E){return E.meta.command=g,F.unifiedExec(this,E)},g};this.GRAMMAR[d]=y,this.COMMANDS[r]=y}addFeature(r,l){var d=r+"Feature",y=function(w,F,q){var g=l(w,F,q);if(g)return g.isFeature=!0,g.keyword=r,g.type=d,g};this.GRAMMAR[d]=y,this.FEATURES[r]=y}addLeafExpression(r,l){this.LEAF_EXPRESSIONS.push(r),this.addGrammarElement(r,l)}addIndirectExpression(r,l){this.INDIRECT_EXPRESSIONS.push(r),this.addGrammarElement(r,l)}static createParserContext(r){var l=r.currentToken(),d=r.source,y=d.split("\n"),w=l&&l.line?l.line-1:y.length-1,F=y[w],q=l&&l.line?l.column:F.length-1;return F+"\n"+" ".repeat(q)+"^^\n\n"}static raiseParseError(r,l){l=(l||"Unexpected Token : "+r.currentToken().value)+"\n\n"+h.createParserContext(r);var d=new Error(l);throw d.tokens=r,d}raiseParseError(r,l){h.raiseParseError(r,l)}parseHyperScript(r){var l=this.parseElement("hyperscript",r);if(r.hasMore())this.raiseParseError(r);if(l)return l}setParent(r,l){if(typeof r==="object"){if(r.parent=l,typeof l==="object")l.children=l.children||new Set,l.children.add(r);this.setParent(r.next,l)}}commandStart(r){return this.COMMANDS[r.value||""]}featureStart(r){return this.FEATURES[r.value||""]}commandBoundary(r){if(r.value=="end"||r.value=="then"||r.value=="else"||r.value=="otherwise"||r.value==")"||this.commandStart(r)||this.featureStart(r)||r.type=="EOF")return!0;return!1}parseStringTemplate(r){var l=[""];do if(l.push(r.lastWhitespace()),r.currentToken().value==="$"){r.consumeToken();var d=r.matchOpToken("{");if(l.push(this.requireElement("expression",r)),d)r.requireOpToken("}");l.push("")}else if(r.currentToken().value==="\\")r.consumeToken(),r.consumeToken();else{var y=r.consumeToken();l[l.length-1]+=y?y.value:""}while(r.hasMore());return l.push(r.lastWhitespace()),l}ensureTerminated(r){const l=this.runtime;var d={type:"implicitReturn",op:function(w){if(w.meta.returned=!0,w.meta.resolve)w.meta.resolve();return l.HALT},execute:function(w){}},y=r;while(y.next)y=y.next;y.next=d}}class k{constructor(r,l){this.lexer=r??new a,this.parser=l??new h(this).use(ie).use(ue),this.parser.runtime=this}matchesSelector(r,l){var d=r.matches||r.matchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector;return d&&d.call(r,l)}makeEvent(r,l){var d;if(e.Event&&typeof e.Event==="function")d=new Event(r,{bubbles:!0,cancelable:!0}),d.detail=l;else d=document.createEvent("CustomEvent"),d.initCustomEvent(r,!0,!0,l);return d}triggerEvent(r,l,d,y){d=d||{},d.sender=y;var w=this.makeEvent(l,d),F=r.dispatchEvent(w);return F}isArrayLike(r){return Array.isArray(r)||typeof NodeList!=="undefined"&&(r instanceof NodeList||r instanceof HTMLCollection)}isIterable(r){return typeof r==="object"&&Symbol.iterator in r&&typeof r[Symbol.iterator]==="function"}shouldAutoIterate(r){return r!=null&&r[ae]||this.isArrayLike(r)}forEach(r,l){if(r==null);else if(this.isIterable(r))for(let y of r)l(y);else if(this.isArrayLike(r))for(var d=0;d<r.length;d++)l(r[d]);else l(r)}implicitLoop(r,l){if(this.shouldAutoIterate(r))for(let d of r)l(d);else l(r)}wrapArrays(r){var l=[];for(var d=0;d<r.length;d++){var y=r[d];if(Array.isArray(y))l.push(Promise.all(y));else l.push(y)}return l}unwrapAsyncs(r){for(var l=0;l<r.length;l++){var d=r[l];if(d.asyncWrapper)r[l]=d.value;if(Array.isArray(d))for(var y=0;y<d.length;y++){var w=d[y];if(w.asyncWrapper)d[y]=w.value}}}static HALT={};HALT=k.HALT;unifiedExec(r,l){while(!0){try{var d=this.unifiedEval(r,l)}catch(y){if(l.meta.handlingFinally)console.error(" Exception in finally block: ",y),d=k.HALT;else if(this.registerHyperTrace(l,y),l.meta.errorHandler&&!l.meta.handlingError){l.meta.handlingError=!0,l.locals[l.meta.errorSymbol]=y,r=l.meta.errorHandler;continue}else l.meta.currentException=y,d=k.HALT}if(d==null){console.error(r," did not return a next element to execute! context: ",l);return}else if(d.then){d.then((y)=>{this.unifiedExec(y,l)}).catch((y)=>{this.unifiedExec({op:function(){throw y}},l)});return}else if(d===k.HALT)if(l.meta.finallyHandler&&!l.meta.handlingFinally)l.meta.handlingFinally=!0,r=l.meta.finallyHandler;else{if(l.meta.onHalt)l.meta.onHalt();if(l.meta.currentException)if(l.meta.reject){l.meta.reject(l.meta.currentException);return}else throw l.meta.currentException;else return}else r=d}}unifiedEval(r,l){var d=[l],y=!1,w=!1;if(r.args)for(var F=0;F<r.args.length;F++){var q=r.args[F];if(q==null)d.push(null);else if(Array.isArray(q)){var g=[];for(var E=0;E<q.length;E++){var I=q[E],R=I?I.evaluate(l):null;if(R){if(R.then)y=!0;else if(R.asyncWrapper)w=!0}g.push(R)}d.push(g)}else if(q.evaluate){var R=q.evaluate(l);if(R){if(R.then)y=!0;else if(R.asyncWrapper)w=!0}d.push(R)}else d.push(q)}if(y)return new Promise((O,M)=>{d=this.wrapArrays(d),Promise.all(d).then(function(P){if(w)this.unwrapAsyncs(P);try{var D=r.op.apply(r,P);O(D)}catch(_){M(_)}}).catch(function(P){M(P)})});else{if(w)this.unwrapAsyncs(d);return r.op.apply(r,d)}}_scriptAttrs=null;getScriptAttributes(){if(this._scriptAttrs==null)this._scriptAttrs=i.attributes.replace(/ /g,"").split(",");return this._scriptAttrs}getScript(r){for(var l=0;l<this.getScriptAttributes().length;l++){var d=this.getScriptAttributes()[l];if(r.hasAttribute&&r.hasAttribute(d))return r.getAttribute(d)}if(r instanceof HTMLScriptElement&&r.type==="text/hyperscript")return r.innerText;return null}hyperscriptFeaturesMap=new WeakMap;getHyperscriptFeatures(r){var l=this.hyperscriptFeaturesMap.get(r);if(typeof l==="undefined"){if(r)this.hyperscriptFeaturesMap.set(r,l={})}return l}addFeatures(r,l){if(r)Object.assign(l.locals,this.getHyperscriptFeatures(r)),this.addFeatures(r.parentElement,l)}makeContext(r,l,d,y){return new X(r,l,d,y,this)}getScriptSelector(){return this.getScriptAttributes().map(function(r){return"["+r+"]"}).join(", ")}convertValue(r,l){var d=t.dynamicResolvers;for(var y=0;y<d.length;y++){var w=d[y],F=w(l,r);if(F!==void 0)return F}if(r==null)return null;var q=t[l];if(q)return q(r);throw"Unknown conversion : "+l}parse(r){const l=this.lexer,d=this.parser;var y=l.tokenize(r);if(this.parser.commandStart(y.currentToken())){var w=d.requireElement("commandList",y);if(y.hasMore())d.raiseParseError(y);return d.ensureTerminated(w),w}else if(d.featureStart(y.currentToken())){var F=d.requireElement("hyperscript",y);if(y.hasMore())d.raiseParseError(y);return F}else{var q=d.requireElement("expression",y);if(y.hasMore())d.raiseParseError(y);return q}}evaluateNoPromise(r,l){let d=r.evaluate(l);if(d.next)throw new Error(c.sourceFor.call(r)+" returned a Promise in a context that they are not allowed.");return d}evaluate(r,l,d){class y extends EventTarget{constructor(g){super();this.module=g}toString(){return this.module.id}}var w="document"in e?e.document.body:new y(d&&d.module);l=Object.assign(this.makeContext(w,null,w,null),l||{});var F=this.parse(r);if(F.execute)if(F.execute(l),typeof l.meta.returnValue!=="undefined")return l.meta.returnValue;else return l.result;else if(F.apply)return F.apply(w,w,d),this.getHyperscriptFeatures(w);else return F.evaluate(l);function q(){return{}}}processNode(r){var l=this.getScriptSelector();if(this.matchesSelector(r,l))this.initElement(r,r);if(r instanceof HTMLScriptElement&&r.type==="text/hyperscript")this.initElement(r,document.body);if(r.querySelectorAll)this.forEach(r.querySelectorAll(l+", [type='text/hyperscript']"),(d)=>{this.initElement(d,d instanceof HTMLScriptElement&&d.type==="text/hyperscript"?document.body:d)})}initElement(r,l){if(r.closest&&r.closest(i.disableSelector))return;var d=this.getInternalData(r);if(!d.initialized){var y=this.getScript(r);if(y)try{d.initialized=!0,d.script=y;const q=this.lexer,g=this.parser;var w=q.tokenize(y),F=g.parseHyperScript(w);if(!F)return;F.apply(l||r,r),setTimeout(()=>{this.triggerEvent(l||r,"load",{hyperscript:!0})},1)}catch(q){this.triggerEvent(r,"exception",{error:q}),console.error("hyperscript errors were found on the following element:",r,"\n\n",q.message,q.stack)}}}internalDataMap=new WeakMap;getInternalData(r){var l=this.internalDataMap.get(r);if(typeof l==="undefined")this.internalDataMap.set(r,l={});return l}typeCheck(r,l,d){if(r==null&&d)return!0;var y=Object.prototype.toString.call(r).slice(8,-1);return y===l}getElementScope(r){var l=r.meta&&r.meta.owner;if(l){var d=this.getInternalData(l),y="elementScope";if(r.meta.feature&&r.meta.feature.behavior)y=r.meta.feature.behavior+"Scope";var w=ye(d,y);return w}else return{}}isReservedWord(r){return["meta","it","result","locals","event","target","detail","sender","body"].includes(r)}isHyperscriptContext(r){return r instanceof X}resolveSymbol(r,l,d){if(r==="me"||r==="my"||r==="I")return l.me;if(r==="it"||r==="its"||r==="result")return l.result;if(r==="you"||r==="your"||r==="yourself")return l.you;else if(d==="global")return e[r];else if(d==="element"){var y=this.getElementScope(l);return y[r]}else if(d==="local")return l.locals[r];else{if(l.meta&&l.meta.context){var w=l.meta.context[r];if(typeof w!=="undefined")return w;if(l.meta.context.detail){if(w=l.meta.context.detail[r],typeof w!=="undefined")return w}}if(this.isHyperscriptContext(l)&&!this.isReservedWord(r))var F=l.locals[r];else var F=l[r];if(typeof F!=="undefined")return F;else{var y=this.getElementScope(l);if(F=y[r],typeof F!=="undefined")return F;else return e[r]}}}setSymbol(r,l,d,y){if(d==="global")e[r]=y;else if(d==="element"){var w=this.getElementScope(l);w[r]=y}else if(d==="local")l.locals[r]=y;else if(this.isHyperscriptContext(l)&&!this.isReservedWord(r)&&typeof l.locals[r]!=="undefined")l.locals[r]=y;else{var w=this.getElementScope(l),F=w[r];if(typeof F!=="undefined")w[r]=y;else if(this.isHyperscriptContext(l)&&!this.isReservedWord(r))l.locals[r]=y;else l[r]=y}}findNext(r,l){if(r)if(r.resolveNext)return r.resolveNext(l);else if(r.next)return r.next;else return this.findNext(r.parent,l)}flatGet(r,l,d){if(r!=null){var y=d(r,l);if(typeof y!=="undefined")return y;if(this.shouldAutoIterate(r)){var w=[];for(var F of r){var q=d(F,l);w.push(q)}return w}}}resolveProperty(r,l){return this.flatGet(r,l,(d,y)=>d[y])}resolveAttribute(r,l){return this.flatGet(r,l,(d,y)=>d.getAttribute&&d.getAttribute(y))}resolveStyle(r,l){return this.flatGet(r,l,(d,y)=>d.style&&d.style[y])}resolveComputedStyle(r,l){return this.flatGet(r,l,(d,y)=>getComputedStyle(d).getPropertyValue(y))}assignToNamespace(r,l,d,y){let w;if(typeof document!=="undefined"&&r===document.body)w=e;else w=this.getHyperscriptFeatures(r);var F;while((F=l.shift())!==void 0){var q=w[F];if(q==null)q={},w[F]=q;w=q}w[d]=y}getHyperTrace(r,l){var d=[],y=r;while(y.meta.caller)y=y.meta.caller;if(y.meta.traceMap)return y.meta.traceMap.get(l,d)}registerHyperTrace(r,l){var d=[],y=null;while(r!=null)d.push(r),y=r,r=r.meta.caller;if(y.meta.traceMap==null)y.meta.traceMap=new Map;if(!y.meta.traceMap.get(l)){var w={trace:d,print:function(F){F=F||console.error,F("hypertrace /// ");var q=0;for(var g=0;g<d.length;g++)q=Math.max(q,d[g].meta.feature.displayName.length);for(var g=0;g<d.length;g++){var E=d[g];F("  ->",E.meta.feature.displayName.padEnd(q+2),"-",E.meta.owner)}}};y.meta.traceMap.set(l,w)}}escapeSelector(r){return r.replace(/:/g,function(l){return"\\"+l})}nullCheck(r,l){if(r==null)throw new Error("'"+l.sourceFor()+"' is null")}isEmpty(r){return r==null||r.length===0}doesExist(r){if(r==null)return!1;if(this.shouldAutoIterate(r)){for(let l of r)return!0;return!1}return!0}getRootNode(r){if(r&&r instanceof Node){var l=r.getRootNode();if(l instanceof Document||l instanceof ShadowRoot)return l}return document}getEventQueueFor(r,l){let d=this.getInternalData(r);var y=d.eventQueues;if(y==null)y=new Map,d.eventQueues=y;var w=y.get(l);if(w==null)w={queue:[],executing:!1},y.set(l,w);return w}beepValueToConsole(r,l,d){if(this.triggerEvent(r,"hyperscript:beep",{element:r,expression:l,value:d})){var y;if(d)if(d instanceof J)y="ElementCollection";else if(d.constructor)y=d.constructor.name;else y="unknown";else y="object (null)";var w=d;if(y==="String")w='"'+w+'"';else if(d instanceof J)w=Array.from(d);console.log("///_ BEEP! The expression ("+c.sourceFor.call(l).replace("beep! ","")+") evaluates to:",w,"of type "+y)}}hyperscriptUrl="document"in e&&document.currentScript?document.currentScript.src:null}function b(){return document.cookie.split("; ").map((l)=>{let d=l.split("=");return{name:d[0],value:decodeURIComponent(d[1])}})}function N(r){document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}function G(){for(let r of b())N(r.name)}const B=new Proxy({},{get(r,l){if(l==="then"||l==="asyncWrapper")return null;else if(l==="length")return b().length;else if(l==="clear")return N;else if(l==="clearAll")return G;else if(typeof l==="string")if(!isNaN(l))return b()[parseInt(l)];else{let d=document.cookie.split("; ").find((y)=>y.startsWith(l+"="))?.split("=")[1];if(d)return decodeURIComponent(d)}else if(l===Symbol.iterator)return b()[l]},set(r,l,d){var y=null;if(typeof d==="string")y=encodeURIComponent(d),y+=";samesite=lax";else{if(y=encodeURIComponent(d.value),d.expires)y+=";expires="+d.maxAge;if(d.maxAge)y+=";max-age="+d.maxAge;if(d.partitioned)y+=";partitioned="+d.partitioned;if(d.path)y+=";path="+d.path;if(d.samesite)y+=";samesite="+d.path;if(d.secure)y+=";secure="+d.path}return document.cookie=l+"="+y,!0}});class X{constructor(r,l,d,y,w){this.meta={parser:w.parser,lexer:w.lexer,runtime:w,owner:r,feature:l,iterators:{},ctx:this},this.locals={cookies:B},this.me=d,this.you=void 0,this.result=void 0,this.event=y,this.target=y?y.target:null,this.detail=y?y.detail:null,this.sender=y?y.detail?y.detail.sender:null:null,this.body="document"in e?document.body:null,w.addFeatures(r,this)}}class J{constructor(r,l,d){this._css=r,this.relativeToElement=l,this.escape=d,this[ae]=!0}get css(){if(this.escape)return k.prototype.escapeSelector(this._css);else return this._css}get className(){return this._css.substr(1)}get id(){return this.className()}contains(r){for(let l of this)if(l.contains(r))return!0;return!1}get length(){return this.selectMatches().length}[Symbol.iterator](){return this.selectMatches()[Symbol.iterator]()}selectMatches(){return k.prototype.getRootNode(this.relativeToElement).querySelectorAll(this.css)}}const ae=Symbol();function ye(r,l){var d=r[l];if(d)return d;else{var y={};return r[l]=y,y}}function Ue(r){try{return JSON.parse(r)}catch(l){return Q(l),null}}function Q(r){if(console.error)console.error(r);else if(console.log)console.log("ERROR: ",r)}function V(r,l){return new(r.bind.apply(r,[r].concat(l)))}function ie(r){r.addLeafExpression("parenthesized",function(u,f,n){if(n.matchOpToken("(")){var o=n.clearFollows();try{var p=u.requireElement("expression",n)}finally{n.restoreFollows(o)}return n.requireOpToken(")"),p}}),r.addLeafExpression("string",function(u,f,n){var o=n.matchTokenType("STRING");if(!o)return;var p=o.value,s;if(o.template){var m=a.tokenize(p,!0);s=u.parseStringTemplate(m)}else s=[];return{type:"string",token:o,args:s,op:function(T){var v="";for(var x=1;x<arguments.length;x++){var A=arguments[x];if(A!==void 0)v+=A}return v},evaluate:function(T){if(s.length===0)return p;else return f.unifiedEval(this,T)}}}),r.addGrammarElement("nakedString",function(u,f,n){if(n.hasMore()){var o=n.consumeUntilWhitespace();return n.matchTokenType("WHITESPACE"),{type:"nakedString",tokens:o,evaluate:function(p){return o.map(function(s){return s.value}).join("")}}}}),r.addLeafExpression("number",function(u,f,n){var o=n.matchTokenType("NUMBER");if(!o)return;var p=o,s=parseFloat(o.value);return{type:"number",value:s,numberToken:p,evaluate:function(){return s}}}),r.addLeafExpression("idRef",function(u,f,n){var o=n.matchTokenType("ID_REF");if(!o)return;if(!o.value)return;if(o.template){var p=o.value.substring(2),s=a.tokenize(p),m=u.requireElement("expression",s);return{type:"idRefTemplate",args:[m],op:function(T,v){return f.getRootNode(T.me).getElementById(v)},evaluate:function(T){return f.unifiedEval(this,T)}}}else{const T=o.value.substring(1);return{type:"idRef",css:o.value,value:T,evaluate:function(v){return f.getRootNode(v.me).getElementById(T)}}}}),r.addLeafExpression("classRef",function(u,f,n){var o=n.matchTokenType("CLASS_REF");if(!o)return;if(!o.value)return;if(o.template){var p=o.value.substring(2),s=a.tokenize(p),m=u.requireElement("expression",s);return{type:"classRefTemplate",args:[m],op:function(T,v){return new J("."+v,T.me,!0)},evaluate:function(T){return f.unifiedEval(this,T)}}}else{const T=o.value;return{type:"classRef",css:T,evaluate:function(v){return new J(T,v.me,!0)}}}});class l extends J{constructor(u,f,n){super(u,f);this.templateParts=n,this.elements=n.filter((o)=>o instanceof Element)}get css(){let u="",f=0;for(let n of this.templateParts)if(n instanceof Element)u+="[data-hs-query-id='"+f+++"']";else u+=n;return u}[Symbol.iterator](){this.elements.forEach((f,n)=>f.dataset.hsQueryId=n);const u=super[Symbol.iterator]();return this.elements.forEach((f)=>f.removeAttribute("data-hs-query-id")),u}}r.addLeafExpression("queryRef",function(u,f,n){var o=n.matchOpToken("<");if(!o)return;var p=n.consumeUntil("/");n.requireOpToken("/"),n.requireOpToken(">");var s=p.map(function(x){if(x.type==="STRING")return'"'+x.value+'"';else return x.value}).join(""),m,T,v;if(s.indexOf("$")>=0)m=!0,T=a.tokenize(s,!0),v=u.parseStringTemplate(T);return{type:"queryRef",css:s,args:v,op:function(x,...A){if(m)return new l(s,x.me,A);else return new J(s,x.me)},evaluate:function(x){return f.unifiedEval(this,x)}}}),r.addLeafExpression("attributeRef",function(u,f,n){var o=n.matchTokenType("ATTRIBUTE_REF");if(!o)return;if(!o.value)return;var p=o.value;if(p.indexOf("[")===0)var s=p.substring(2,p.length-1);else var s=p.substring(1);var m="["+s+"]",T=s.split("="),v=T[0],x=T[1];if(x){if(x.indexOf('"')===0)x=x.substring(1,x.length-1)}return{type:"attributeRef",name:v,css:m,value:x,op:function(A){var S=A.you||A.me;if(S)return S.getAttribute(v)},evaluate:function(A){return f.unifiedEval(this,A)}}}),r.addLeafExpression("styleRef",function(u,f,n){var o=n.matchTokenType("STYLE_REF");if(!o)return;if(!o.value)return;var p=o.value.substr(1);if(p.startsWith("computed-"))return p=p.substr("computed-".length),{type:"computedStyleRef",name:p,op:function(s){var m=s.you||s.me;if(m)return f.resolveComputedStyle(m,p)},evaluate:function(s){return f.unifiedEval(this,s)}};else return{type:"styleRef",name:p,op:function(s){var m=s.you||s.me;if(m)return f.resolveStyle(m,p)},evaluate:function(s){return f.unifiedEval(this,s)}}}),r.addGrammarElement("objectKey",function(u,f,n){var o;if(o=n.matchTokenType("STRING"))return{type:"objectKey",key:o.value,evaluate:function(){return o.value}};else if(n.matchOpToken("[")){var p=u.parseElement("expression",n);return n.requireOpToken("]"),{type:"objectKey",expr:p,args:[p],op:function(m,T){return T},evaluate:function(m){return f.unifiedEval(this,m)}}}else{var s="";do if(o=n.matchTokenType("IDENTIFIER")||n.matchOpToken("-"),o)s+=o.value;while(o);return{type:"objectKey",key:s,evaluate:function(){return s}}}}),r.addLeafExpression("objectLiteral",function(u,f,n){if(!n.matchOpToken("{"))return;var o=[],p=[];if(!n.matchOpToken("}")){do{var s=u.requireElement("objectKey",n);n.requireOpToken(":");var m=u.requireElement("expression",n);p.push(m),o.push(s)}while(n.matchOpToken(","));n.requireOpToken("}")}return{type:"objectLiteral",args:[o,p],op:function(T,v,x){var A={};for(var S=0;S<v.length;S++)A[v[S]]=x[S];return A},evaluate:function(T){return f.unifiedEval(this,T)}}}),r.addGrammarElement("nakedNamedArgumentList",function(u,f,n){var o=[],p=[];if(n.currentToken().type==="IDENTIFIER")do{var s=n.requireTokenType("IDENTIFIER");n.requireOpToken(":");var m=u.requireElement("expression",n);p.push(m),o.push({name:s,value:m})}while(n.matchOpToken(","));return{type:"namedArgumentList",fields:o,args:[p],op:function(T,v){var x={_namedArgList_:!0};for(var A=0;A<v.length;A++){var S=o[A];x[S.name.value]=v[A]}return x},evaluate:function(T){return f.unifiedEval(this,T)}}}),r.addGrammarElement("namedArgumentList",function(u,f,n){if(!n.matchOpToken("("))return;var o=u.requireElement("nakedNamedArgumentList",n);return n.requireOpToken(")"),o}),r.addGrammarElement("symbol",function(u,f,n){var o="default";if(n.matchToken("global"))o="global";else if(n.matchToken("element")||n.matchToken("module")){if(o="element",n.matchOpToken("'"))n.requireToken("s")}else if(n.matchToken("local"))o="local";let p=n.matchOpToken(":"),s=n.matchTokenType("IDENTIFIER");if(s&&s.value){var m=s.value;if(p)m=":"+m;if(o==="default"){if(m.indexOf("$")===0)o="global";if(m.indexOf(":")===0)o="element"}return{type:"symbol",token:s,scope:o,name:m,evaluate:function(T){return f.resolveSymbol(m,T,o)}}}}),r.addGrammarElement("implicitMeTarget",function(u,f,n){return{type:"implicitMeTarget",evaluate:function(o){return o.you||o.me}}}),r.addLeafExpression("boolean",function(u,f,n){var o=n.matchToken("true")||n.matchToken("false");if(!o)return;const p=o.value==="true";return{type:"boolean",evaluate:function(s){return p}}}),r.addLeafExpression("null",function(u,f,n){if(n.matchToken("null"))return{type:"null",evaluate:function(o){return null}}}),r.addLeafExpression("arrayLiteral",function(u,f,n){if(!n.matchOpToken("["))return;var o=[];if(!n.matchOpToken("]")){do{var p=u.requireElement("expression",n);o.push(p)}while(n.matchOpToken(","));n.requireOpToken("]")}return{type:"arrayLiteral",values:o,args:[o],op:function(s,m){return m},evaluate:function(s){return f.unifiedEval(this,s)}}}),r.addLeafExpression("blockLiteral",function(u,f,n){if(!n.matchOpToken("\\"))return;var o=[],p=n.matchTokenType("IDENTIFIER");if(p){o.push(p);while(n.matchOpToken(","))o.push(n.requireTokenType("IDENTIFIER"))}n.requireOpToken("-"),n.requireOpToken(">");var s=u.requireElement("expression",n);return{type:"blockLiteral",args:o,expr:s,evaluate:function(m){var T=function(){for(var v=0;v<o.length;v++)m.locals[o[v].value]=arguments[v];return s.evaluate(m)};return T}}}),r.addIndirectExpression("propertyAccess",function(u,f,n,o){if(!n.matchOpToken("."))return;var p=n.requireTokenType("IDENTIFIER"),s={type:"propertyAccess",root:o,prop:p,args:[o],op:function(m,T){var v=f.resolveProperty(T,p.value);return v},evaluate:function(m){return f.unifiedEval(this,m)}};return u.parseElement("indirectExpression",n,s)}),r.addIndirectExpression("of",function(u,f,n,o){if(!n.matchToken("of"))return;var p=u.requireElement("unaryExpression",n),s=null,m=o;while(m.root)s=m,m=m.root;if(m.type!=="symbol"&&m.type!=="attributeRef"&&m.type!=="styleRef"&&m.type!=="computedStyleRef")u.raiseParseError(n,"Cannot take a property of a non-symbol: "+m.type);var T=m.type==="attributeRef",v=m.type==="styleRef"||m.type==="computedStyleRef";if(T||v)var x=m;var A=m.name,S={type:"ofExpression",prop:m.token,root:p,attribute:x,expression:o,args:[p],op:function(C,L){if(T)return f.resolveAttribute(L,A);else if(v)if(m.type==="computedStyleRef")return f.resolveComputedStyle(L,A);else return f.resolveStyle(L,A);else return f.resolveProperty(L,A)},evaluate:function(C){return f.unifiedEval(this,C)}};if(m.type==="attributeRef")S.attribute=m;if(s)s.root=S,s.args=[S];else o=S;return u.parseElement("indirectExpression",n,o)}),r.addIndirectExpression("possessive",function(u,f,n,o){if(u.possessivesDisabled)return;var p=n.matchOpToken("'");if(p||o.type==="symbol"&&(o.name==="my"||o.name==="its"||o.name==="your")&&(n.currentToken().type==="IDENTIFIER"||n.currentToken().type==="ATTRIBUTE_REF"||n.currentToken().type==="STYLE_REF")){if(p)n.requireToken("s");var s,m,T;if(s=u.parseElement("attributeRef",n),s==null){if(m=u.parseElement("styleRef",n),m==null)T=n.requireTokenType("IDENTIFIER")}var v={type:"possessive",root:o,attribute:s||m,prop:T,args:[o],op:function(x,A){if(s)var S=f.resolveAttribute(A,s.name);else if(m){var S;if(m.type==="computedStyleRef")S=f.resolveComputedStyle(A,m.name);else S=f.resolveStyle(A,m.name)}else var S=f.resolveProperty(A,T.value);return S},evaluate:function(x){return f.unifiedEval(this,x)}};return u.parseElement("indirectExpression",n,v)}}),r.addIndirectExpression("inExpression",function(u,f,n,o){if(!n.matchToken("in"))return;var p=u.requireElement("unaryExpression",n),s={type:"inExpression",root:o,args:[o,p],op:function(m,T,v){var x=[];if(T.css)f.implicitLoop(v,function(S){var C=S.querySelectorAll(T.css);for(var L=0;L<C.length;L++)x.push(C[L])});else if(T instanceof Element){var A=!1;if(f.implicitLoop(v,function(S){if(S.contains(T))A=!0}),A)return T}else f.implicitLoop(T,function(S){f.implicitLoop(v,function(C){if(S===C)x.push(S)})});return x},evaluate:function(m){return f.unifiedEval(this,m)}};return u.parseElement("indirectExpression",n,s)}),r.addIndirectExpression("asExpression",function(u,f,n,o){if(!n.matchToken("as"))return;n.matchToken("a")||n.matchToken("an");var p=u.requireElement("dotOrColonPath",n).evaluate(),s={type:"asExpression",root:o,args:[o],op:function(m,T){return f.convertValue(T,p)},evaluate:function(m){return f.unifiedEval(this,m)}};return u.parseElement("indirectExpression",n,s)}),r.addIndirectExpression("functionCall",function(u,f,n,o){if(!n.matchOpToken("("))return;var p=[];if(!n.matchOpToken(")")){do p.push(u.requireElement("expression",n));while(n.matchOpToken(","));n.requireOpToken(")")}if(o.root)var s={type:"functionCall",root:o,argExressions:p,args:[o.root,p],op:function(m,T,v){f.nullCheck(T,o.root);var x=T[o.prop.value];if(f.nullCheck(x,o),x.hyperfunc)v.push(m);return x.apply(T,v)},evaluate:function(m){return f.unifiedEval(this,m)}};else var s={type:"functionCall",root:o,argExressions:p,args:[o,p],op:function(T,v,x){if(f.nullCheck(v,o),v.hyperfunc)x.push(T);var A=v.apply(null,x);return A},evaluate:function(T){return f.unifiedEval(this,T)}};return u.parseElement("indirectExpression",n,s)}),r.addIndirectExpression("attributeRefAccess",function(u,f,n,o){var p=u.parseElement("attributeRef",n);if(!p)return;var s={type:"attributeRefAccess",root:o,attribute:p,args:[o],op:function(m,T){var v=f.resolveAttribute(T,p.name);return v},evaluate:function(m){return f.unifiedEval(this,m)}};return s}),r.addIndirectExpression("arrayIndex",function(u,f,n,o){if(!n.matchOpToken("["))return;var p=!1,s=!1,m=null,T=null;if(n.matchOpToken(".."))p=!0,m=u.requireElement("expression",n);else if(m=u.requireElement("expression",n),n.matchOpToken("..")){s=!0;var v=n.currentToken();if(v.type!=="R_BRACKET")T=u.parseElement("expression",n)}n.requireOpToken("]");var x={type:"arrayIndex",root:o,prop:m,firstIndex:m,secondIndex:T,args:[o,m,T],op:function(A,S,C,L){if(S==null)return null;if(p){if(C<0)C=S.length+C;return S.slice(0,C+1)}else if(s)if(L!=null){if(L<0)L=S.length+L;return S.slice(C,L+1)}else return S.slice(C);else return S[C]},evaluate:function(A){return f.unifiedEval(this,A)}};return u.parseElement("indirectExpression",n,x)});var d=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","pc","pt","px"];r.addGrammarElement("postfixExpression",function(u,f,n){var o=u.parseElement("primaryExpression",n);let p=n.matchAnyToken.apply(n,d)||n.matchOpToken("%");if(p)return{type:"stringPostfix",postfix:p.value,args:[o],op:function(v,x){return""+x+p.value},evaluate:function(v){return f.unifiedEval(this,v)}};var s=null;if(n.matchToken("s")||n.matchToken("seconds"))s=1000;else if(n.matchToken("ms")||n.matchToken("milliseconds"))s=1;if(s)return{type:"timeExpression",time:o,factor:s,args:[o],op:function(v,x){return x*s},evaluate:function(v){return f.unifiedEval(this,v)}};if(n.matchOpToken(":")){var m=n.requireTokenType("IDENTIFIER");if(!m.value)return;var T=!n.matchOpToken("!");return{type:"typeCheck",typeName:m,nullOk:T,args:[o],op:function(v,x){var A=f.typeCheck(x,this.typeName.value,T);if(A)return x;else throw new Error("Typecheck failed!  Expected: "+m.value)},evaluate:function(v){return f.unifiedEval(this,v)}}}else return o}),r.addGrammarElement("logicalNot",function(u,f,n){if(!n.matchToken("not"))return;var o=u.requireElement("unaryExpression",n);return{type:"logicalNot",root:o,args:[o],op:function(p,s){return!s},evaluate:function(p){return f.unifiedEval(this,p)}}}),r.addGrammarElement("noExpression",function(u,f,n){if(!n.matchToken("no"))return;var o=u.requireElement("unaryExpression",n);return{type:"noExpression",root:o,args:[o],op:function(p,s){return f.isEmpty(s)},evaluate:function(p){return f.unifiedEval(this,p)}}}),r.addLeafExpression("some",function(u,f,n){if(!n.matchToken("some"))return;var o=u.requireElement("expression",n);return{type:"noExpression",root:o,args:[o],op:function(p,s){return!f.isEmpty(s)},evaluate(p){return f.unifiedEval(this,p)}}}),r.addGrammarElement("negativeNumber",function(u,f,n){if(!n.matchOpToken("-"))return;var o=u.requireElement("unaryExpression",n);return{type:"negativeNumber",root:o,args:[o],op:function(p,s){return-1*s},evaluate:function(p){return f.unifiedEval(this,p)}}}),r.addGrammarElement("unaryExpression",function(u,f,n){return n.matchToken("the"),u.parseAnyOf(["beepExpression","logicalNot","relativePositionalExpression","positionalExpression","noExpression","negativeNumber","postfixExpression"],n)}),r.addGrammarElement("beepExpression",function(u,f,n){if(!n.matchToken("beep!"))return;var o=u.parseElement("unaryExpression",n);if(o){o.booped=!0;var p=o.evaluate;return o.evaluate=function(s){let m=p.apply(o,arguments),T=s.me;return f.beepValueToConsole(T,o,m),m},o}});var y=function(u,f,n,o){var p=f.querySelectorAll(n);for(var s=0;s<p.length;s++){var m=p[s];if(m.compareDocumentPosition(u)===Node.DOCUMENT_POSITION_PRECEDING)return m}if(o)return p[0]},w=function(u,f,n,o){var p=f.querySelectorAll(n);for(var s=p.length-1;s>=0;s--){var m=p[s];if(m.compareDocumentPosition(u)===Node.DOCUMENT_POSITION_FOLLOWING)return m}if(o)return p[p.length-1]},F=function(u,f,n,o){var p=[];k.prototype.forEach(f,function(v){if(v.matches(n)||v===u)p.push(v)});for(var s=0;s<p.length-1;s++){var m=p[s];if(m===u)return p[s+1]}if(o){var T=p[0];if(T&&T.matches(n))return T}},q=function(u,f,n,o){return F(u,Array.from(f).reverse(),n,o)};r.addGrammarElement("relativePositionalExpression",function(u,f,n){var o=n.matchAnyToken("next","previous");if(!o)return;var p=o.value==="next",s=u.parseElement("expression",n);if(n.matchToken("from")){n.pushFollow("in");try{var m=u.requireElement("unaryExpression",n)}finally{n.popFollow()}}else var m=u.requireElement("implicitMeTarget",n);var T=!1,v;if(n.matchToken("in")){T=!0;var x=u.requireElement("unaryExpression",n)}else if(n.matchToken("within"))v=u.requireElement("unaryExpression",n);else v=document.body;var A=!1;if(n.matchToken("with"))n.requireToken("wrapping"),A=!0;return{type:"relativePositionalExpression",from:m,forwardSearch:p,inSearch:T,wrapping:A,inElt:x,withinElt:v,operator:o.value,args:[s,m,x,v],op:function(S,C,L,H,Y){var W=C.css;if(W==null)throw"Expected a CSS value to be returned by "+c.sourceFor.apply(s);if(T){if(H)if(p)return F(L,H,W,A);else return q(L,H,W,A)}else if(Y)if(p)return y(L,Y,W,A);else return w(L,Y,W,A)},evaluate:function(S){return f.unifiedEval(this,S)}}}),r.addGrammarElement("positionalExpression",function(u,f,n){var o=n.matchAnyToken("first","last","random");if(!o)return;n.matchAnyToken("in","from","of");var p=u.requireElement("unaryExpression",n);const s=o.value;return{type:"positionalExpression",rhs:p,operator:o.value,args:[p],op:function(m,T){if(T&&!Array.isArray(T))if(T.children)T=T.children;else T=Array.from(T);if(T){if(s==="first")return T[0];else if(s==="last")return T[T.length-1];else if(s==="random")return T[Math.floor(Math.random()*T.length)]}},evaluate:function(m){return f.unifiedEval(this,m)}}}),r.addGrammarElement("mathOperator",function(u,f,n){var o=u.parseElement("unaryExpression",n),p,s=null;p=n.matchAnyOpToken("+","-","*","/")||n.matchToken("mod");while(p){s=s||p;var m=p.value;if(s.value!==m)u.raiseParseError(n,"You must parenthesize math operations with different operators");var T=u.parseElement("unaryExpression",n);o={type:"mathOperator",lhs:o,rhs:T,operator:m,args:[o,T],op:function(v,x,A){if(m==="+")return x+A;else if(m==="-")return x-A;else if(m==="*")return x*A;else if(m==="/")return x/A;else if(m==="mod")return x%A},evaluate:function(v){return f.unifiedEval(this,v)}},p=n.matchAnyOpToken("+","-","*","/")||n.matchToken("mod")}return o}),r.addGrammarElement("mathExpression",function(u,f,n){return u.parseAnyOf(["mathOperator","unaryExpression"],n)});function g(u,f,n){if(f.contains)return f.contains(n);else if(f.includes)return f.includes(n);else throw Error("The value of "+u.sourceFor()+" does not have a contains or includes method on it")}function E(u,f,n){if(f.match)return!!f.match(n);else if(f.matches)return f.matches(n);else throw Error("The value of "+u.sourceFor()+" does not have a match or matches method on it")}r.addGrammarElement("comparisonOperator",function(u,f,n){var o=u.parseElement("mathExpression",n),p=n.matchAnyOpToken("<",">","<=",">=","==","===","!=","!=="),s=p?p.value:null,m=!0,T=!1;if(s==null){if(n.matchToken("is")||n.matchToken("am"))if(n.matchToken("not"))if(n.matchToken("in"))s="not in";else if(n.matchToken("a"))s="not a",T=!0;else if(n.matchToken("empty"))s="not empty",m=!1;else{if(n.matchToken("really"))s="!==";else s="!=";if(n.matchToken("equal"))n.matchToken("to")}else if(n.matchToken("in"))s="in";else if(n.matchToken("a"))s="a",T=!0;else if(n.matchToken("empty"))s="empty",m=!1;else if(n.matchToken("less"))if(n.requireToken("than"),n.matchToken("or"))n.requireToken("equal"),n.requireToken("to"),s="<=";else s="<";else if(n.matchToken("greater"))if(n.requireToken("than"),n.matchToken("or"))n.requireToken("equal"),n.requireToken("to"),s=">=";else s=">";else{if(n.matchToken("really"))s="===";else s="==";if(n.matchToken("equal"))n.matchToken("to")}else if(n.matchToken("equals"))s="==";else if(n.matchToken("really"))n.requireToken("equals"),s="===";else if(n.matchToken("exist")||n.matchToken("exists"))s="exist",m=!1;else if(n.matchToken("matches")||n.matchToken("match"))s="match";else if(n.matchToken("contains")||n.matchToken("contain"))s="contain";else if(n.matchToken("includes")||n.matchToken("include"))s="include";else if(n.matchToken("do")||n.matchToken("does"))if(n.requireToken("not"),n.matchToken("matches")||n.matchToken("match"))s="not match";else if(n.matchToken("contains")||n.matchToken("contain"))s="not contain";else if(n.matchToken("exist")||n.matchToken("exist"))s="not exist",m=!1;else if(n.matchToken("include"))s="not include";else u.raiseParseError(n,"Expected matches or contains")}if(s){var v,x,A;if(T)v=n.requireTokenType("IDENTIFIER"),x=!n.matchOpToken("!");else if(m){if(A=u.requireElement("mathExpression",n),s==="match"||s==="not match")A=A.css?A.css:A}var S=o;o={type:"comparisonOperator",operator:s,typeName:v,nullOk:x,lhs:o,rhs:A,args:[o,A],op:function(C,L,H){if(s==="==")return L==H;else if(s==="!=")return L!=H;if(s==="===")return L===H;else if(s==="!==")return L!==H;if(s==="match")return L!=null&&E(S,L,H);if(s==="not match")return L==null||!E(S,L,H);if(s==="in")return H!=null&&g(A,H,L);if(s==="not in")return H==null||!g(A,H,L);if(s==="contain")return L!=null&&g(S,L,H);if(s==="not contain")return L==null||!g(S,L,H);if(s==="include")return L!=null&&g(S,L,H);if(s==="not include")return L==null||!g(S,L,H);if(s==="===")return L===H;else if(s==="!==")return L!==H;else if(s==="<")return L<H;else if(s===">")return L>H;else if(s==="<=")return L<=H;else if(s===">=")return L>=H;else if(s==="empty")return f.isEmpty(L);else if(s==="not empty")return!f.isEmpty(L);else if(s==="exist")return f.doesExist(L);else if(s==="not exist")return!f.doesExist(L);else if(s==="a")return f.typeCheck(L,v.value,x);else if(s==="not a")return!f.typeCheck(L,v.value,x);else throw"Unknown comparison : "+s},evaluate:function(C){return f.unifiedEval(this,C)}}}return o}),r.addGrammarElement("comparisonExpression",function(u,f,n){return u.parseAnyOf(["comparisonOperator","mathExpression"],n)}),r.addGrammarElement("logicalOperator",function(u,f,n){var o=u.parseElement("comparisonExpression",n),p,s=null;p=n.matchToken("and")||n.matchToken("or");while(p){if(s=s||p,s.value!==p.value)u.raiseParseError(n,"You must parenthesize logical operations with different operators");var m=u.requireElement("comparisonExpression",n);const T=p.value;o={type:"logicalOperator",operator:T,lhs:o,rhs:m,args:[o,m],op:function(v,x,A){if(T==="and")return x&&A;else return x||A},evaluate:function(v){return f.unifiedEval(this,v)}},p=n.matchToken("and")||n.matchToken("or")}return o}),r.addGrammarElement("logicalExpression",function(u,f,n){return u.parseAnyOf(["logicalOperator","mathExpression"],n)}),r.addGrammarElement("asyncExpression",function(u,f,n){if(n.matchToken("async")){var o=u.requireElement("logicalExpression",n),p={type:"asyncExpression",value:o,evaluate:function(s){return{asyncWrapper:!0,value:this.value.evaluate(s)}}};return p}else return u.parseElement("logicalExpression",n)}),r.addGrammarElement("expression",function(u,f,n){return n.matchToken("the"),u.parseElement("asyncExpression",n)}),r.addGrammarElement("assignableExpression",function(u,f,n){n.matchToken("the");var o=u.parseElement("primaryExpression",n);if(o&&(o.type==="symbol"||o.type==="ofExpression"||o.type==="propertyAccess"||o.type==="attributeRefAccess"||o.type==="attributeRef"||o.type==="styleRef"||o.type==="arrayIndex"||o.type==="possessive"))return o;else u.raiseParseError(n,"A target expression must be writable.  The expression type '"+(o&&o.type)+"' is not.");return o}),r.addGrammarElement("hyperscript",function(u,f,n){var o=[];if(n.hasMore())while(u.featureStart(n.currentToken())||n.currentToken().value==="("){var p=u.requireElement("feature",n);o.push(p),n.matchToken("end")}return{type:"hyperscript",features:o,apply:function(s,m,T){for(let v of o)v.install(s,m,T)}}});var I=function(u){var f=[];if(u.token(0).value==="("&&(u.token(1).value===")"||u.token(2).value===","||u.token(2).value===")")){u.matchOpToken("(");do f.push(u.requireTokenType("IDENTIFIER"));while(u.matchOpToken(","));u.requireOpToken(")")}return f};r.addFeature("on",function(u,f,n){if(!n.matchToken("on"))return;var o=!1;if(n.matchToken("every"))o=!0;var p=[],s=null;do{var m=u.requireElement("eventName",n,"Expected event name"),T=m.evaluate();if(s)s=s+" or "+T;else s="on "+T;var v=I(n),x=null;if(n.matchOpToken("["))x=u.requireElement("expression",n),n.requireOpToken("]");var A,S,C;if(n.currentToken().type==="NUMBER"){var L=n.consumeToken();if(!L.value)return;if(A=parseInt(L.value),n.matchToken("to")){var H=n.consumeToken();if(!H.value)return;S=parseInt(H.value)}else if(n.matchToken("and"))C=!0,n.requireToken("on")}var Y,W;if(T==="intersection"){if(Y={},n.matchToken("with"))Y.with=u.requireElement("expression",n).evaluate();if(n.matchToken("having"))do if(n.matchToken("margin"))Y.rootMargin=u.requireElement("stringLike",n).evaluate();else if(n.matchToken("threshold"))Y.threshold=u.requireElement("expression",n).evaluate();else u.raiseParseError(n,"Unknown intersection config specification");while(n.matchToken("and"))}else if(T==="mutation")if(W={},n.matchToken("of"))do if(n.matchToken("anything"))W.attributes=!0,W.subtree=!0,W.characterData=!0,W.childList=!0;else if(n.matchToken("childList"))W.childList=!0;else if(n.matchToken("attributes"))W.attributes=!0,W.attributeOldValue=!0;else if(n.matchToken("subtree"))W.subtree=!0;else if(n.matchToken("characterData"))W.characterData=!0,W.characterDataOldValue=!0;else if(n.currentToken().type==="ATTRIBUTE_REF"){var K=n.consumeToken();if(W.attributeFilter==null)W.attributeFilter=[];if(K.value.indexOf("@")==0)W.attributeFilter.push(K.value.substring(1));else u.raiseParseError(n,"Only shorthand attribute references are allowed here")}else u.raiseParseError(n,"Unknown mutation config specification");while(n.matchToken("or"));else W.attributes=!0,W.characterData=!0,W.childList=!0;var Z=null,pe=!1;if(n.matchToken("from"))if(n.matchToken("elsewhere"))pe=!0;else{n.pushFollow("or");try{Z=u.requireElement("expression",n)}finally{n.popFollow()}if(!Z)u.raiseParseError(n,'Expected either target value or "elsewhere".')}if(Z===null&&pe===!1&&n.matchToken("elsewhere"))pe=!0;if(n.matchToken("in"))var Ee=u.parseElement("unaryExpression",n);if(n.matchToken("debounced")){n.requireToken("at");var ne=u.requireElement("unaryExpression",n),ce=ne.evaluate({})}else if(n.matchToken("throttled")){n.requireToken("at");var ne=u.requireElement("unaryExpression",n),Te=ne.evaluate({})}p.push({execCount:0,every:o,on:T,args:v,filter:x,from:Z,inExpr:Ee,elsewhere:pe,startCount:A,endCount:S,unbounded:C,debounceTime:ce,throttleTime:Te,mutationSpec:W,intersectionSpec:Y,debounced:void 0,lastExec:void 0})}while(n.matchToken("or"));var fe=!0;if(!o){if(n.matchToken("queue"))if(n.matchToken("all"))var ve=!0,fe=!1;else if(n.matchToken("first"))var Be=!0;else if(n.matchToken("none"))var Ve=!0;else n.requireToken("last")}var mt=u.requireElement("commandList",n);u.ensureTerminated(mt);var Dt,ht;if(n.matchToken("catch"))Dt=n.requireTokenType("IDENTIFIER").value,ht=u.requireElement("commandList",n),u.ensureTerminated(ht);if(n.matchToken("finally")){var An=u.requireElement("commandList",n);u.ensureTerminated(An)}var ge={displayName:s,events:p,start:mt,every:o,execCount:0,errorHandler:ht,errorSymbol:Dt,execute:function(le){let Ae=f.getEventQueueFor(le.me,ge);if(Ae.executing&&o===!1){if(Ve||Be&&Ae.queue.length>0)return;if(fe)Ae.queue.length=0;Ae.queue.push(le);return}ge.execCount++,Ae.executing=!0,le.meta.onHalt=function(){Ae.executing=!1;var de=Ae.queue.shift();if(de)setTimeout(function(){ge.execute(de)},1)},le.meta.reject=function(de){console.error(de.message?de.message:de);var $=f.getHyperTrace(le,de);if($)$.print();f.triggerEvent(le.me,"exception",{error:de})},mt.execute(le)},install:function(le,Ae){for(let $ of ge.events){var de;if($.elsewhere)de=[document];else if($.from)de=$.from.evaluate(f.makeContext(le,ge,le,null));else de=[le];f.implicitLoop(de,function(xe){var je=$.on;if(xe==null){console.warn("'%s' feature ignored because target does not exists:",s,le);return}if($.mutationSpec)je="hyperscript:mutation",new MutationObserver(function(Fe,re){if(!ge.executing)f.triggerEvent(xe,je,{mutationList:Fe,observer:re})}).observe(xe,$.mutationSpec);if($.intersectionSpec){je="hyperscript:intersection";const Ke=new IntersectionObserver(function(Fe){for(let pt of Fe){var re={observer:Ke};re=Object.assign(re,pt),re.intersecting=pt.isIntersecting,f.triggerEvent(xe,je,re)}},$.intersectionSpec);Ke.observe(xe)}var li=xe.addEventListener||xe.on;li.call(xe,je,function Ke(Fe){if(typeof Node!=="undefined"&&le instanceof Node&&xe!==le&&!le.isConnected){xe.removeEventListener(je,Ke);return}var re=f.makeContext(le,ge,le,Fe);if($.elsewhere&&le.contains(Fe.target))return;if($.from)re.result=xe;for(let vt of $.args){let Cn=re.event[vt.value];if(Cn!==void 0)re.locals[vt.value]=Cn;else if("detail"in re.event)re.locals[vt.value]=re.event.detail[vt.value]}if(re.meta.errorHandler=ht,re.meta.errorSymbol=Dt,re.meta.finallyHandler=An,$.filter){var pt=re.meta.context;re.meta.context=re.event;try{var ci=$.filter.evaluate(re);if(ci);else return}finally{re.meta.context=pt}}if($.inExpr){var ze=Fe.target;while(!0)if(ze.matches&&ze.matches($.inExpr.css)){re.result=ze;break}else if(ze=ze.parentElement,ze==null)return}if($.execCount++,$.startCount){if($.endCount){if($.execCount<$.startCount||$.execCount>$.endCount)return}else if($.unbounded){if($.execCount<$.startCount)return}else if($.execCount!==$.startCount)return}if($.debounceTime){if($.debounced)clearTimeout($.debounced);$.debounced=setTimeout(function(){ge.execute(re)},$.debounceTime);return}if($.throttleTime)if($.lastExec&&Date.now()<$.lastExec+$.throttleTime)return;else $.lastExec=Date.now();ge.execute(re)})})}}};return u.setParent(mt,ge),ge}),r.addFeature("def",function(u,f,n){if(!n.matchToken("def"))return;var o=u.requireElement("dotOrColonPath",n),p=o.evaluate(),s=p.split("."),m=s.pop(),T=[];if(n.matchOpToken("("))if(n.matchOpToken(")"));else{do T.push(n.requireTokenType("IDENTIFIER"));while(n.matchOpToken(","));n.requireOpToken(")")}var v=u.requireElement("commandList",n),x,A;if(n.matchToken("catch"))x=n.requireTokenType("IDENTIFIER").value,A=u.parseElement("commandList",n);if(n.matchToken("finally")){var S=u.requireElement("commandList",n);u.ensureTerminated(S)}var C={displayName:m+"("+T.map(function(L){return L.value}).join(", ")+")",name:m,args:T,start:v,errorHandler:A,errorSymbol:x,finallyHandler:S,install:function(L,H){var Y=function(){var W=f.makeContext(H,C,L,null);W.meta.errorHandler=A,W.meta.errorSymbol=x,W.meta.finallyHandler=S;for(var K=0;K<T.length;K++){var Z=T[K],pe=arguments[K];if(Z)W.locals[Z.value]=pe}if(W.meta.caller=arguments[T.length],W.meta.caller)W.meta.callingCommand=W.meta.caller.meta.command;var Ee,ne=null,ce=new Promise(function(Te,fe){Ee=Te,ne=fe});if(v.execute(W),W.meta.returned)return W.meta.returnValue;else return W.meta.resolve=Ee,W.meta.reject=ne,ce};Y.hyperfunc=!0,Y.hypername=p,f.assignToNamespace(L,s,m,Y)}};if(u.ensureTerminated(v),A)u.ensureTerminated(A);return u.setParent(v,C),C}),r.addFeature("set",function(u,f,n){let o=u.parseElement("setCommand",n);if(o){if(o.target.scope!=="element")u.raiseParseError(n,"variables declared at the feature level must be element scoped.");let p={start:o,install:function(s,m){o&&o.execute(f.makeContext(s,p,s,null))}};return u.ensureTerminated(o),p}}),r.addFeature("init",function(u,f,n){if(!n.matchToken("init"))return;var o=n.matchToken("immediately"),p=u.requireElement("commandList",n),s={start:p,install:function(m,T){let v=function(){p&&p.execute(f.makeContext(m,s,m,null))};if(o)v();else setTimeout(v,0)}};return u.ensureTerminated(p),u.setParent(p,s),s}),r.addFeature("worker",function(u,f,n){if(n.matchToken("worker")){u.raiseParseError(n,"In order to use the 'worker' feature, include the _hyperscript worker plugin. See https://hyperscript.org/features/worker/ for more info.");return}}),r.addFeature("behavior",function(u,f,n){if(!n.matchToken("behavior"))return;var o=u.requireElement("dotOrColonPath",n).evaluate(),p=o.split("."),s=p.pop(),m=[];if(n.matchOpToken("(")&&!n.matchOpToken(")")){do m.push(n.requireTokenType("IDENTIFIER").value);while(n.matchOpToken(","));n.requireOpToken(")")}var T=u.requireElement("hyperscript",n);for(var v=0;v<T.features.length;v++){var x=T.features[v];x.behavior=o}return{install:function(A,S){f.assignToNamespace(e.document&&e.document.body,p,s,function(C,L,H){var Y=f.getInternalData(C),W=ye(Y,o+"Scope");for(var K=0;K<m.length;K++)W[m[K]]=H[m[K]];T.apply(C,L)})}}}),r.addFeature("install",function(u,f,n){if(!n.matchToken("install"))return;var o=u.requireElement("dotOrColonPath",n).evaluate(),p=o.split("."),s=u.parseElement("namedArgumentList",n),m;return m={install:function(T,v){f.unifiedEval({args:[s],op:function(x,A){var S=e;for(var C=0;C<p.length;C++)if(S=S[p[C]],typeof S!=="object"&&typeof S!=="function")throw new Error("No such behavior defined as "+o);if(!(S instanceof Function))throw new Error(o+" is not a behavior");S(T,v,A)}},f.makeContext(T,m,T,null))}}}),r.addGrammarElement("jsBody",function(u,f,n){var o=n.currentToken().start,p=n.currentToken(),s=[],m="",T=!1;while(n.hasMore()){p=n.consumeToken();var v=n.token(0,!0);if(v.type==="IDENTIFIER"&&v.value==="end")break;if(T)if(p.type==="IDENTIFIER"||p.type==="NUMBER")m+=p.value;else{if(m!=="")s.push(m);m="",T=!1}else if(p.type==="IDENTIFIER"&&p.value==="function")T=!0}var x=p.end+1;return{type:"jsBody",exposedFunctionNames:s,jsSource:n.source.substring(o,x)}}),r.addFeature("js",function(u,f,n){if(!n.matchToken("js"))return;var o=u.requireElement("jsBody",n),p=o.jsSource+"\nreturn { "+o.exposedFunctionNames.map(function(m){return m+":"+m}).join(",")+" } ",s=new Function(p);return{jsSource:p,function:s,exposedFunctionNames:o.exposedFunctionNames,install:function(){Object.assign(e,s())}}}),r.addCommand("js",function(u,f,n){if(!n.matchToken("js"))return;var o=[];if(n.matchOpToken("("))if(n.matchOpToken(")"));else{do{var p=n.requireTokenType("IDENTIFIER");o.push(p.value)}while(n.matchOpToken(","));n.requireOpToken(")")}var s=u.requireElement("jsBody",n);n.matchToken("end");var m=V(Function,o.concat([s.jsSource])),T={jsSource:s.jsSource,function:m,inputs:o,op:function(v){var x=[];o.forEach(function(S){x.push(f.resolveSymbol(S,v,"default"))});var A=m.apply(e,x);if(A&&typeof A.then==="function")return new Promise(function(S){A.then(function(C){v.result=C,S(f.findNext(this,v))})});else return v.result=A,f.findNext(this,v)}};return T}),r.addCommand("async",function(u,f,n){if(!n.matchToken("async"))return;if(n.matchToken("do")){var o=u.requireElement("commandList",n),p=o;while(p.next)p=p.next;p.next=f.HALT,n.requireToken("end")}else var o=u.requireElement("command",n);var s={body:o,op:function(m){return setTimeout(function(){o.execute(m)}),f.findNext(this,m)}};return u.setParent(o,s),s}),r.addCommand("tell",function(u,f,n){var o=n.currentToken();if(!n.matchToken("tell"))return;var p=u.requireElement("expression",n),s=u.requireElement("commandList",n);if(n.hasMore()&&!u.featureStart(n.currentToken()))n.requireToken("end");var m="tell_"+o.start,T={value:p,body:s,args:[p],resolveNext:function(v){var x=v.meta.iterators[m];if(x.index<x.value.length)return v.you=x.value[x.index++],s;else if(v.you=x.originalYou,this.next)return this.next;else return f.findNext(this.parent,v)},op:function(v,x){if(x==null)x=[];else if(!(Array.isArray(x)||x instanceof NodeList))x=[x];return v.meta.iterators[m]={originalYou:v.you,index:0,value:x},this.resolveNext(v)}};return u.setParent(s,T),T}),r.addCommand("wait",function(u,f,n){if(!n.matchToken("wait"))return;var o;if(n.matchToken("for")){n.matchToken("a");var p=[];do{var s=n.token(0);if(s.type==="NUMBER"||s.type==="L_PAREN")p.push({time:u.requireElement("expression",n).evaluate()});else p.push({name:u.requireElement("dotOrColonPath",n,"Expected event name").evaluate(),args:I(n)})}while(n.matchToken("or"));if(n.matchToken("from"))var m=u.requireElement("expression",n);return o={event:p,on:m,args:[m],op:function(v,x){var A=x?x:v.me;if(!(A instanceof EventTarget))throw new Error("Not a valid event target: "+this.on.sourceFor());return new Promise((S)=>{var C=!1;for(let H of p){var L=(Y)=>{if(v.result=Y,H.args)for(let W of H.args)v.locals[W.value]=Y[W.value]||(Y.detail?Y.detail[W.value]:null);if(!C)C=!0,S(f.findNext(this,v))};if(H.name)A.addEventListener(H.name,L,{once:!0});else if(H.time!=null)setTimeout(L,H.time,H.time)}})}},o}else{var T;if(n.matchToken("a"))n.requireToken("tick"),T=0;else T=u.requireElement("expression",n);return o={type:"waitCmd",time:T,args:[T],op:function(v,x){return new Promise((A)=>{setTimeout(()=>{A(f.findNext(this,v))},x)})},execute:function(v){return f.unifiedExec(this,v)}},o}}),r.addGrammarElement("dotOrColonPath",function(u,f,n){var o=n.matchTokenType("IDENTIFIER");if(o){var p=[o.value],s=n.matchOpToken(".")||n.matchOpToken(":");if(s)do p.push(n.requireTokenType("IDENTIFIER","NUMBER").value);while(n.matchOpToken(s.value));return{type:"dotOrColonPath",path:p,evaluate:function(){return p.join(s?s.value:"")}}}}),r.addGrammarElement("eventName",function(u,f,n){var o;if(o=n.matchTokenType("STRING"))return{evaluate:function(){return o.value}};return u.parseElement("dotOrColonPath",n)});function R(u,f,n,o){var p=f.requireElement("eventName",o),s=f.parseElement("namedArgumentList",o);if(u==="send"&&o.matchToken("to")||u==="trigger"&&o.matchToken("on"))var m=f.requireElement("expression",o);else var m=f.requireElement("implicitMeTarget",o);var T={eventName:p,details:s,to:m,args:[m,p,s],op:function(v,x,A,S){return n.nullCheck(x,m),n.implicitLoop(x,function(C){n.triggerEvent(C,A,S,v.me)}),n.findNext(T,v)}};return T}r.addCommand("trigger",function(u,f,n){if(n.matchToken("trigger"))return R("trigger",u,f,n)}),r.addCommand("send",function(u,f,n){if(n.matchToken("send"))return R("send",u,f,n)});var O=function(u,f,n,o){if(o)if(u.commandBoundary(n.currentToken()))u.raiseParseError(n,"'return' commands must return a value.  If you do not wish to return a value, use 'exit' instead.");else var p=u.requireElement("expression",n);var s={value:p,args:[p],op:function(m,T){var v=m.meta.resolve;if(m.meta.returned=!0,m.meta.returnValue=T,v)if(T)v(T);else v();return f.HALT}};return s};r.addCommand("return",function(u,f,n){if(n.matchToken("return"))return O(u,f,n,!0)}),r.addCommand("exit",function(u,f,n){if(n.matchToken("exit"))return O(u,f,n,!1)}),r.addCommand("halt",function(u,f,n){if(n.matchToken("halt")){if(n.matchToken("the")){if(n.requireToken("event"),n.matchOpToken("'"))n.requireToken("s");var o=!0}if(n.matchToken("bubbling"))var p=!0;else if(n.matchToken("default"))var s=!0;var m=O(u,f,n,!1),T={keepExecuting:!0,bubbling:p,haltDefault:s,exit:m,op:function(v){if(v.event){if(p)v.event.stopPropagation();else if(s)v.event.preventDefault();else v.event.stopPropagation(),v.event.preventDefault();if(o)return f.findNext(this,v);else return m}}};return T}}),r.addCommand("log",function(u,f,n){if(!n.matchToken("log"))return;var o=[u.parseElement("expression",n)];while(n.matchOpToken(","))o.push(u.requireElement("expression",n));if(n.matchToken("with"))var p=u.requireElement("expression",n);var s={exprs:o,withExpr:p,args:[p,o],op:function(m,T,v){if(T)T.apply(null,v);else console.log.apply(null,v);return f.findNext(this,m)}};return s}),r.addCommand("beep!",function(u,f,n){if(!n.matchToken("beep!"))return;var o=[u.parseElement("expression",n)];while(n.matchOpToken(","))o.push(u.requireElement("expression",n));var p={exprs:o,args:[o],op:function(s,m){for(let T=0;T<o.length;T++){const v=o[T],x=m[T];f.beepValueToConsole(s.me,v,x)}return f.findNext(this,s)}};return p}),r.addCommand("throw",function(u,f,n){if(!n.matchToken("throw"))return;var o=u.requireElement("expression",n),p={expr:o,args:[o],op:function(s,m){throw f.registerHyperTrace(s,m),m}};return p});var M=function(u,f,n){var o=u.requireElement("expression",n),p={expr:o,args:[o],op:function(s,m){return s.result=m,f.findNext(p,s)}};return p};r.addCommand("call",function(u,f,n){if(!n.matchToken("call"))return;var o=M(u,f,n);if(o.expr&&o.expr.type!=="functionCall")u.raiseParseError(n,"Must be a function invocation");return o}),r.addCommand("get",function(u,f,n){if(n.matchToken("get"))return M(u,f,n)}),r.addCommand("make",function(u,f,n){if(!n.matchToken("make"))return;n.matchToken("a")||n.matchToken("an");var o=u.requireElement("expression",n),p=[];if(o.type!=="queryRef"&&n.matchToken("from"))do p.push(u.requireElement("expression",n));while(n.matchOpToken(","));if(n.matchToken("called"))var s=u.requireElement("symbol",n);var m;if(o.type==="queryRef")return m={op:function(T){var v,x="div",A,S=[],C=/(?:(^|#|\.)([^#\. ]+))/g;while(v=C.exec(o.css))if(v[1]==="")x=v[2].trim();else if(v[1]==="#")A=v[2].trim();else S.push(v[2].trim());var L=document.createElement(x);if(A!==void 0)L.id=A;for(var H=0;H<S.length;H++){var Y=S[H];L.classList.add(Y)}if(T.result=L,s)f.setSymbol(s.name,T,s.scope,L);return f.findNext(this,T)}},m;else return m={args:[o,p],op:function(T,v,x){if(T.result=V(v,x),s)f.setSymbol(s.name,T,s.scope,T.result);return f.findNext(this,T)}},m}),r.addGrammarElement("pseudoCommand",function(u,f,n){let o=n.token(1);if(!(o&&o.op&&(o.value==="."||o.value==="(")))return null;var p=u.requireElement("primaryExpression",n),s=p.root,m=p;while(s.root!=null)m=m.root,s=s.root;if(p.type!=="functionCall")u.raiseParseError(n,"Pseudo-commands must be function calls");if(m.type==="functionCall"&&m.root.root==null){if(n.matchAnyToken("the","to","on","with","into","from","at"))var T=u.requireElement("expression",n);else if(n.matchToken("me"))var T=u.requireElement("implicitMeTarget",n)}var v;if(T)v={type:"pseudoCommand",root:T,argExressions:m.argExressions,args:[T,m.argExressions],op:function(x,A,S){f.nullCheck(A,T);var C=A[m.root.name];if(f.nullCheck(C,m),C.hyperfunc)S.push(x);return x.result=C.apply(A,S),f.findNext(v,x)},execute:function(x){return f.unifiedExec(this,x)}};else v={type:"pseudoCommand",expr:p,args:[p],op:function(x,A){return x.result=A,f.findNext(v,x)},execute:function(x){return f.unifiedExec(this,x)}};return v});var P=function(u,f,n,o,p){var s=o.type==="symbol",m=o.type==="attributeRef",T=o.type==="styleRef",v=o.type==="arrayIndex";if(!(m||T||s)&&o.root==null)u.raiseParseError(n,"Can only put directly into symbols, not references");var x=null,A=null;if(s);else if(m||T){x=u.requireElement("implicitMeTarget",n);var S=o}else if(v)A=o.firstIndex,x=o.root;else{A=o.prop?o.prop.value:null;var S=o.attribute;x=o.root}var C={target:o,symbolWrite:s,value:p,args:[x,A,p],op:function(L,H,Y,W){if(s)f.setSymbol(o.name,L,o.scope,W);else if(f.nullCheck(H,x),v)H[Y]=W;else f.implicitLoop(H,function(K){if(S)if(S.type==="attributeRef")if(W==null)K.removeAttribute(S.name);else K.setAttribute(S.name,W);else K.style[S.name]=W;else K[Y]=W});return f.findNext(this,L)}};return C};r.addCommand("default",function(u,f,n){if(!n.matchToken("default"))return;var o=u.requireElement("assignableExpression",n);n.requireToken("to");var p=u.requireElement("expression",n),s=P(u,f,n,o,p),m={target:o,value:p,setter:s,args:[o],op:function(T,v){if(v)return f.findNext(this,T);else return s}};return s.parent=m,m}),r.addCommand("set",function(u,f,n){if(!n.matchToken("set"))return;if(n.currentToken().type==="L_BRACE"){var o=u.requireElement("objectLiteral",n);n.requireToken("on");var p=u.requireElement("expression",n),s={objectLiteral:o,target:p,args:[o,p],op:function(T,v,x){return Object.assign(x,v),f.findNext(this,T)}};return s}try{n.pushFollow("to");var p=u.requireElement("assignableExpression",n)}finally{n.popFollow()}n.requireToken("to");var m=u.requireElement("expression",n);return P(u,f,n,p,m)}),r.addCommand("if",function(u,f,n){if(!n.matchToken("if"))return;var o=u.requireElement("expression",n);n.matchToken("then");var p=u.parseElement("commandList",n),s=!1;let m=n.matchToken("else")||n.matchToken("otherwise");if(m){let x=n.peekToken("if");if(s=x!=null&&x.line===m.line,s)var T=u.parseElement("command",n);else var T=u.parseElement("commandList",n)}if(n.hasMore()&&!s)n.requireToken("end");var v={expr:o,trueBranch:p,falseBranch:T,args:[o],op:function(x,A){if(A)return p;else if(T)return T;else return f.findNext(this,x)}};return u.setParent(p,v),u.setParent(T,v),v});var D=function(u,f,n,o){var p=f.currentToken(),s;if(f.matchToken("for")||o){var m=f.requireTokenType("IDENTIFIER");s=m.value,f.requireToken("in");var T=u.requireElement("expression",f)}else if(f.matchToken("in")){s="it";var T=u.requireElement("expression",f)}else if(f.matchToken("while"))var v=u.requireElement("expression",f);else if(f.matchToken("until")){var x=!0;if(f.matchToken("event")){var A=u.requireElement("dotOrColonPath",f,"Expected event name");if(f.matchToken("from"))var S=u.requireElement("expression",f)}else var v=u.requireElement("expression",f)}else if(!u.commandBoundary(f.currentToken())&&f.currentToken().value!=="forever"){var C=u.requireElement("expression",f);f.requireToken("times")}else{f.matchToken("forever");var L=!0}if(f.matchToken("index"))var m=f.requireTokenType("IDENTIFIER"),H=m.value;var Y=u.parseElement("commandList",f);if(Y&&A){var W=Y;while(W.next)W=W.next;var K={type:"waitATick",op:function(){return new Promise(function(ne){setTimeout(function(){ne(n.findNext(K))},0)})}};W.next=K}if(f.hasMore())f.requireToken("end");if(s==null){s="_implicit_repeat_"+p.start;var Z=s}else var Z=s+"_"+p.start;var pe={identifier:s,indexIdentifier:H,slot:Z,expression:T,forever:L,times:C,until:x,event:A,on:S,whileExpr:v,resolveNext:function(){return this},loop:Y,args:[v,C],op:function(ne,ce,Te){var fe=ne.meta.iterators[Z],ve=!1,Be=null;if(this.forever)ve=!0;else if(this.until)if(A)ve=ne.meta.iterators[Z].eventFired===!1;else ve=ce!==!0;else if(v)ve=ce;else if(Te)ve=fe.index<Te;else{var Ve=fe.iterator.next();ve=!Ve.done,Be=Ve.value}if(ve){if(fe.value)ne.result=ne.locals[s]=Be;else ne.result=fe.index;if(H)ne.locals[H]=fe.index;return fe.index++,Y}else return ne.meta.iterators[Z]=null,n.findNext(this.parent,ne)}};u.setParent(Y,pe);var Ee={name:"repeatInit",args:[T,A,S],op:function(ne,ce,Te,fe){var ve={index:0,value:ce,eventFired:!1};if(ne.meta.iterators[Z]=ve,ce&&ce[Symbol.iterator])ve.iterator=ce[Symbol.iterator]();if(A){var Be=fe||ne.me;Be.addEventListener(Te,function(Ve){ne.meta.iterators[Z].eventFired=!0},{once:!0})}return pe},execute:function(ne){return n.unifiedExec(this,ne)}};return u.setParent(pe,Ee),Ee};r.addCommand("repeat",function(u,f,n){if(n.matchToken("repeat"))return D(u,n,f,!1)}),r.addCommand("for",function(u,f,n){if(n.matchToken("for"))return D(u,n,f,!0)}),r.addCommand("continue",function(u,f,n){if(!n.matchToken("continue"))return;var o={op:function(p){for(var s=this.parent;;s=s.parent){if(s==null)u.raiseParseError(n,"Command `continue` cannot be used outside of a `repeat` loop.");if(s.loop!=null)return s.resolveNext(p)}}};return o}),r.addCommand("break",function(u,f,n){if(!n.matchToken("break"))return;var o={op:function(p){for(var s=this.parent;;s=s.parent){if(s==null)u.raiseParseError(n,"Command `continue` cannot be used outside of a `repeat` loop.");if(s.loop!=null)return f.findNext(s.parent,p)}}};return o}),r.addGrammarElement("stringLike",function(u,f,n){return u.parseAnyOf(["string","nakedString"],n)}),r.addCommand("append",function(u,f,n){if(!n.matchToken("append"))return;var o=null,p=u.requireElement("expression",n),s={type:"symbol",evaluate:function(v){return f.resolveSymbol("result",v)}};if(n.matchToken("to"))o=u.requireElement("expression",n);else o=s;var m=null;if(o.type==="symbol"||o.type==="attributeRef"||o.root!=null)m=P(u,f,n,o,s);var T={value:p,target:o,args:[o,p],op:function(v,x,A){if(Array.isArray(x))return x.push(A),f.findNext(this,v);else if(x instanceof Element)return x.innerHTML+=A,f.findNext(this,v);else if(m)return v.result=(x||"")+A,m;else throw Error("Unable to append a value!")},execute:function(v){return f.unifiedExec(this,v)}};if(m!=null)m.parent=T;return T});function _(u,f,n){n.matchToken("at")||n.matchToken("from");const o={includeStart:!0,includeEnd:!1};if(o.from=n.matchToken("start")?0:u.requireElement("expression",n),n.matchToken("to")||n.matchOpToken(".."))if(n.matchToken("end"))o.toEnd=!0;else o.to=u.requireElement("expression",n);if(n.matchToken("inclusive"))o.includeEnd=!0;else if(n.matchToken("exclusive"))o.includeStart=!1;return o}class U{constructor(u,f){this.re=u,this.str=f}next(){const u=this.re.exec(this.str);if(u===null)return{done:!0};else return{value:u}}}class z{constructor(u,f,n){this.re=u,this.flags=f,this.str=n}[Symbol.iterator](){return new U(new RegExp(this.re,this.flags),this.str)}}r.addCommand("pick",(u,f,n)=>{if(!n.matchToken("pick"))return;if(n.matchToken("the"),n.matchToken("item")||n.matchToken("items")||n.matchToken("character")||n.matchToken("characters")){const o=_(u,f,n);return n.requireToken("from"),{args:[u.requireElement("expression",n),o.from,o.to],op(s,m,T,v){if(o.toEnd)v=m.length;if(!o.includeStart)T++;if(o.includeEnd)v++;if(v==null||v==null)v=T+1;return s.result=m.slice(T,v),f.findNext(this,s)}}}if(n.matchToken("match")){n.matchToken("of");const o=u.parseElement("expression",n);let p="";if(n.matchOpToken("|"))p=n.requireToken("identifier").value;return n.requireToken("from"),{args:[u.parseElement("expression",n),o],op(m,T,v){return m.result=new RegExp(v,p).exec(T),f.findNext(this,m)}}}if(n.matchToken("matches")){n.matchToken("of");const o=u.parseElement("expression",n);let p="gu";if(n.matchOpToken("|"))p="g"+n.requireToken("identifier").value.replace("g","");return console.log("flags",p),n.requireToken("from"),{args:[u.parseElement("expression",n),o],op(m,T,v){return m.result=new z(v,p,T),f.findNext(this,m)}}}}),r.addCommand("increment",function(u,f,n){if(!n.matchToken("increment"))return;var o,p=u.parseElement("assignableExpression",n);if(n.matchToken("by"))o=u.requireElement("expression",n);var s={type:"implicitIncrementOp",target:p,args:[p,o],op:function(m,T,v){T=T?parseFloat(T):0,v=o?parseFloat(v):1;var x=T+v;return m.result=x,x},evaluate:function(m){return f.unifiedEval(this,m)}};return P(u,f,n,p,s)}),r.addCommand("decrement",function(u,f,n){if(!n.matchToken("decrement"))return;var o,p=u.parseElement("assignableExpression",n);if(n.matchToken("by"))o=u.requireElement("expression",n);var s={type:"implicitDecrementOp",target:p,args:[p,o],op:function(m,T,v){T=T?parseFloat(T):0,v=o?parseFloat(v):1;var x=T-v;return m.result=x,x},evaluate:function(m){return f.unifiedEval(this,m)}};return P(u,f,n,p,s)});function j(u,f){var n="text",o;if(u.matchToken("a")||u.matchToken("an"),u.matchToken("json")||u.matchToken("Object"))n="json";else if(u.matchToken("response"))n="response";else if(u.matchToken("html"))n="html";else if(u.matchToken("text"));else o=f.requireElement("dotOrColonPath",u).evaluate();return{type:n,conversion:o}}r.addCommand("fetch",function(u,f,n){if(!n.matchToken("fetch"))return;var o=u.requireElement("stringLike",n);if(n.matchToken("as"))var p=j(n,u);if(n.matchToken("with")&&n.currentToken().value!=="{")var s=u.parseElement("nakedNamedArgumentList",n);else var s=u.parseElement("objectLiteral",n);if(p==null&&n.matchToken("as"))p=j(n,u);var m=p?p.type:"text",T=p?p.conversion:null,v={url:o,argExpressions:s,args:[o,s],op:function(x,A,S){var C=S||{};C.sender=x.me,C.headers=C.headers||{};var L=new AbortController;let H=x.me.addEventListener("fetch:abort",function(){L.abort()},{once:!0});C.signal=L.signal,f.triggerEvent(x.me,"hyperscript:beforeFetch",C),f.triggerEvent(x.me,"fetch:beforeRequest",C),S=C;var Y=!1;if(S.timeout)setTimeout(function(){if(!Y)L.abort()},S.timeout);return fetch(A,S).then(function(W){let K={response:W};if(f.triggerEvent(x.me,"fetch:afterResponse",K),W=K.response,m==="response")return x.result=W,f.triggerEvent(x.me,"fetch:afterRequest",{result:W}),Y=!0,f.findNext(v,x);if(m==="json")return W.json().then(function(Z){return x.result=Z,f.triggerEvent(x.me,"fetch:afterRequest",{result:Z}),Y=!0,f.findNext(v,x)});return W.text().then(function(Z){if(T)Z=f.convertValue(Z,T);if(m==="html")Z=f.convertValue(Z,"Fragment");return x.result=Z,f.triggerEvent(x.me,"fetch:afterRequest",{result:Z}),Y=!0,f.findNext(v,x)})}).catch(function(W){throw f.triggerEvent(x.me,"fetch:error",{reason:W}),W}).finally(function(){x.me.removeEventListener("fetch:abort",H)})}};return v})}function ue(r){r.addCommand("settle",function(q,g,E){if(E.matchToken("settle")){if(!q.commandBoundary(E.currentToken()))var I=q.requireElement("expression",E);else var I=q.requireElement("implicitMeTarget",E);var R={type:"settleCmd",args:[I],op:function(O,M){g.nullCheck(M,I);var P=null,D=!1,_=!1,U=new Promise(function(z){P=z});return M.addEventListener("transitionstart",function(){_=!0},{once:!0}),setTimeout(function(){if(!_&&!D)P(g.findNext(R,O))},500),M.addEventListener("transitionend",function(){if(!D)P(g.findNext(R,O))},{once:!0}),U},execute:function(O){return g.unifiedExec(this,O)}};return R}}),r.addCommand("add",function(q,g,E){if(E.matchToken("add")){var I=q.parseElement("classRef",E),R=null,O=null;if(I==null){if(R=q.parseElement("attributeRef",E),R==null){if(O=q.parseElement("styleLiteral",E),O==null)q.raiseParseError(E,"Expected either a class reference or attribute expression")}}else{var M=[I];while(I=q.parseElement("classRef",E))M.push(I)}if(E.matchToken("to"))var P=q.requireElement("expression",E);else var P=q.requireElement("implicitMeTarget",E);if(E.matchToken("when")){if(O)q.raiseParseError(E,"Only class and properties are supported with a when clause");var D=q.requireElement("expression",E)}if(M)return{classRefs:M,to:P,args:[P,M],op:function(_,U,z){return g.nullCheck(U,P),g.forEach(z,function(j){g.implicitLoop(U,function(u){if(D){if(_.result=u,g.evaluateNoPromise(D,_)){if(u instanceof Element)u.classList.add(j.className)}else if(u instanceof Element)u.classList.remove(j.className);_.result=null}else if(u instanceof Element)u.classList.add(j.className)})}),g.findNext(this,_)}};else if(R)return{type:"addCmd",attributeRef:R,to:P,args:[P],op:function(_,U,z){return g.nullCheck(U,P),g.implicitLoop(U,function(j){if(D){if(_.result=j,g.evaluateNoPromise(D,_))j.setAttribute(R.name,R.value);else j.removeAttribute(R.name);_.result=null}else j.setAttribute(R.name,R.value)}),g.findNext(this,_)},execute:function(_){return g.unifiedExec(this,_)}};else return{type:"addCmd",cssDeclaration:O,to:P,args:[P,O],op:function(_,U,z){return g.nullCheck(U,P),g.implicitLoop(U,function(j){j.style.cssText+=z}),g.findNext(this,_)},execute:function(_){return g.unifiedExec(this,_)}}}}),r.addGrammarElement("styleLiteral",function(q,g,E){if(!E.matchOpToken("{"))return;var I=[""],R=[];while(E.hasMore()){if(E.matchOpToken("\\"))E.consumeToken();else if(E.matchOpToken("}"))break;else if(E.matchToken("$")){var O=E.matchOpToken("{"),M=q.parseElement("expression",E);if(O)E.requireOpToken("}");R.push(M),I.push("")}else{var P=E.consumeToken();I[I.length-1]+=E.source.substring(P.start,P.end)}I[I.length-1]+=E.lastWhitespace()}return{type:"styleLiteral",args:[R],op:function(D,_){var U="";return I.forEach(function(z,j){if(U+=z,j in _)U+=_[j]}),U},evaluate:function(D){return g.unifiedEval(this,D)}}}),r.addCommand("remove",function(q,g,E){if(E.matchToken("remove")){var I=q.parseElement("classRef",E),R=null,O=null;if(I==null){if(R=q.parseElement("attributeRef",E),R==null){if(O=q.parseElement("expression",E),O==null)q.raiseParseError(E,"Expected either a class reference, attribute expression or value expression")}}else{var M=[I];while(I=q.parseElement("classRef",E))M.push(I)}if(E.matchToken("from"))var P=q.requireElement("expression",E);else if(O==null)var P=q.requireElement("implicitMeTarget",E);if(O)return{elementExpr:O,from:P,args:[O,P],op:function(D,_,U){return g.nullCheck(_,O),g.implicitLoop(_,function(z){if(z.parentElement&&(U==null||U.contains(z)))z.parentElement.removeChild(z)}),g.findNext(this,D)}};else return{classRefs:M,attributeRef:R,elementExpr:O,from:P,args:[M,P],op:function(D,_,U){if(g.nullCheck(U,P),_)g.forEach(_,function(z){g.implicitLoop(U,function(j){j.classList.remove(z.className)})});else g.implicitLoop(U,function(z){z.removeAttribute(R.name)});return g.findNext(this,D)}}}}),r.addCommand("toggle",function(q,g,E){if(E.matchToken("toggle")){if(E.matchAnyToken("the","my"),E.currentToken().type==="STYLE_REF"){var I=E.consumeToken().value.substr(1),R=!0,O=y(q,E,I);if(E.matchToken("of")){E.pushFollow("with");try{var M=q.requireElement("expression",E)}finally{E.popFollow()}}else var M=q.requireElement("implicitMeTarget",E)}else if(E.matchToken("between")){var P=!0,D=q.parseElement("classRef",E);E.requireToken("and");var _=q.requireElement("classRef",E)}else{var D=q.parseElement("classRef",E),U=null;if(D==null){if(U=q.parseElement("attributeRef",E),U==null)q.raiseParseError(E,"Expected either a class reference or attribute expression")}else{var z=[D];while(D=q.parseElement("classRef",E))z.push(D)}}if(R!==!0)if(E.matchToken("on"))var M=q.requireElement("expression",E);else var M=q.requireElement("implicitMeTarget",E);if(E.matchToken("for"))var j=q.requireElement("expression",E);else if(E.matchToken("until")){var u=q.requireElement("dotOrColonPath",E,"Expected event name");if(E.matchToken("from"))var f=q.requireElement("expression",E)}var n={classRef:D,classRef2:_,classRefs:z,attributeRef:U,on:M,time:j,evt:u,from:f,toggle:function(o,p,s,m){if(g.nullCheck(o,M),R)g.implicitLoop(o,function(T){O("toggle",T)});else if(P)g.implicitLoop(o,function(T){if(T.classList.contains(p.className))T.classList.remove(p.className),T.classList.add(s.className);else T.classList.add(p.className),T.classList.remove(s.className)});else if(m)g.forEach(m,function(T){g.implicitLoop(o,function(v){v.classList.toggle(T.className)})});else g.forEach(o,function(T){if(T.hasAttribute(U.name))T.removeAttribute(U.name);else T.setAttribute(U.name,U.value)})},args:[M,j,u,f,D,_,z],op:function(o,p,s,m,T,v,x,A){if(s)return new Promise(function(S){n.toggle(p,v,x,A),setTimeout(function(){n.toggle(p,v,x,A),S(g.findNext(n,o))},s)});else if(m)return new Promise(function(S){var C=T||o.me;C.addEventListener(m,function(){n.toggle(p,v,x,A),S(g.findNext(n,o))},{once:!0}),n.toggle(p,v,x,A)});else return this.toggle(p,v,x,A),g.findNext(n,o)}};return n}});var l={display:function(q,g,E){if(E)g.style.display=E;else if(q==="toggle")if(getComputedStyle(g).display==="none")l.display("show",g,E);else l.display("hide",g,E);else if(q==="hide"){const I=r.runtime.getInternalData(g);if(I.originalDisplay==null)I.originalDisplay=g.style.display;g.style.display="none"}else{const I=r.runtime.getInternalData(g);if(I.originalDisplay&&I.originalDisplay!=="none")g.style.display=I.originalDisplay;else g.style.removeProperty("display")}},visibility:function(q,g,E){if(E)g.style.visibility=E;else if(q==="toggle")if(getComputedStyle(g).visibility==="hidden")l.visibility("show",g,E);else l.visibility("hide",g,E);else if(q==="hide")g.style.visibility="hidden";else g.style.visibility="visible"},opacity:function(q,g,E){if(E)g.style.opacity=E;else if(q==="toggle")if(getComputedStyle(g).opacity==="0")l.opacity("show",g,E);else l.opacity("hide",g,E);else if(q==="hide")g.style.opacity="0";else g.style.opacity="1"}},d=function(q,g,E){var I,R=E.currentToken();if(R.value==="when"||R.value==="with"||q.commandBoundary(R))I=q.parseElement("implicitMeTarget",E);else I=q.parseElement("expression",E);return I},y=function(q,g,E){var I=i.defaultHideShowStrategy,R=l;if(i.hideShowStrategies)R=Object.assign(R,i.hideShowStrategies);E=E||I||"display";var O=R[E];if(O==null)q.raiseParseError(g,"Unknown show/hide strategy : "+E);return O};r.addCommand("hide",function(q,g,E){if(E.matchToken("hide")){var I=d(q,g,E),R=null;if(E.matchToken("with")){if(R=E.requireTokenType("IDENTIFIER","STYLE_REF").value,R.indexOf("*")===0)R=R.substr(1)}var O=y(q,E,R);return{target:I,args:[I],op:function(M,P){return g.nullCheck(P,I),g.implicitLoop(P,function(D){O("hide",D)}),g.findNext(this,M)}}}}),r.addCommand("show",function(q,g,E){if(E.matchToken("show")){var I=d(q,g,E),R=null;if(E.matchToken("with")){if(R=E.requireTokenType("IDENTIFIER","STYLE_REF").value,R.indexOf("*")===0)R=R.substr(1)}var O=null;if(E.matchOpToken(":")){var M=E.consumeUntilWhitespace();E.matchTokenType("WHITESPACE"),O=M.map(function(_){return _.value}).join("")}if(E.matchToken("when"))var P=q.requireElement("expression",E);var D=y(q,E,R);return{target:I,when:P,args:[I],op:function(_,U){return g.nullCheck(U,I),g.implicitLoop(U,function(z){if(P){if(_.result=z,g.evaluateNoPromise(P,_))D("show",z,O);else D("hide",z);_.result=null}else D("show",z,O)}),g.findNext(this,_)}}}}),r.addCommand("take",function(q,g,E){if(E.matchToken("take")){let D=null,_=[];while(D=q.parseElement("classRef",E))_.push(D);var I=null,R=null;let U=_.length>0;if(!U){if(I=q.parseElement("attributeRef",E),I==null)q.raiseParseError(E,"Expected either a class reference or attribute expression");if(E.matchToken("with"))R=q.requireElement("expression",E)}if(E.matchToken("from"))var O=q.requireElement("expression",E);if(E.matchToken("for"))var M=q.requireElement("expression",E);else var M=q.requireElement("implicitMeTarget",E);if(U){var P={classRefs:_,from:O,forElt:M,args:[_,O,M],op:function(z,j,u,f){return g.nullCheck(f,M),g.implicitLoop(j,function(n){var o=n.className;if(u)g.implicitLoop(u,function(p){p.classList.remove(o)});else g.implicitLoop(n,function(p){p.classList.remove(o)});g.implicitLoop(f,function(p){p.classList.add(o)})}),g.findNext(this,z)}};return P}else{var P={attributeRef:I,from:O,forElt:M,args:[O,M,R],op:function(j,u,f,n){return g.nullCheck(u,O),g.nullCheck(f,M),g.implicitLoop(u,function(o){if(!n)o.removeAttribute(I.name);else o.setAttribute(I.name,n)}),g.implicitLoop(f,function(o){o.setAttribute(I.name,I.value||"")}),g.findNext(this,j)}};return P}}});function w(q,g,E,I){if(E!=null)var R=q.resolveSymbol(E,g);else var R=g;if(R instanceof Element||R instanceof HTMLDocument){while(R.firstChild)R.removeChild(R.firstChild);R.append(r.runtime.convertValue(I,"Fragment")),q.processNode(R)}else if(E!=null)q.setSymbol(E,g,null,I);else throw"Don't know how to put a value into "+typeof g}r.addCommand("put",function(q,g,E){if(E.matchToken("put")){var I=q.requireElement("expression",E),R=E.matchAnyToken("into","before","after");if(R==null&&E.matchToken("at"))E.matchToken("the"),R=E.matchAnyToken("start","end"),E.requireToken("of");if(R==null)q.raiseParseError(E,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'");var O=q.requireElement("expression",E),M=R.value,P=!1,D=!1,_=null,U=null;if(O.type==="arrayIndex"&&M==="into")P=!0,U=O.prop,_=O.root;else if(O.prop&&O.root&&M==="into")U=O.prop.value,_=O.root;else if(O.type==="symbol"&&M==="into")D=!0,U=O.name;else if(O.type==="attributeRef"&&M==="into"){var z=!0;U=O.name,_=q.requireElement("implicitMeTarget",E)}else if(O.type==="styleRef"&&M==="into"){var j=!0;U=O.name,_=q.requireElement("implicitMeTarget",E)}else if(O.attribute&&M==="into"){var z=O.attribute.type==="attributeRef",j=O.attribute.type==="styleRef";U=O.attribute.name,_=O.root}else _=O;var u={target:O,operation:M,symbolWrite:D,value:I,args:[_,U,I],op:function(f,n,o,p){if(D)w(g,f,o,p);else if(g.nullCheck(n,_),M==="into")if(z)g.implicitLoop(n,function(m){m.setAttribute(o,p)});else if(j)g.implicitLoop(n,function(m){m.style[o]=p});else if(P)n[o]=p;else g.implicitLoop(n,function(m){w(g,m,o,p)});else{var s=M==="before"?Element.prototype.before:M==="after"?Element.prototype.after:M==="start"?Element.prototype.prepend:M==="end"?Element.prototype.append:Element.prototype.append;g.implicitLoop(n,function(m){if(s.call(m,p instanceof Node?p:g.convertValue(p,"Fragment")),m.parentElement)g.processNode(m.parentElement);else g.processNode(m)})}return g.findNext(this,f)}};return u}});function F(q,g,E){var I;if(E.matchToken("the")||E.matchToken("element")||E.matchToken("elements")||E.currentToken().type==="CLASS_REF"||E.currentToken().type==="ID_REF"||E.currentToken().op&&E.currentToken().value==="<"){q.possessivesDisabled=!0;try{I=q.parseElement("expression",E)}finally{delete q.possessivesDisabled}if(E.matchOpToken("'"))E.requireToken("s")}else if(E.currentToken().type==="IDENTIFIER"&&E.currentToken().value==="its"){var R=E.matchToken("its");I={type:"pseudopossessiveIts",token:R,name:R.value,evaluate:function(O){return g.resolveSymbol("it",O)}}}else E.matchToken("my")||E.matchToken("me"),I=q.parseElement("implicitMeTarget",E);return I}r.addCommand("transition",function(q,g,E){if(E.matchToken("transition")){var I=F(q,g,E),R=[],O=[],M=[],P=E.currentToken();while(!q.commandBoundary(P)&&P.value!=="over"&&P.value!=="using"){if(E.currentToken().type==="STYLE_REF"){let j=E.consumeToken().value.substr(1);R.push({type:"styleRefValue",evaluate:function(){return j}})}else R.push(q.requireElement("stringLike",E));if(E.matchToken("from"))O.push(q.requireElement("expression",E));else O.push(null);if(E.requireToken("to"),E.matchToken("initial"))M.push({type:"initial_literal",evaluate:function(){return"initial"}});else M.push(q.requireElement("expression",E));P=E.currentToken()}if(E.matchToken("over"))var D=q.requireElement("expression",E);else if(E.matchToken("using"))var _=q.requireElement("expression",E);var U={to:M,args:[I,R,O,M,_,D],op:function(z,j,u,f,n,o,p){g.nullCheck(j,I);var s=[];return g.implicitLoop(j,function(m){var T=new Promise(function(v,x){var A=m.style.transition;if(p)m.style.transition="all "+p+"ms ease-in";else if(o)m.style.transition=o;else m.style.transition=i.defaultTransition;var S=g.getInternalData(m),C=getComputedStyle(m),L={};for(var H=0;H<C.length;H++){var Y=C[H],W=C[Y];L[Y]=W}if(!S.initialStyles)S.initialStyles=L;for(var H=0;H<u.length;H++){var K=u[H],Z=f[H];if(Z==="computed"||Z==null)m.style[K]=L[K];else m.style[K]=Z}var pe=!1,Ee=!1;m.addEventListener("transitionend",function(){if(!Ee)m.style.transition=A,Ee=!0,v()},{once:!0}),m.addEventListener("transitionstart",function(){pe=!0},{once:!0}),setTimeout(function(){if(!Ee&&!pe)m.style.transition=A,Ee=!0,v()},100),setTimeout(function(){var ne=[];for(var ce=0;ce<u.length;ce++){var Te=u[ce],fe=n[ce];if(fe==="initial"){var ve=S.initialStyles[Te];m.style[Te]=ve}else m.style[Te]=fe}},0)});s.push(T)}),Promise.all(s).then(function(){return g.findNext(U,z)})}};return U}}),r.addCommand("measure",function(q,g,E){if(!E.matchToken("measure"))return;var I=F(q,g,E),R=[];if(!q.commandBoundary(E.currentToken()))do R.push(E.matchTokenType("IDENTIFIER").value);while(E.matchOpToken(","));return{properties:R,args:[I],op:function(O,M){if(g.nullCheck(M,I),0 in M)M=M[0];var P=M.getBoundingClientRect(),D={top:M.scrollTop,left:M.scrollLeft,topMax:M.scrollTopMax,leftMax:M.scrollLeftMax,height:M.scrollHeight,width:M.scrollWidth};return O.result={x:P.x,y:P.y,left:P.left,top:P.top,right:P.right,bottom:P.bottom,width:P.width,height:P.height,bounds:P,scrollLeft:D.left,scrollTop:D.top,scrollLeftMax:D.leftMax,scrollTopMax:D.topMax,scrollWidth:D.width,scrollHeight:D.height,scroll:D},g.forEach(R,function(_){if(_ in O.result)O.locals[_]=O.result[_];else throw"No such measurement as "+_}),g.findNext(this,O)}}}),r.addLeafExpression("closestExpr",function(q,g,E){if(E.matchToken("closest")){if(E.matchToken("parent"))var I=!0;var R=null;if(E.currentToken().type==="ATTRIBUTE_REF"){var O=q.requireElement("attributeRefAccess",E,null);R="["+O.attribute.name+"]"}if(R==null){var M=q.requireElement("expression",E);if(M.css==null)q.raiseParseError(E,"Expected a CSS expression");else R=M.css}if(E.matchToken("to"))var P=q.parseElement("expression",E);else var P=q.parseElement("implicitMeTarget",E);var D={type:"closestExpr",parentSearch:I,expr:M,css:R,to:P,args:[P],op:function(_,U){if(U==null)return null;else{let z=[];if(g.implicitLoop(U,function(j){if(I)z.push(j.parentElement?j.parentElement.closest(R):null);else z.push(j.closest(R))}),g.shouldAutoIterate(U))return z;else return z[0]}},evaluate:function(_){return g.unifiedEval(this,_)}};if(O)return O.root=D,O.args=[D],O;else return D}}),r.addCommand("go",function(q,g,E){if(E.matchToken("go")){if(E.matchToken("back"))var I=!0;else if(E.matchToken("to"),E.matchToken("url")){var R=q.requireElement("stringLike",E),O=!0;if(E.matchToken("in")){E.requireToken("new"),E.requireToken("window");var M=!0}}else{E.matchToken("the");var P=E.matchAnyToken("top","middle","bottom"),D=E.matchAnyToken("left","center","right");if(P||D)E.requireToken("of");var R=q.requireElement("unaryExpression",E),_=E.matchAnyOpToken("+","-");if(_){E.pushFollow("px");try{var U=q.requireElement("expression",E)}finally{E.popFollow()}}E.matchToken("px");var z=E.matchAnyToken("smoothly","instantly"),j={block:"start",inline:"nearest"};if(P){if(P.value==="top")j.block="start";else if(P.value==="bottom")j.block="end";else if(P.value==="middle")j.block="center"}if(D){if(D.value==="left")j.inline="start";else if(D.value==="center")j.inline="center";else if(D.value==="right")j.inline="end"}if(z){if(z.value==="smoothly")j.behavior="smooth";else if(z.value==="instantly")j.behavior="instant"}}var u={target:R,args:[R,U],op:function(f,n,o){if(I)window.history.back();else if(O){if(n)if(M)window.open(n);else window.location.href=n}else g.implicitLoop(n,function(p){if(p===window)p=document.body;if(_){let s=p.getBoundingClientRect(),m=document.createElement("div"),T=_.value==="+"?o:o*-1,v=j.inline=="start"||j.inline=="end"?T:0,x=j.block=="start"||j.block=="end"?T:0;m.style.position="absolute",m.style.top=s.top+window.scrollY+x+"px",m.style.left=s.left+window.scrollX+v+"px",m.style.height=s.height+"px",m.style.width=s.width+"px",m.style.zIndex=""+Number.MIN_SAFE_INTEGER,m.style.opacity="0",document.body.appendChild(m),setTimeout(function(){document.body.removeChild(m)},100),p=m}p.scrollIntoView(j)});return g.findNext(u,f)}};return u}}),i.conversions.dynamicResolvers.push(function(q,g){if(!(q==="Values"||q.indexOf("Values:")===0))return;var E=q.split(":")[1],I={},R=r.runtime.implicitLoop.bind(r.runtime);if(R(g,function(P){var D=M(P);if(D!==void 0){I[D.name]=D.value;return}if(P.querySelectorAll!=null){var _=P.querySelectorAll("input,select,textarea");_.forEach(O)}}),E)if(E==="JSON")return JSON.stringify(I);else if(E==="Form")return new URLSearchParams(I).toString();else throw"Unknown conversion: "+E;else return I;function O(P){var D=M(P);if(D==null)return;if(I[D.name]==null){I[D.name]=D.value;return}if(Array.isArray(I[D.name])&&Array.isArray(D.value)){I[D.name]=[].concat(I[D.name],D.value);return}}function M(P){try{var D={name:P.name,value:P.value};if(D.name==null||D.value==null)return;if(P.type=="radio"&&P.checked==!1)return;if(P.type=="checkbox"){if(P.checked==!1)D.value=void 0;else if(typeof D.value==="string")D.value=[D.value]}if(P.type=="select-multiple"){var _=P.querySelectorAll("option[selected]");D.value=[];for(var U=0;U<_.length;U++)D.value.push(_[U].value)}return D}catch(z){return}}}),i.conversions.HTML=function(q){var g=function(E){if(E instanceof Array)return E.map(function(M){return g(M)}).join("");if(E instanceof HTMLElement)return E.outerHTML;if(E instanceof NodeList){var I="";for(var R=0;R<E.length;R++){var O=E[R];if(O instanceof HTMLElement)I+=O.outerHTML}return I}if(E.toString)return E.toString();return""};return g(q)},i.conversions.Fragment=function(q){var g=document.createDocumentFragment();return r.runtime.implicitLoop(q,function(E){if(E instanceof Node)g.append(E);else{var I=document.createElement("template");I.innerHTML=E,g.append(I.content)}}),g}}const ee=new k,Ne=ee.lexer,me=ee.parser;function ft(r,l){return ee.evaluate(r,l)}function Pt(){var r=Array.from(e.document.querySelectorAll("script[type='text/hyperscript'][src]"));Promise.all(r.map(function(w){return fetch(w.src).then(function(F){return F.text()})})).then((w)=>w.forEach((F)=>Ze(F))).then(()=>l(function(){y(),ee.processNode(document.documentElement),e.document.addEventListener("htmx:load",function(w){ee.processNode(w.detail.elt)})}));function l(w){if(document.readyState!=="loading")setTimeout(w);else document.addEventListener("DOMContentLoaded",w)}function d(){var w=document.querySelector('meta[name="htmx-config"]');if(w)return Ue(w.content);else return null}function y(){var w=d();if(w)Object.assign(i,w)}}const Ze=Object.assign(ft,{config:i,use(r){r(Ze)},internals:{lexer:Ne,parser:me,runtime:ee,Lexer:a,Tokens:c,Parser:h,Runtime:k},ElementCollection:J,addFeature:me.addFeature.bind(me),addCommand:me.addCommand.bind(me),addLeafExpression:me.addLeafExpression.bind(me),addIndirectExpression:me.addIndirectExpression.bind(me),evaluate:ee.evaluate.bind(ee),parse:ee.parse.bind(ee),processNode:ee.processNode.bind(ee),version:"0.9.12",browserInit:Pt});return Ze})});var Ti=function(e){let t="",i=0;while(i<e)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(Math.random()*Ei)),i+=1;return t};var Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".length,ki="z-[1] peer block min-h-[auto] w-full rounded border-0 bg-transparent px-3 py-[0.32rem] leading-[1.6] outline-none transition-all duration-150 ease-linear focus:placeholder:opacity-100 peer-focus:text-primary data-[te-input-state-active]:placeholder:opacity-100 motion-reduce:transition-none dark:text-neutral-200 dark:placeholder:text-neutral-200 dark:peer-focus:text-primary [&:not([data-te-input-placeholder-active])]:placeholder:opacity-0",yi="z-[1] pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-150 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary";class On extends HTMLElement{input;formDiv;constructor(){super();let e=this.id??Ti(8),t=this.getAttribute("placeholder");const i=document.createElement("div");i.classList.add("relative"),i.classList.add("mb-3");const a=document.createElement("input");if(a.id=e+"-input",a.type=this.getAttribute("type")??"text",a.placeholder=t,a.name=this.getAttribute("name"),a.value=this.getAttribute("value"),a.maxLength=Number(this.getAttribute("maxlength")),a.max=this.getAttribute("max"),a.min=this.getAttribute("min"),a.step=this.getAttribute("step"),a.disabled=this.getAttribute("disabled")!=null,a.readOnly=this.getAttribute("readOnly")!=null,a.maxLength)a.oninput=()=>this.onInput(a);ki.split(" ").forEach((k)=>a.classList.add(k));const c=document.createElement("label");c.htmlFor=a.id,c.innerText=t,yi.split(" ").forEach((k)=>c.classList.add(k)),i.appendChild(a),i.appendChild(c),this.appendChild(i),i.setAttribute("data-te-input-wrapper-init",""),i.setAttribute("data-te-validate","input");let h=this.getAttribute("input-error")?.trim();if(h&&h.length>0)i.setAttribute("data-te-invalid-feedback",h),i.setAttribute("data-te-validation-state","invalid"),this.removeAttribute("input-error");this.input=a,this.formDiv=i}onInput(e){if(limitInputToMaxLength(e),!e.step);}connectedCallback(){this.addEventListener("clear",(e)=>{this.input.value=this.input.type==="number"?this.input.min?this.input.min:"0":"",this.input.value="",this.formDiv.removeAttribute("data-te-invalid-feedback"),this.formDiv.removeAttribute("data-te-validation-state")})}disconnectedCallback(){}adoptedCallback(){}attributeChangedCallback(e,t,i){}}customElements.define("cm-form-input",On);var gi=function(e){xi(e)},xi=function(e){if(!Me.includes(e))Me.push(e);bi()},Qn=function(e){let t=Me.indexOf(e);if(t!==-1&&t>jt)Me.splice(t,1)},bi=function(){if(!Bt&&!Ut)Ut=!0,queueMicrotask(qi)},qi=function(){Ut=!1,Bt=!0;for(let e=0;e<Me.length;e++)Me[e](),jt=e;Me.length=0,jt=-1,Bt=!1},wi=function(e){zt=!1,e(),zt=!0},Si=function(e){Je=e.reactive,Xe=e.release,We=(t)=>e.effect(t,{scheduler:(i)=>{if(zt)gi(i);else i()}}),Yn=e.raw},In=function(e){We=e},Ni=function(e){let t=()=>{};return[(a)=>{let c=We(a);if(!e._x_effects)e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach((h)=>h())};return e._x_effects.add(c),t=()=>{if(c===void 0)return;e._x_effects.delete(c),Xe(c)},c},()=>{t()}]},Jn=function(e,t){let i=!0,a,c=We(()=>{let h=e();if(JSON.stringify(h),!i)queueMicrotask(()=>{t(h,a),a=h});else a=h;i=!1});return()=>Xe(c)},Ai=function(e){Zn.push(e)},on=function(e,t){if(typeof t==="function"){if(!e._x_cleanups)e._x_cleanups=[];e._x_cleanups.push(t)}else t=e,$n.push(t)},Vn=function(e){Xn.push(e)},Kn=function(e,t,i){if(!e._x_attributeCleanups)e._x_attributeCleanups={};if(!e._x_attributeCleanups[t])e._x_attributeCleanups[t]=[];e._x_attributeCleanups[t].push(i)},er=function(e,t){if(!e._x_attributeCleanups)return;Object.entries(e._x_attributeCleanups).forEach(([i,a])=>{if(t===void 0||t.includes(i))a.forEach((c)=>c()),delete e._x_attributeCleanups[i]})},Ci=function(e){if(e._x_cleanups)while(e._x_cleanups.length)e._x_cleanups.pop()()},ln=function(){sn.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),un=!0},tr=function(){Ri(),sn.disconnect(),un=!1},Ri=function(){let e=sn.takeRecords();et.push(()=>e.length>0&&fn(e));let t=et.length;queueMicrotask(()=>{if(et.length===t)while(et.length>0)et.shift()()})},se=function(e){if(!un)return e();tr();let t=e();return ln(),t},Oi=function(){cn=!0},Ii=function(){cn=!1,fn(bt),bt=[]},fn=function(e){if(cn){bt=bt.concat(e);return}let t=new Set,i=new Set,a=new Map,c=new Map;for(let h=0;h<e.length;h++){if(e[h].target._x_ignoreMutationObserver)continue;if(e[h].type==="childList")e[h].addedNodes.forEach((k)=>k.nodeType===1&&t.add(k)),e[h].removedNodes.forEach((k)=>k.nodeType===1&&i.add(k));if(e[h].type==="attributes"){let k=e[h].target,b=e[h].attributeName,N=e[h].oldValue,G=()=>{if(!a.has(k))a.set(k,[]);a.get(k).push({name:b,value:k.getAttribute(b)})},B=()=>{if(!c.has(k))c.set(k,[]);c.get(k).push(b)};if(k.hasAttribute(b)&&N===null)G();else if(k.hasAttribute(b))B(),G();else B()}}c.forEach((h,k)=>{er(k,h)}),a.forEach((h,k)=>{Xn.forEach((b)=>b(k,h))});for(let h of i){if(t.has(h))continue;$n.forEach((k)=>k(h))}t.forEach((h)=>{h._x_ignoreSelf=!0,h._x_ignore=!0});for(let h of t){if(i.has(h))continue;if(!h.isConnected)continue;delete h._x_ignoreSelf,delete h._x_ignore,Zn.forEach((k)=>k(h)),h._x_ignore=!0,h._x_ignoreSelf=!0}t.forEach((h)=>{delete h._x_ignoreSelf,delete h._x_ignore}),t=null,i=null,a=null,c=null},nr=function(e){return ut(Qe(e))},st=function(e,t,i){return e._x_dataStack=[t,...Qe(i||e)],()=>{e._x_dataStack=e._x_dataStack.filter((a)=>a!==t)}},Qe=function(e){if(e._x_dataStack)return e._x_dataStack;if(typeof ShadowRoot==="function"&&e instanceof ShadowRoot)return Qe(e.host);if(!e.parentNode)return[];return Qe(e.parentNode)},ut=function(e){return new Proxy({objects:e},Li)},Fi=function(){return Reflect.ownKeys(this).reduce((t,i)=>{return t[i]=Reflect.get(this,i),t},{})},rr=function(e){let t=(a)=>typeof a==="object"&&!Array.isArray(a)&&a!==null,i=(a,c="")=>{Object.entries(Object.getOwnPropertyDescriptors(a)).forEach(([h,{value:k,enumerable:b}])=>{if(b===!1||k===void 0)return;if(typeof k==="object"&&k!==null&&k.__v_skip)return;let N=c===""?h:`${c}.${h}`;if(typeof k==="object"&&k!==null&&k._x_interceptor)a[h]=k.initialize(e,N,h);else if(t(k)&&k!==a&&!(k instanceof Element))i(k,N)})};return i(e)},ir=function(e,t=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(a,c,h){return e(this.initialValue,()=>Pi(a,c),(k)=>Qt(a,c,k),c,h)}};return t(i),(a)=>{if(typeof a==="object"&&a!==null&&a._x_interceptor){let c=i.initialize.bind(i);i.initialize=(h,k,b)=>{let N=a.initialize(h,k,b);return i.initialValue=N,c(h,k,b)}}else i.initialValue=a;return i}},Pi=function(e,t){return t.split(".").reduce((i,a)=>i[a],e)},Qt=function(e,t,i){if(typeof t==="string")t=t.split(".");if(t.length===1)e[t[0]]=i;else if(t.length===0)throw error;else if(e[t[0]])return Qt(e[t[0]],t.slice(1),i);else return e[t[0]]={},Qt(e[t[0]],t.slice(1),i)},qe=function(e,t){ar[e]=t},Yt=function(e,t){return Object.entries(ar).forEach(([i,a])=>{let c=null;function h(){if(c)return c;else{let[k,b]=fr(t);return c={interceptor:ir,...k},on(t,b),c}}Object.defineProperty(e,`\$${i}`,{get(){return a(t,h())},enumerable:!1})}),e},Di=function(e,t,i,...a){try{return i(...a)}catch(c){ot(c,e,t)}},ot=function(e,t,i=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:i}),console.warn(`Alpine Expression Error: ${e.message}

${i?'Expression: "'+i+'"\n\n':""}`,t),setTimeout(()=>{throw e},0)},or=function(e){let t=gt;gt=!1;let i=e();return gt=t,i},_e=function(e,t,i={}){let a;return he(e,t)((c)=>a=c,i),a},he=function(...e){return sr(...e)},Mi=function(e){sr=e},ur=function(e,t){let i={};Yt(i,e);let a=[i,...Qe(e)],c=typeof t==="function"?_i(a,t):Hi(a,t,e);return Di.bind(null,e,t,c)},_i=function(e,t){return(i=()=>{},{scope:a={},params:c=[]}={})=>{let h=t.apply(ut([a,...e]),c);qt(i,h)}},Gi=function(e,t){if(Mt[e])return Mt[e];let i=Object.getPrototypeOf(async function(){}).constructor,a=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,h=(()=>{try{let k=new i(["__self","scope"],`with (scope) { __self.result = ${a} }; __self.finished = true; return __self.result;`);return Object.defineProperty(k,"name",{value:`[Alpine] ${e}`}),k}catch(k){return ot(k,t,e),Promise.resolve()}})();return Mt[e]=h,h},Hi=function(e,t,i){let a=Gi(t,i);return(c=()=>{},{scope:h={},params:k=[]}={})=>{a.result=void 0,a.finished=!1;let b=ut([h,...e]);if(typeof a==="function"){let N=a(a,b).catch((G)=>ot(G,i,t));if(a.finished)qt(c,a.result,b,k,i),a.result=void 0;else N.then((G)=>{qt(c,G,b,k,i)}).catch((G)=>ot(G,i,t)).finally(()=>a.result=void 0)}}},qt=function(e,t,i,a,c){if(gt&&typeof t==="function"){let h=t.apply(i,a);if(h instanceof Promise)h.then((k)=>qt(e,k,i,a)).catch((k)=>ot(k,c,t));else e(h)}else if(typeof t==="object"&&t instanceof Promise)t.then((h)=>e(h));else e(t)},$e=function(e=""){return mn+e},Wi=function(e){mn=e},oe=function(e,t){return wt[e]=t,{before(i){if(!wt[i]){console.warn(String.raw`Cannot find directive \`${i}\`. \`${e}\` will use the default order of execution`);return}const a=De.indexOf(i);De.splice(a>=0?a:De.indexOf("DEFAULT"),0,e)}}},Ui=function(e){return Object.keys(wt).includes(e)},hn=function(e,t,i){if(t=Array.from(t),e._x_virtualDirectives){let h=Object.entries(e._x_virtualDirectives).map(([b,N])=>({name:b,value:N})),k=lr(h);h=h.map((b)=>{if(k.find((N)=>N.name===b.name))return{name:`x-bind:${b.name}`,value:`"${b.value}"`};return b}),t=t.concat(h)}let a={};return t.map(pr((h,k)=>a[h]=k)).filter(dr).map(zi(a,i)).sort(Qi).map((h)=>{return ji(e,h)})},lr=function(e){return Array.from(e).map(pr()).filter((t)=>!dr(t))},Bi=function(e){Jt=!0;let t=Symbol();cr=t,rt.set(t,[]);let i=()=>{while(rt.get(t).length)rt.get(t).shift()();rt.delete(t)},a=()=>{Jt=!1,i()};e(i),a()},fr=function(e){let t=[],i=(b)=>t.push(b),[a,c]=Ni(e);return t.push(c),[{Alpine:ct,effect:a,cleanup:i,evaluateLater:he.bind(he,e),evaluate:_e.bind(_e,e)},()=>t.forEach((b)=>b())]},ji=function(e,t){let i=()=>{},a=wt[t.type]||i,[c,h]=fr(e);Kn(e,t.original,h);let k=()=>{if(e._x_ignore||e._x_ignoreSelf)return;a.inline&&a.inline(e,t,c),a=a.bind(a,e,t,c),Jt?rt.get(cr).push(a):a()};return k.runCleanups=h,k},pr=function(e=()=>{}){return({name:t,value:i})=>{let{name:a,value:c}=vr.reduce((h,k)=>{return k(h)},{name:t,value:i});if(a!==t)e(a,t);return{name:a,value:c}}},pn=function(e){vr.push(e)},dr=function({name:e}){return Er().test(e)},zi=function(e,t){return({name:i,value:a})=>{let c=i.match(Er()),h=i.match(/:([a-zA-Z0-9\-_:]+)/),k=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],b=t||e[i]||i;return{type:c?c[1]:null,value:h?h[1]:null,modifiers:k.map((N)=>N.replace(".","")),expression:a,original:b}}},Qi=function(e,t){let i=De.indexOf(e.type)===-1?Xt:e.type,a=De.indexOf(t.type)===-1?Xt:t.type;return De.indexOf(i)-De.indexOf(a)},it=function(e,t,i={}){e.dispatchEvent(new CustomEvent(t,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))},Re=function(e,t){if(typeof ShadowRoot==="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach((c)=>Re(c,t));return}let i=!1;if(t(e,()=>i=!0),i)return;let a=e.firstElementChild;while(a)Re(a,t,!1),a=a.nextElementSibling},ke=function(e,...t){console.warn(`Alpine Warning: ${e}`,...t)},Yi=function(){if(Ln)ke("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems.");if(Ln=!0,!document.body)ke("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?");it(document,"alpine:init"),it(document,"alpine:initializing"),ln(),Ai((t)=>Se(t,Re)),on((t)=>qr(t)),Vn((t,i)=>{hn(t,i).forEach((a)=>a())});let e=(t)=>!Nt(t.parentElement,!0);Array.from(document.querySelectorAll(yr().join(","))).filter(e).forEach((t)=>{Se(t)}),it(document,"alpine:initialized"),setTimeout(()=>{$i()})},kr=function(){return vn.map((e)=>e())},yr=function(){return vn.concat(Tr).map((e)=>e())},gr=function(e){vn.push(e)},xr=function(e){Tr.push(e)},Nt=function(e,t=!1){return lt(e,(i)=>{if((t?yr():kr()).some((c)=>i.matches(c)))return!0})},lt=function(e,t){if(!e)return;if(t(e))return e;if(e._x_teleportBack)e=e._x_teleportBack;if(!e.parentElement)return;return lt(e.parentElement,t)},Ji=function(e){return kr().some((t)=>e.matches(t))},Xi=function(e){br.push(e)},Se=function(e,t=Re,i=()=>{}){Bi(()=>{t(e,(a,c)=>{i(a,c),br.forEach((h)=>h(a,c)),hn(a,a.attributes).forEach((h)=>h()),a._x_ignore&&c()})})},qr=function(e,t=Re){t(e,(i)=>{er(i),Ci(i)})},$i=function(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,i,a])=>{if(Ui(i))return;a.some((c)=>{if(document.querySelector(c))return ke(`found "${c}", but missing ${t} plugin`),!0})})},En=function(e=()=>{}){return queueMicrotask(()=>{dn||setTimeout(()=>{Zt()})}),new Promise((t)=>{$t.push(()=>{e(),t()})})},Zt=function(){dn=!1;while($t.length)$t.shift()()},Zi=function(){dn=!0},Tn=function(e,t){if(Array.isArray(t))return Fn(e,t.join(" "));else if(typeof t==="object"&&t!==null)return Vi(e,t);else if(typeof t==="function")return Tn(e,t());return Fn(e,t)},Fn=function(e,t){let i=(h)=>h.split(" ").filter(Boolean),a=(h)=>h.split(" ").filter((k)=>!e.classList.contains(k)).filter(Boolean),c=(h)=>{return e.classList.add(...h),()=>{e.classList.remove(...h)}};return t=t===!0?t="":t||"",c(a(t))},Vi=function(e,t){let i=(b)=>b.split(" ").filter(Boolean),a=Object.entries(t).flatMap(([b,N])=>N?i(b):!1).filter(Boolean),c=Object.entries(t).flatMap(([b,N])=>!N?i(b):!1).filter(Boolean),h=[],k=[];return c.forEach((b)=>{if(e.classList.contains(b))e.classList.remove(b),k.push(b)}),a.forEach((b)=>{if(!e.classList.contains(b))e.classList.add(b),h.push(b)}),()=>{k.forEach((b)=>e.classList.add(b)),h.forEach((b)=>e.classList.remove(b))}},At=function(e,t){if(typeof t==="object"&&t!==null)return Ki(e,t);return ea(e,t)},Ki=function(e,t){let i={};return Object.entries(t).forEach(([a,c])=>{if(i[a]=e.style[a],!a.startsWith("--"))a=ta(a);e.style.setProperty(a,c)}),setTimeout(()=>{if(e.style.length===0)e.removeAttribute("style")}),()=>{At(e,i)}},ea=function(e,t){let i=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",i||"")}},ta=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},Vt=function(e,t=()=>{}){let i=!1;return function(){if(!i)i=!0,e.apply(this,arguments);else t.apply(this,arguments)}},na=function(e,t,i){wr(e,Tn,""),{enter:(c)=>{e._x_transition.enter.during=c},"enter-start":(c)=>{e._x_transition.enter.start=c},"enter-end":(c)=>{e._x_transition.enter.end=c},leave:(c)=>{e._x_transition.leave.during=c},"leave-start":(c)=>{e._x_transition.leave.start=c},"leave-end":(c)=>{e._x_transition.leave.end=c}}[i](t)},ra=function(e,t,i){wr(e,At);let a=!t.includes("in")&&!t.includes("out")&&!i,c=a||t.includes("in")||["enter"].includes(i),h=a||t.includes("out")||["leave"].includes(i);if(t.includes("in")&&!a)t=t.filter((V,ie)=>ie<t.indexOf("out"));if(t.includes("out")&&!a)t=t.filter((V,ie)=>ie>t.indexOf("out"));let k=!t.includes("opacity")&&!t.includes("scale"),b=k||t.includes("opacity"),N=k||t.includes("scale"),G=b?0:1,B=N?tt(t,"scale",95)/100:1,X=tt(t,"delay",0)/1000,J=tt(t,"origin","center"),ae="opacity, transform",ye=tt(t,"duration",150)/1000,Ue=tt(t,"duration",75)/1000,Q="cubic-bezier(0.4, 0.0, 0.2, 1)";if(c)e._x_transition.enter.during={transformOrigin:J,transitionDelay:`${X}s`,transitionProperty:ae,transitionDuration:`${ye}s`,transitionTimingFunction:Q},e._x_transition.enter.start={opacity:G,transform:`scale(${B})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"};if(h)e._x_transition.leave.during={transformOrigin:J,transitionDelay:`${X}s`,transitionProperty:ae,transitionDuration:`${Ue}s`,transitionTimingFunction:Q},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:G,transform:`scale(${B})`}},wr=function(e,t,i={}){if(!e._x_transition)e._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(a=()=>{},c=()=>{}){Kt(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},a,c)},out(a=()=>{},c=()=>{}){Kt(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},a,c)}}},Sr=function(e){let t=e.parentNode;if(!t)return;return t._x_hidePromise?t:Sr(t)},Kt=function(e,t,{during:i,start:a,end:c}={},h=()=>{},k=()=>{}){if(e._x_transitioning)e._x_transitioning.cancel();if(Object.keys(i).length===0&&Object.keys(a).length===0&&Object.keys(c).length===0){h(),k();return}let b,N,G;ia(e,{start(){b=t(e,a)},during(){N=t(e,i)},before:h,end(){b(),G=t(e,c)},after:k,cleanup(){N(),G()}})},ia=function(e,t){let i,a,c,h=Vt(()=>{se(()=>{if(i=!0,!a)t.before();if(!c)t.end(),Zt();if(t.after(),e.isConnected)t.cleanup();delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(k){this.beforeCancels.push(k)},cancel:Vt(function(){while(this.beforeCancels.length)this.beforeCancels.shift()();h()}),finish:h},se(()=>{t.start(),t.during()}),Zi(),requestAnimationFrame(()=>{if(i)return;let k=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1000,b=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1000;if(k===0)k=Number(getComputedStyle(e).animationDuration.replace("s",""))*1000;se(()=>{t.before()}),a=!0,requestAnimationFrame(()=>{if(i)return;se(()=>{t.end()}),Zt(),setTimeout(e._x_transitioning.finish,k+b),c=!0})})},tt=function(e,t,i){if(e.indexOf(t)===-1)return i;const a=e[e.indexOf(t)+1];if(!a)return i;if(t==="scale"){if(isNaN(a))return i}if(t==="duration"||t==="delay"){let c=a.match(/([0-9]+)ms/);if(c)return c[1]}if(t==="origin"){if(["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2]))return[a,e[e.indexOf(t)+2]].join(" ")}return a},Le=function(e,t=()=>{}){return(...i)=>Oe?t(...i):e(...i)},aa=function(e){return(...t)=>Oe&&e(...t)},Ct=function(e){Nr.push(e)},oa=function(e,t){Nr.forEach((i)=>i(e,t)),Oe=!0,Ar(()=>{Se(t,(i,a)=>{a(i,()=>{})})}),Oe=!1},sa=function(e,t){if(!t._x_dataStack)t._x_dataStack=e._x_dataStack;Oe=!0,en=!0,Ar(()=>{ua(t)}),Oe=!1,en=!1},ua=function(e){let t=!1;Se(e,(a,c)=>{Re(a,(h,k)=>{if(t&&Ji(h))return k();t=!0,c(h,k)})})},Ar=function(e){let t=We;In((i,a)=>{let c=t(i);return Xe(c),()=>{}}),e(),In(t)},Cr=function(e,t,i,a=[]){if(!e._x_bindings)e._x_bindings=Je({});switch(e._x_bindings[t]=i,t=a.includes("camel")?da(t):t,t){case"value":la(e,i);break;case"style":fa(e,i);break;case"class":ca(e,i);break;case"selected":case"checked":ma(e,t,i);break;default:Rr(e,t,i);break}},la=function(e,t){if(e.type==="radio"){if(e.attributes.value===void 0)e.value=t;if(window.fromModel)if(typeof t==="boolean")e.checked=xt(e.value)===t;else e.checked=Pn(e.value,t)}else if(e.type==="checkbox")if(Number.isInteger(t))e.value=t;else if(!Array.isArray(t)&&typeof t!=="boolean"&&![null,void 0].includes(t))e.value=String(t);else if(Array.isArray(t))e.checked=t.some((i)=>Pn(i,e.value));else e.checked=!!t;else if(e.tagName==="SELECT")va(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}},ca=function(e,t){if(e._x_undoAddedClasses)e._x_undoAddedClasses();e._x_undoAddedClasses=Tn(e,t)},fa=function(e,t){if(e._x_undoAddedStyles)e._x_undoAddedStyles();e._x_undoAddedStyles=At(e,t)},ma=function(e,t,i){Rr(e,t,i),pa(e,t,i)},Rr=function(e,t,i){if([null,void 0,!1].includes(i)&&Ea(t))e.removeAttribute(t);else{if(Or(t))i=t;ha(e,t,i)}},ha=function(e,t,i){if(e.getAttribute(t)!=i)e.setAttribute(t,i)},pa=function(e,t,i){if(e[t]!==i)e[t]=i},va=function(e,t){const i=[].concat(t).map((a)=>{return a+""});Array.from(e.options).forEach((a)=>{a.selected=i.includes(a.value)})},da=function(e){return e.toLowerCase().replace(/-(\w)/g,(t,i)=>i.toUpperCase())},Pn=function(e,t){return e==t},xt=function(e){if([1,"1","true","on","yes",!0].includes(e))return!0;if([0,"0","false","off","no",!1].includes(e))return!1;return e?Boolean(e):null},Or=function(e){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)},Ea=function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)},Ta=function(e,t,i){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];return Ir(e,t,i)},ka=function(e,t,i,a=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let c=e._x_inlineBindings[t];return c.extract=a,or(()=>{return _e(e,c.expression)})}return Ir(e,t,i)},Ir=function(e,t,i){let a=e.getAttribute(t);if(a===null)return typeof i==="function"?i():i;if(a==="")return!0;if(Or(t))return!![t,"true"].includes(a);return a},Lr=function(e,t){var i;return function(){var a=this,c=arguments,h=function(){i=null,e.apply(a,c)};clearTimeout(i),i=setTimeout(h,t)}},Fr=function(e,t){let i;return function(){let a=this,c=arguments;if(!i)e.apply(a,c),i=!0,setTimeout(()=>i=!1,t)}},Pr=function({get:e,set:t},{get:i,set:a}){let c=!0,h,k,b=We(()=>{let N=e(),G=i();if(c)a(_t(N)),c=!1;else{let B=JSON.stringify(N),X=JSON.stringify(G);if(B!==h)a(_t(N));else if(B!==X)t(_t(G))}h=JSON.stringify(e()),k=JSON.stringify(i())});return()=>{Xe(b)}},_t=function(e){return typeof e==="object"?JSON.parse(JSON.stringify(e)):e},ya=function(e){(Array.isArray(e)?e:[e]).forEach((i)=>i(ct))},ga=function(e,t){if(!Dn)Pe=Je(Pe),Dn=!0;if(t===void 0)return Pe[e];if(Pe[e]=t,typeof t==="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init==="function")Pe[e].init();rr(Pe[e])},xa=function(){return Pe},ba=function(e,t){let i=typeof t!=="function"?()=>t:t;if(e instanceof Element)return Mr(e,i());else Dr[e]=i;return()=>{}},qa=function(e){return Object.entries(Dr).forEach(([t,i])=>{Object.defineProperty(e,t,{get(){return(...a)=>{return i(...a)}}})}),e},Mr=function(e,t,i){let a=[];while(a.length)a.pop()();let c=Object.entries(t).map(([k,b])=>({name:k,value:b})),h=lr(c);return c=c.map((k)=>{if(h.find((b)=>b.name===k.name))return{name:`x-bind:${k.name}`,value:`"${k.value}"`};return k}),hn(e,c,i).map((k)=>{a.push(k.runCleanups),k()}),()=>{while(a.length)a.pop()()}},wa=function(e,t){_r[e]=t},Sa=function(e,t){return Object.entries(_r).forEach(([i,a])=>{Object.defineProperty(e,i,{get(){return(...c)=>{return a.bind(t)(...c)}},enumerable:!1})}),e},Gr=function(e,t){const i=Object.create(null),a=e.split(",");for(let c=0;c<a.length;c++)i[a[c]]=!0;return t?(c)=>!!i[c.toLowerCase()]:(c)=>!!i[c]},Pa=function(e){return e&&e._isEffect===!0},Da=function(e,t=Ca){if(Pa(e))e=e.raw;const i=Ga(e,t);if(!t.lazy)i();return i},Ma=function(e){if(e.active){if(jr(e),e.options.onStop)e.options.onStop();e.active=!1}},Ga=function(e,t){const i=function a(){if(!i.active)return e();if(!nt.includes(i)){jr(i);try{return Wa(),nt.push(i),we=i,e()}finally{nt.pop(),zr(),we=nt[nt.length-1]}}};return i.id=_a++,i.allowRecurse=!!t.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=e,i.deps=[],i.options=t,i},jr=function(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}},Ha=function(){gn.push(Ye),Ye=!1},Wa=function(){gn.push(Ye),Ye=!0},zr=function(){const e=gn.pop();Ye=e===void 0?!0:e},be=function(e,t,i){if(!Ye||we===void 0)return;let a=tn.get(e);if(!a)tn.set(e,a=new Map);let c=a.get(i);if(!c)a.set(i,c=new Set);if(!c.has(we)){if(c.add(we),we.deps.push(c),we.options.onTrack)we.options.onTrack({effect:we,target:e,type:t,key:i})}},Ie=function(e,t,i,a,c,h){const k=tn.get(e);if(!k)return;const b=new Set,N=(B)=>{if(B)B.forEach((X)=>{if(X!==we||X.allowRecurse)b.add(X)})};if(t==="clear")k.forEach(N);else if(i==="length"&&Ge(e))k.forEach((B,X)=>{if(X==="length"||X>=a)N(B)});else{if(i!==void 0)N(k.get(i));switch(t){case"add":if(!Ge(e)){if(N(k.get(He)),at(e))N(k.get(nn))}else if(yn(i))N(k.get("length"));break;case"delete":if(!Ge(e)){if(N(k.get(He)),at(e))N(k.get(nn))}break;case"set":if(at(e))N(k.get(He));break}}const G=(B)=>{if(B.options.onTrigger)B.options.onTrigger({effect:B,target:e,key:i,type:t,newValue:a,oldValue:c,oldTarget:h});if(B.options.scheduler)B.options.scheduler(B);else B()};b.forEach(G)},za=function(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t)=>{e[t]=function(...i){const a=te(this);for(let h=0,k=this.length;h<k;h++)be(a,"get",h+"");const c=a[t](...i);if(c===-1||c===!1)return a[t](...i.map(te));else return c}}),["push","pop","shift","unshift","splice"].forEach((t)=>{e[t]=function(...i){Ha();const a=te(this)[t].apply(this,i);return zr(),a}}),e},Yr=function(e=!1,t=!1){return function i(a,c,h){if(c==="__v_isReactive")return!e;else if(c==="__v_isReadonly")return e;else if(c==="__v_raw"&&h===(e?t?so:Zr:t?oo:$r).get(a))return a;const k=Ge(a);if(!e&&k&&Rt(Mn,c))return Reflect.get(Mn,c,h);const b=Reflect.get(a,c,h);if(kn(c)?Qr.has(c):Ua(c))return b;if(!e)be(a,"get",c);if(t)return b;if(rn(b))return!k||!yn(c)?b.value:b;if(Ot(b))return e?Vr(b):wn(b);return b}},Ya=function(e=!1){return function t(i,a,c,h){let k=i[a];if(!e){if(c=te(c),k=te(k),!Ge(i)&&rn(k)&&!rn(c))return k.value=c,!0}const b=Ge(i)&&yn(a)?Number(a)<i.length:Rt(i,a),N=Reflect.set(i,a,c,h);if(i===te(h)){if(!b)Ie(i,"add",a,c);else if(Br(c,k))Ie(i,"set",a,c,k)}return N}},Ja=function(e,t){const i=Rt(e,t),a=e[t],c=Reflect.deleteProperty(e,t);if(c&&i)Ie(e,"delete",t,void 0,a);return c},Xa=function(e,t){const i=Reflect.has(e,t);if(!kn(t)||!Qr.has(t))be(e,"has",t);return i},$a=function(e){return be(e,"iterate",Ge(e)?"length":He),Reflect.ownKeys(e)},dt=function(e,t,i=!1,a=!1){e=e.__v_raw;const c=te(e),h=te(t);if(t!==h)!i&&be(c,"get",t);!i&&be(c,"get",h);const{has:k}=Lt(c),b=a?qn:i?bn:xn;if(k.call(c,t))return b(e.get(t));else if(k.call(c,h))return b(e.get(h));else if(e!==c)e.get(t)},Et=function(e,t=!1){const i=this.__v_raw,a=te(i),c=te(e);if(e!==c)!t&&be(a,"has",e);return!t&&be(a,"has",c),e===c?i.has(e):i.has(e)||i.has(c)},Tt=function(e,t=!1){return e=e.__v_raw,!t&&be(te(e),"iterate",He),Reflect.get(e,"size",e)},_n=function(e){e=te(e);const t=te(this);if(!Lt(t).has.call(t,e))t.add(e),Ie(t,"add",e,e);return this},Gn=function(e,t){t=te(t);const i=te(this),{has:a,get:c}=Lt(i);let h=a.call(i,e);if(!h)e=te(e),h=a.call(i,e);else Xr(i,a,e);const k=c.call(i,e);if(i.set(e,t),!h)Ie(i,"add",e,t);else if(Br(t,k))Ie(i,"set",e,t,k);return this},Hn=function(e){const t=te(this),{has:i,get:a}=Lt(t);let c=i.call(t,e);if(!c)e=te(e),c=i.call(t,e);else Xr(t,i,e);const h=a?a.call(t,e):void 0,k=t.delete(e);if(c)Ie(t,"delete",e,void 0,h);return k},Wn=function(){const e=te(this),t=e.size!==0,i=at(e)?new Map(e):new Set(e),a=e.clear();if(t)Ie(e,"clear",void 0,void 0,i);return a},kt=function(e,t){return function i(a,c){const h=this,k=h.__v_raw,b=te(k),N=t?qn:e?bn:xn;return!e&&be(b,"iterate",He),k.forEach((G,B)=>{return a.call(c,N(G),N(B),h)})}},yt=function(e,t,i){return function(...a){const c=this.__v_raw,h=te(c),k=at(h),b=e==="entries"||e===Symbol.iterator&&k,N=e==="keys"&&k,G=c[e](...a),B=i?qn:t?bn:xn;return!t&&be(h,"iterate",N?nn:He),{next(){const{value:X,done:J}=G.next();return J?{value:X,done:J}:{value:b?[B(X[0]),B(X[1])]:B(X),done:J}},[Symbol.iterator](){return this}}}},Ce=function(e){return function(...t){{const i=t[0]?`on key "${t[0]}" `:"";console.warn(`${Ur(e)} operation ${i}failed: target is readonly.`,te(this))}return e==="delete"?!1:this}},Ka=function(){const e={get(h){return dt(this,h)},get size(){return Tt(this)},has:Et,add:_n,set:Gn,delete:Hn,clear:Wn,forEach:kt(!1,!1)},t={get(h){return dt(this,h,!1,!0)},get size(){return Tt(this)},has:Et,add:_n,set:Gn,delete:Hn,clear:Wn,forEach:kt(!1,!0)},i={get(h){return dt(this,h,!0)},get size(){return Tt(this,!0)},has(h){return Et.call(this,h,!0)},add:Ce("add"),set:Ce("set"),delete:Ce("delete"),clear:Ce("clear"),forEach:kt(!0,!1)},a={get(h){return dt(this,h,!0,!0)},get size(){return Tt(this,!0)},has(h){return Et.call(this,h,!0)},add:Ce("add"),set:Ce("set"),delete:Ce("delete"),clear:Ce("clear"),forEach:kt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((h)=>{e[h]=yt(h,!1,!1),i[h]=yt(h,!0,!1),t[h]=yt(h,!1,!0),a[h]=yt(h,!0,!0)}),[e,i,t,a]},Jr=function(e,t){const i=t?e?ro:no:e?to:eo;return(a,c,h)=>{if(c==="__v_isReactive")return!e;else if(c==="__v_isReadonly")return e;else if(c==="__v_raw")return a;return Reflect.get(Rt(i,c)&&c in a?i:a,c,h)}},Xr=function(e,t,i){const a=te(i);if(a!==i&&t.call(e,a)){const c=Wr(e);console.warn(`Reactive ${c} contains both the raw and reactive versions of the same object${c==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}},uo=function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}},lo=function(e){return e.__v_skip||!Object.isExtensible(e)?0:uo(Wr(e))},wn=function(e){if(e&&e.__v_isReadonly)return e;return Kr(e,!1,Za,io,$r)},Vr=function(e){return Kr(e,!0,Va,ao,Zr)},Kr=function(e,t,i,a,c){if(!Ot(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const h=c.get(e);if(h)return h;const k=lo(e);if(k===0)return e;const b=new Proxy(e,k===2?a:i);return c.set(e,b),b},te=function(e){return e&&te(e.__v_raw)||e},rn=function(e){return Boolean(e&&e.__v_isRef===!0)},co=function(e){let t=[];return lt(e,(i)=>{if(i._x_refs)t.push(i._x_refs)}),t},ei=function(e){if(!Gt[e])Gt[e]=0;return++Gt[e]},fo=function(e,t){return lt(e,(i)=>{if(i._x_ids&&i._x_ids[t])return!0})},mo=function(e,t){if(!e._x_ids)e._x_ids={};if(!e._x_ids[t])e._x_ids[t]=ei(t)},ho=function(e,t,i,a){if(!e._x_id)e._x_id={};if(e._x_id[t])return e._x_id[t];let c=a();return e._x_id[t]=c,i(()=>{delete e._x_id[t]}),c},ti=function(e,t,i){qe(t,(a)=>ke(`You can't use [\$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,a))},Un=function(e){let t=Le(()=>{return document.querySelector(e)},()=>{return po})();if(!t)ke(`Cannot find x-teleport element for selector: "${e}"`);return t},an=function(e,t,i,a){let c=e,h=(N)=>a(N),k={},b=(N,G)=>(B)=>G(N,B);if(i.includes("dot"))t=vo(t);if(i.includes("camel"))t=Eo(t);if(i.includes("passive"))k.passive=!0;if(i.includes("capture"))k.capture=!0;if(i.includes("window"))c=window;if(i.includes("document"))c=document;if(i.includes("debounce")){let N=i[i.indexOf("debounce")+1]||"invalid-wait",G=St(N.split("ms")[0])?Number(N.split("ms")[0]):250;h=Lr(h,G)}if(i.includes("throttle")){let N=i[i.indexOf("throttle")+1]||"invalid-wait",G=St(N.split("ms")[0])?Number(N.split("ms")[0]):250;h=Fr(h,G)}if(i.includes("prevent"))h=b(h,(N,G)=>{G.preventDefault(),N(G)});if(i.includes("stop"))h=b(h,(N,G)=>{G.stopPropagation(),N(G)});if(i.includes("once"))h=b(h,(N,G)=>{N(G),c.removeEventListener(t,h,k)});if(i.includes("away")||i.includes("outside"))c=document,h=b(h,(N,G)=>{if(e.contains(G.target))return;if(G.target.isConnected===!1)return;if(e.offsetWidth<1&&e.offsetHeight<1)return;if(e._x_isShown===!1)return;N(G)});if(i.includes("self"))h=b(h,(N,G)=>{G.target===e&&N(G)});if(ko(t)||ri(t))h=b(h,(N,G)=>{if(yo(G,i))return;N(G)});return c.addEventListener(t,h,k),()=>{c.removeEventListener(t,h,k)}},vo=function(e){return e.replace(/-/g,".")},Eo=function(e){return e.toLowerCase().replace(/-(\w)/g,(t,i)=>i.toUpperCase())},St=function(e){return!Array.isArray(e)&&!isNaN(e)},To=function(e){if([" ","_"].includes(e))return e;return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()},ko=function(e){return["keydown","keyup"].includes(e)},ri=function(e){return["contextmenu","click","mouse"].some((t)=>e.includes(t))},yo=function(e,t){let i=t.filter((h)=>{return!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(h)});if(i.includes("debounce")){let h=i.indexOf("debounce");i.splice(h,St((i[h+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let h=i.indexOf("throttle");i.splice(h,St((i[h+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0)return!1;if(i.length===1&&Bn(e.key).includes(i[0]))return!1;const c=["ctrl","shift","alt","meta","cmd","super"].filter((h)=>i.includes(h));if(i=i.filter((h)=>!c.includes(h)),c.length>0){if(c.filter((k)=>{if(k==="cmd"||k==="super")k="meta";return e[`${k}Key`]}).length===c.length){if(ri(e.type))return!1;if(Bn(e.key).includes(i[0]))return!1}}return!0},Bn=function(e){if(!e)return[];e=To(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map((i)=>{if(t[i]===e)return i}).filter((i)=>i)},Ht=function(e,t,i,a){return se(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return i.detail!==null&&i.detail!==void 0?i.detail:i.target.value;else if(e.type==="checkbox")if(Array.isArray(a)){let c=null;if(t.includes("number"))c=Wt(i.target.value);else if(t.includes("boolean"))c=xt(i.target.value);else c=i.target.value;return i.target.checked?a.includes(c)?a:a.concat([c]):a.filter((h)=>!go(h,c))}else return i.target.checked;else if(e.tagName.toLowerCase()==="select"&&e.multiple){if(t.includes("number"))return Array.from(i.target.selectedOptions).map((c)=>{let h=c.value||c.text;return Wt(h)});else if(t.includes("boolean"))return Array.from(i.target.selectedOptions).map((c)=>{let h=c.value||c.text;return xt(h)});return Array.from(i.target.selectedOptions).map((c)=>{return c.value||c.text})}else{let c;if(e.type==="radio")if(i.target.checked)c=i.target.value;else c=a;else c=i.target.value;if(t.includes("number"))return Wt(c);else if(t.includes("boolean"))return xt(c);else if(t.includes("trim"))return c.trim();else return c}})},Wt=function(e){let t=e?parseFloat(e):null;return xo(t)?t:e},go=function(e,t){return e==t},xo=function(e){return!Array.isArray(e)&&!isNaN(e)},jn=function(e){return e!==null&&typeof e==="object"&&typeof e.get==="function"&&typeof e.set==="function"},bo=function(e,t){e._x_keyExpression=t},qo=function(e){if(!Oe)return!1;if(en)return!0;return e.hasAttribute("data-has-alpine-state")},wo=function(e,t,i,a){let c=(k)=>typeof k==="object"&&!Array.isArray(k),h=e;i((k)=>{if(No(k)&&k>=0)k=Array.from(Array(k).keys(),(Q)=>Q+1);if(k===void 0)k=[];let{_x_lookup:b,_x_prevKeys:N}=e,G=[],B=[];if(c(k))k=Object.entries(k).map(([Q,V])=>{let ie=zn(t,V,Q,k);a((ue)=>{if(B.includes(ue))ke("Duplicate key on x-for",e);B.push(ue)},{scope:{index:Q,...ie}}),G.push(ie)});else for(let Q=0;Q<k.length;Q++){let V=zn(t,k[Q],Q,k);a((ie)=>{if(B.includes(ie))ke("Duplicate key on x-for",e);B.push(ie)},{scope:{index:Q,...V}}),G.push(V)}let X=[],J=[],ae=[],ye=[];for(let Q=0;Q<N.length;Q++){let V=N[Q];if(B.indexOf(V)===-1)ae.push(V)}N=N.filter((Q)=>!ae.includes(Q));let Ue="template";for(let Q=0;Q<B.length;Q++){let V=B[Q],ie=N.indexOf(V);if(ie===-1)N.splice(Q,0,V),X.push([Ue,Q]);else if(ie!==Q){let ue=N.splice(Q,1)[0],ee=N.splice(ie-1,1)[0];N.splice(Q,0,ee),N.splice(ie,0,ue),J.push([ue,ee])}else ye.push(V);Ue=V}for(let Q=0;Q<ae.length;Q++){let V=ae[Q];if(b[V]._x_effects)b[V]._x_effects.forEach(Qn);b[V].remove(),b[V]=null,delete b[V]}for(let Q=0;Q<J.length;Q++){let[V,ie]=J[Q],ue=b[V],ee=b[ie],Ne=document.createElement("div");se(()=>{if(!ee)ke('x-for ":key" is undefined or invalid',h,ie,b);ee.after(Ne),ue.after(ee),ee._x_currentIfEl&&ee.after(ee._x_currentIfEl),Ne.before(ue),ue._x_currentIfEl&&ue.after(ue._x_currentIfEl),Ne.remove()}),ee._x_refreshXForScope(G[B.indexOf(ie)])}for(let Q=0;Q<X.length;Q++){let[V,ie]=X[Q],ue=V==="template"?h:b[V];if(ue._x_currentIfEl)ue=ue._x_currentIfEl;let ee=G[ie],Ne=B[ie],me=document.importNode(h.content,!0).firstElementChild,ft=Je(ee);if(st(me,ft,h),me._x_refreshXForScope=(Pt)=>{Object.entries(Pt).forEach(([Ze,r])=>{ft[Ze]=r})},se(()=>{ue.after(me),Le(()=>Se(me))()}),typeof Ne==="object")ke("x-for key cannot be an object, it must be a string or an integer",h);b[Ne]=me}for(let Q=0;Q<ye.length;Q++)b[ye[Q]]._x_refreshXForScope(G[B.indexOf(ye[Q])]);h._x_prevKeys=B})},So=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,a=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,c=e.match(a);if(!c)return;let h={};h.items=c[2].trim();let k=c[1].replace(i,"").trim(),b=k.match(t);if(b){if(h.item=k.replace(t,"").trim(),h.index=b[1].trim(),b[2])h.collection=b[2].trim()}else h.item=k;return h},zn=function(e,t,i,a){let c={};if(/^\[.*\]$/.test(e.item)&&Array.isArray(t))e.item.replace("[","").replace("]","").split(",").map((k)=>k.trim()).forEach((k,b)=>{c[k]=t[b]});else if(/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t==="object")e.item.replace("{","").replace("}","").split(",").map((k)=>k.trim()).forEach((k)=>{c[k]=t[k]});else c[e.item]=t;if(e.index)c[e.index]=i;if(e.collection)c[e.collection]=a;return c},No=function(e){return!Array.isArray(e)&&!isNaN(e)},ai=function(){},Ft=function(e,t,i){oe(t,(a)=>ke(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,a))},Ut=!1,Bt=!1,Me=[],jt=-1,Je,We,Xe,Yn,zt=!0,Xn=[],$n=[],Zn=[],sn=new MutationObserver(fn),un=!1,et=[],cn=!1,bt=[],Li={ownKeys({objects:e}){return Array.from(new Set(e.flatMap((t)=>Object.keys(t))))},has({objects:e},t){if(t==Symbol.unscopables)return!1;return e.some((i)=>Object.prototype.hasOwnProperty.call(i,t)||Reflect.has(i,t))},get({objects:e},t,i){if(t=="toJSON")return Fi;return Reflect.get(e.find((a)=>Reflect.has(a,t))||{},t,i)},set({objects:e},t,i,a){const c=e.find((k)=>Object.prototype.hasOwnProperty.call(k,t))||e[e.length-1],h=Object.getOwnPropertyDescriptor(c,t);if(h?.set&&h?.get)return h.set.call(a,i)||!0;return Reflect.set(c,t,i)}},ar={},gt=!0,sr=ur,Mt={},mn="x-",wt={},Jt=!1,rt=new Map,cr=Symbol(),mr=(e,t)=>({name:i,value:a})=>{if(i.startsWith(e))i=i.replace(e,t);return{name:i,value:a}},hr=(e)=>e,vr=[],Er=()=>new RegExp(`^${mn}([^:^.]+)\\b`),Xt="DEFAULT",De=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Xt,"teleport"],Ln=!1,vn=[],Tr=[],br=[],$t=[],dn=!1;oe("transition",(e,{value:t,modifiers:i,expression:a},{evaluate:c})=>{if(typeof a==="function")a=c(a);if(a===!1)return;if(!a||typeof a==="boolean")ra(e,i,t);else na(e,a,t)});window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,i,a){const c=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let h=()=>c(i);if(t){if(e._x_transition&&(e._x_transition.enter||e._x_transition.leave))e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(i):h();else e._x_transition?e._x_transition.in(i):h();return}e._x_hidePromise=e._x_transition?new Promise((k,b)=>{e._x_transition.out(()=>{},()=>k(a)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>b({isFromCancelledTransition:!0}))}):Promise.resolve(a),queueMicrotask(()=>{let k=Sr(e);if(k){if(!k._x_hideChildren)k._x_hideChildren=[];k._x_hideChildren.push(e)}else c(()=>{let b=(N)=>{let G=Promise.all([N._x_hidePromise,...(N._x_hideChildren||[]).map(b)]).then(([B])=>B?.());return delete N._x_hidePromise,delete N._x_hideChildren,G};b(e).catch((N)=>{if(!N.isFromCancelledTransition)throw N})})})};var Oe=!1,Nr=[],en=!1,Pe={},Dn=!1,Dr={},_r={},Na={get reactive(){return Je},get release(){return Xe},get effect(){return We},get raw(){return Yn},version:"3.14.1",flushAndStopDeferringMutations:Ii,dontAutoEvaluateFunctions:or,disableEffectScheduling:wi,startObservingMutations:ln,stopObservingMutations:tr,setReactivityEngine:Si,onAttributeRemoved:Kn,onAttributesAdded:Vn,closestDataStack:Qe,skipDuringClone:Le,onlyDuringClone:aa,addRootSelector:gr,addInitSelector:xr,interceptClone:Ct,addScopeToNode:st,deferMutations:Oi,mapAttributes:pn,evaluateLater:he,interceptInit:Xi,setEvaluator:Mi,mergeProxies:ut,extractProp:ka,findClosest:lt,onElRemoved:on,closestRoot:Nt,destroyTree:qr,interceptor:ir,transition:Kt,setStyles:At,mutateDom:se,directive:oe,entangle:Pr,throttle:Fr,debounce:Lr,evaluate:_e,initTree:Se,nextTick:En,prefixed:$e,prefix:Wi,plugin:ya,magic:qe,store:ga,start:Yi,clone:sa,cloneNode:oa,bound:Ta,$data:nr,watch:Jn,walk:Re,data:wa,bind:ba},ct=Na,Aa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oo=Gr(Aa+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Ca=Object.freeze({}),Io=Object.freeze([]),Ra=Object.prototype.hasOwnProperty,Rt=(e,t)=>Ra.call(e,t),Ge=Array.isArray,at=(e)=>Hr(e)==="[object Map]",Oa=(e)=>typeof e==="string",kn=(e)=>typeof e==="symbol",Ot=(e)=>e!==null&&typeof e==="object",Ia=Object.prototype.toString,Hr=(e)=>Ia.call(e),Wr=(e)=>{return Hr(e).slice(8,-1)},yn=(e)=>Oa(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,It=(e)=>{const t=Object.create(null);return(i)=>{return t[i]||(t[i]=e(i))}},La=/-(\w)/g,Lo=It((e)=>{return e.replace(La,(t,i)=>i?i.toUpperCase():"")}),Fa=/\B([A-Z])/g,Fo=It((e)=>e.replace(Fa,"-$1").toLowerCase()),Ur=It((e)=>e.charAt(0).toUpperCase()+e.slice(1)),Po=It((e)=>e?`on${Ur(e)}`:""),Br=(e,t)=>e!==t&&(e===e||t===t),tn=new WeakMap,nt=[],we,He=Symbol("iterate"),nn=Symbol("Map key iterate"),_a=0,Ye=!0,gn=[],Ua=Gr("__proto__,__v_isRef,__isVue"),Qr=new Set(Object.getOwnPropertyNames(Symbol).map((e)=>Symbol[e]).filter(kn)),Ba=Yr(),ja=Yr(!0),Mn=za(),Qa=Ya(),Za={get:Ba,set:Qa,deleteProperty:Ja,has:Xa,ownKeys:$a},Va={get:ja,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},xn=(e)=>Ot(e)?wn(e):e,bn=(e)=>Ot(e)?Vr(e):e,qn=(e)=>e,Lt=(e)=>Reflect.getPrototypeOf(e),[eo,to,no,ro]=Ka(),io={get:Jr(!1,!1)},ao={get:Jr(!0,!1)},$r=new WeakMap,oo=new WeakMap,Zr=new WeakMap,so=new WeakMap;qe("nextTick",()=>En);qe("dispatch",(e)=>it.bind(it,e));qe("watch",(e,{evaluateLater:t,cleanup:i})=>(a,c)=>{let h=t(a),b=Jn(()=>{let N;return h((G)=>N=G),N},c);i(b)});qe("store",xa);qe("data",(e)=>nr(e));qe("root",(e)=>Nt(e));qe("refs",(e)=>{if(e._x_refs_proxy)return e._x_refs_proxy;return e._x_refs_proxy=ut(co(e)),e._x_refs_proxy});var Gt={};qe("id",(e,{cleanup:t})=>(i,a=null)=>{let c=`${i}${a?`-${a}`:""}`;return ho(e,c,t,()=>{let h=fo(e,i),k=h?h._x_ids[i]:ei(i);return a?`${i}-${k}-${a}`:`${i}-${k}`})});Ct((e,t)=>{if(e._x_id)t._x_id=e._x_id});qe("el",(e)=>e);ti("Focus","focus","focus");ti("Persist","persist","persist");oe("modelable",(e,{expression:t},{effect:i,evaluateLater:a,cleanup:c})=>{let h=a(t),k=()=>{let B;return h((X)=>B=X),B},b=a(`${t} = __placeholder`),N=(B)=>b(()=>{},{scope:{__placeholder:B}}),G=k();N(G),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let B=e._x_model.get,X=e._x_model.set,J=Pr({get(){return B()},set(ae){X(ae)}},{get(){return k()},set(ae){N(ae)}});c(J)})});oe("teleport",(e,{modifiers:t,expression:i},{cleanup:a})=>{if(e.tagName.toLowerCase()!=="template")ke("x-teleport can only be used on a <template> tag",e);let c=Un(i),h=e.content.cloneNode(!0).firstElementChild;if(e._x_teleport=h,h._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),h.setAttribute("data-teleport-target",!0),e._x_forwardEvents)e._x_forwardEvents.forEach((b)=>{h.addEventListener(b,(N)=>{N.stopPropagation(),e.dispatchEvent(new N.constructor(N.type,N))})});st(h,{},e);let k=(b,N,G)=>{if(G.includes("prepend"))N.parentNode.insertBefore(b,N);else if(G.includes("append"))N.parentNode.insertBefore(b,N.nextSibling);else N.appendChild(b)};se(()=>{k(h,c,t),Le(()=>{Se(h),h._x_ignore=!0})()}),e._x_teleportPutBack=()=>{let b=Un(i);se(()=>{k(e._x_teleport,b,t)})},a(()=>h.remove())});var po=document.createElement("div"),ni=()=>{};ni.inline=(e,{modifiers:t},{cleanup:i})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,i(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};oe("ignore",ni);oe("effect",Le((e,{expression:t},{effect:i})=>{i(he(e,t))}));oe("model",(e,{modifiers:t,expression:i},{effect:a,cleanup:c})=>{let h=e;if(t.includes("parent"))h=e.parentNode;let k=he(h,i),b;if(typeof i==="string")b=he(h,`${i} = __placeholder`);else if(typeof i==="function"&&typeof i()==="string")b=he(h,`${i()} = __placeholder`);else b=()=>{};let N=()=>{let J;return k((ae)=>J=ae),jn(J)?J.get():J},G=(J)=>{let ae;if(k((ye)=>ae=ye),jn(ae))ae.set(J);else b(()=>{},{scope:{__placeholder:J}})};if(typeof i==="string"&&e.type==="radio")se(()=>{if(!e.hasAttribute("name"))e.setAttribute("name",i)});var B=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let X=Oe?()=>{}:an(e,B,t,(J)=>{G(Ht(e,t,J,N()))});if(t.includes("fill")){if([void 0,null,""].includes(N())||e.type==="checkbox"&&Array.isArray(N())||e.tagName.toLowerCase()==="select"&&e.multiple)G(Ht(e,t,{target:e},N()))}if(!e._x_removeModelListeners)e._x_removeModelListeners={};if(e._x_removeModelListeners.default=X,c(()=>e._x_removeModelListeners.default()),e.form){let J=an(e.form,"reset",[],(ae)=>{En(()=>e._x_model&&e._x_model.set(Ht(e,t,{target:e},N())))});c(()=>J())}e._x_model={get(){return N()},set(J){G(J)}},e._x_forceModelUpdate=(J)=>{if(J===void 0&&typeof i==="string"&&i.match(/\./))J="";window.fromModel=!0,se(()=>Cr(e,"value",J)),delete window.fromModel},a(()=>{let J=N();if(t.includes("unintrusive")&&document.activeElement.isSameNode(e))return;e._x_forceModelUpdate(J)})});oe("cloak",(e)=>queueMicrotask(()=>se(()=>e.removeAttribute($e("cloak")))));xr(()=>`[${$e("init")}]`);oe("init",Le((e,{expression:t},{evaluate:i})=>{if(typeof t==="string")return!!t.trim()&&i(t,{},!1);return i(t,{},!1)}));oe("text",(e,{expression:t},{effect:i,evaluateLater:a})=>{let c=a(t);i(()=>{c((h)=>{se(()=>{e.textContent=h})})})});oe("html",(e,{expression:t},{effect:i,evaluateLater:a})=>{let c=a(t);i(()=>{c((h)=>{se(()=>{e.innerHTML=h,e._x_ignoreSelf=!0,Se(e),delete e._x_ignoreSelf})})})});pn(mr(":",hr($e("bind:"))));var ii=(e,{value:t,modifiers:i,expression:a,original:c},{effect:h,cleanup:k})=>{if(!t){let N={};qa(N),he(e,a)((B)=>{Mr(e,B,c)},{scope:N});return}if(t==="key")return bo(e,a);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let b=he(e,a);h(()=>b((N)=>{if(N===void 0&&typeof a==="string"&&a.match(/\./))N="";se(()=>Cr(e,t,N,i))})),k(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};ii.inline=(e,{value:t,modifiers:i,expression:a})=>{if(!t)return;if(!e._x_inlineBindings)e._x_inlineBindings={};e._x_inlineBindings[t]={expression:a,extract:!1}};oe("bind",ii);gr(()=>`[${$e("data")}]`);oe("data",(e,{expression:t},{cleanup:i})=>{if(qo(e))return;t=t===""?"{}":t;let a={};Yt(a,e);let c={};Sa(c,a);let h=_e(e,t,{scope:c});if(h===void 0||h===!0)h={};Yt(h,e);let k=Je(h);rr(k);let b=st(e,k);k.init&&_e(e,k.init),i(()=>{k.destroy&&_e(e,k.destroy),b()})});Ct((e,t)=>{if(e._x_dataStack)t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0)});oe("show",(e,{modifiers:t,expression:i},{effect:a})=>{let c=he(e,i);if(!e._x_doHide)e._x_doHide=()=>{se(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})};if(!e._x_doShow)e._x_doShow=()=>{se(()=>{if(e.style.length===1&&e.style.display==="none")e.removeAttribute("style");else e.style.removeProperty("display")})};let h=()=>{e._x_doHide(),e._x_isShown=!1},k=()=>{e._x_doShow(),e._x_isShown=!0},b=()=>setTimeout(k),N=Vt((X)=>X?k():h(),(X)=>{if(typeof e._x_toggleAndCascadeWithTransitions==="function")e._x_toggleAndCascadeWithTransitions(e,X,k,h);else X?b():h()}),G,B=!0;a(()=>c((X)=>{if(!B&&X===G)return;if(t.includes("immediate"))X?b():h();N(X),G=X,B=!1}))});oe("for",(e,{expression:t},{effect:i,cleanup:a})=>{let c=So(t),h=he(e,c.items),k=he(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},i(()=>wo(e,c,h,k)),a(()=>{Object.values(e._x_lookup).forEach((b)=>b.remove()),delete e._x_prevKeys,delete e._x_lookup})});ai.inline=(e,{expression:t},{cleanup:i})=>{let a=Nt(e);if(!a._x_refs)a._x_refs={};a._x_refs[t]=e,i(()=>delete a._x_refs[t])};oe("ref",ai);oe("if",(e,{expression:t},{effect:i,cleanup:a})=>{if(e.tagName.toLowerCase()!=="template")ke("x-if can only be used on a <template> tag",e);let c=he(e,t),h=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let b=e.content.cloneNode(!0).firstElementChild;return st(b,{},e),se(()=>{e.after(b),Le(()=>Se(b))()}),e._x_currentIfEl=b,e._x_undoIf=()=>{Re(b,(N)=>{if(N._x_effects)N._x_effects.forEach(Qn)}),b.remove(),delete e._x_currentIfEl},b},k=()=>{if(!e._x_undoIf)return;e._x_undoIf(),delete e._x_undoIf};i(()=>c((b)=>{b?h():k()})),a(()=>e._x_undoIf&&e._x_undoIf())});oe("id",(e,{expression:t},{evaluate:i})=>{i(t).forEach((c)=>mo(e,c))});Ct((e,t)=>{if(e._x_ids)t._x_ids=e._x_ids});pn(mr("@",hr($e("on:"))));oe("on",Le((e,{value:t,modifiers:i,expression:a},{cleanup:c})=>{let h=a?he(e,a):()=>{};if(e.tagName.toLowerCase()==="template"){if(!e._x_forwardEvents)e._x_forwardEvents=[];if(!e._x_forwardEvents.includes(t))e._x_forwardEvents.push(t)}let k=an(e,t,i,(b)=>{h(()=>{},{scope:{$event:b},params:[b]})});c(()=>k())}));Ft("Collapse","collapse","collapse");Ft("Intersect","intersect","intersect");Ft("Focus","trap","focus");Ft("Mask","mask","mask");ct.setEvaluator(ur);ct.setReactivityEngine({reactive:wn,effect:Da,release:Ma,raw:te});var Ao=ct,Sn=Ao;var ui=vi(si(),1),Co=function(e){return new URL(e).pathname.split("/").filter(Boolean).pop()};window.Alpine=Sn;Sn.start();ui.default.browserInit();window.initComponents=function(){const e=document.getElementsByClassName("stop-vertical-scroll");for(let t of e)t.onmouseover=()=>{document.body.classList.add("noYScroll")},t.onmouseout=()=>{document.body.classList.remove("noYScroll")}};window.addEventListener("popstate",(e)=>{console.log("popstate event: ",e),window.location.reload()});initComponents();window.trimInput=function(e){if(e&&e.value)console.log("trimming {}",e.value),e.value=e.value.replace(/^\s+/,"").replace(/\s+$/,"").trim(),console.log("trimmed {}",e.value)};window.isInputEmpty=function(e){return trimInput(e),console.log("isInputEmpty: {}",e),!e||!e.value||e.value===""};window.getLastUrlSegmentCurrent=function(){return Co(window.location.href)??""};window.getQueryParam=function(e){return new URL(document.location).searchParams.get(e)};window.limitInputToMaxLength=function(e){if(e.value.length>e.maxLength)e.value=e.value.slice(0,e.maxLength)};window.getPathName=function(){return window.location.pathname};window.redirectTo=function(e){window.location.href="."+e};window.initNav=function(){let e=window.location.pathname;if(e.length===0){let t=getLastUrlSegmentCurrent();if(!t||t===""||t==="index"||t==="/"){let i=localStorage.getItem("current-nav");if(i){document.getElementById(i)?.dispatchEvent(new CustomEvent("navigate"));return}let a=document.getElementsByClassName("navbar-start");if(a.length>0){let h=a[0].getElementsByTagName("a");if(h.length>0){let k=h[0];localStorage.setItem("current-nav",k.id),k.dispatchEvent(new CustomEvent("navigate"))}}}}else if(e==="/"){let t=getLastUrlSegmentCurrent();if(!t||t===""||t==="index"||t==="/"){let i=localStorage.getItem("current-nav");if(i){document.getElementById(i)?.dispatchEvent(new CustomEvent("navigate"));return}let a=document.getElementsByClassName("navbar-start");if(a.length>0){let h=a[0].getElementsByTagName("a");if(h.length>0){let k=h[0];localStorage.setItem("current-nav",k.id),k.dispatchEvent(new CustomEvent("navigate"))}}}}else{let t=document.getElementById("nav-helper");if(t)t.dispatchEvent(new CustomEvent("navigate"))}};window.saveNavState=function(e){localStorage.setItem("current-nav",e.id),modifyUrl(e)};window.modifyUrl=function(e){let t=e.getAttribute("hx-get").replaceAll("/stc","");window.history.pushState(window.history.state,document.title,t)};window.removeStc=function(e){let i=window.location.href.replaceAll("/stc","");window.history.replaceState(window.history.state,document.title,i)};window.saveToLocalStorage=function(e,t){localStorage.setItem(e,t)};window.getFromLocalStorage=function(e){return localStorage.getItem(e)};window.monthsToStr=function(e){let t="";for(let i=0;i<e.length;i++){let a=e[i];if(t+=integerToMonth(a),i<e.length-1)t+=", "}return t};window.integerToMonth=function(e){if(!e)return"N/A";switch(e){case 1:return"Enero";case 2:return"Febrero";case 3:return"Marzo";case 4:return"Abril";case 5:return"Mayo";case 6:return"Junio";case 7:return"Julio";case 8:return"Agosto";case 9:return"Septiembre";case 10:return"Octubre";case 11:return"Noviembre";case 12:return"Diciembre";default:return"N/A"}};window.openTab=function(e,t){let i=document.getElementsByClassName("tab-cm-content");for(let c=0;c<i.length;c++)i[c].style.display="none";let a=document.getElementsByClassName("tablinks");for(let c=0;c<a.length;c++)a[c].className=a[c].className.replace(" btn-active","");if(document.getElementById(t).style.display="block",e)e.className+=" btn-active"};window.slideTo=function(e,t){let i=document.getElementById(e);if(i)i.scrollBy({left:t==="left"?-500:500,behavior:"smooth"})};window.scrollDiv=function(e){e.addEventListener("wheel",(t)=>{e.scrollBy({left:t.deltaY>0?-400:400,behavior:"smooth"})},{passive:!0})};window.validateEmail=function(e){if(e){if(e.length>0){let t=e.indexOf("@"),i=e.indexOf(".");if(t>0&&i>t&&i<e.length-1)return!0}}return!1};window.sendEvent=function(e,t){let i=document.getElementById(e);if(i)i.dispatchEvent(new CustomEvent(t))};window.saveResource=function(e,t){saveToLocalStorage(e,t)};window.getResource=function(e,t){let i=getFromLocalStorage(e),a=getLastUrlSegmentCurrent();localStorage.removeItem(e);let c=i??a;if(i&&t){let h=window.location.href+t+c;window.history.pushState(window.history.state,document.title,h)}return c};
