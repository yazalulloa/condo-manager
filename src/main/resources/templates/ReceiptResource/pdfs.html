{@com.yaz.api.domain.response.ReceiptPdfResponse res}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recibo de Pago PDF - {res.building} {res.month} {res.date}</title>
</head>
<body>

<div id="receipt-pdf-viewer-header" hx-swap-oob="true" class="flex flex-row gap-4 text-center items-center">
    <button class="btn btn-square btn-outline"
            hx-get="/stc/receipts/"
            hx-swap="none"
            hx-trigger="click"
            hx-on:htmx:before-request="modifyUrl(this)">
        <div class="h-4 w-4"
             hx-get="/assets/left-arrow.svg"
             hx-trigger="load"
             hx-swap="innerHTML">
        </div>
    </button>
    <h1 class="font-bold">Recibo de Pago PDF &ndash; {res.building} {res.month} {res.date}</h1>
    <button class="btn btn-primary"
            hx-get="/api/receipts/zip_download/{res.zipPath}"
            hx-disabled-elt="this"
            hx-indicator=".htmx-indicator"
            hx-swap="none">
        Descargar zip
    </button>
</div>


<div id="receipt-pdfs" class="overflow-hidden"
        {#if res.outOfBounds}
            hx-swap-oob="true"
        {/if}
>
    <script>

    </script>
    <div class="rounded-box join max-w-full h-14 max-h-14 items-center" x-init="disableScrollWhenHover($el)">
        <button class="join-item btn btn-outline"
                @click="slideTo('left')">
            «
        </button>

        <div id="pdf_carousel" class="join-item carousel rounded-box"
             x-init="scrollDiv($el)"
        >
            {#for tab in res.tabs}
                <button class="carousel-item btn btn-outline join-item tablinks"
                        @click="openTab(this,'{tab.name}')"
                        {#if tab.checked}
                            x-init="openTab($el,'{tab.name}')"
                        {/if}
                >{tab.name}</button>
            {/for}
        </div>
        <button class="join-item btn btn-outline"
                @click="slideTo('right')">
            »
        </button>
    </div>

    {#for tab in res.tabs}
        <div id="{tab.name}" class="tab-cm-content pt-2">

            {!<iframe id="pdfviewer" src="http://docs.google.com/gview?embedded=true&url=YOUR_URL_HERE&amp;embedded=true"!}
            {!frameborder="0" width="100%" height="100%"></iframe>!}

            {!<iframe id="pdf-js-viewer" src="/web/viewer.html?file=/api/receipts/pdf/{tab.path}" title="webviewer"!}
            {!!}
            {!style="min-height:100vh;max-height:100vh;width:100%;height:100%"></iframe>!}

            {!<embed!}
            {!src="/api/receipts/pdf/{tab.path}"!}
            {!type="application/pdf"!}
            {!style="min-height:100vh;max-height:100vh;width:100%;height:100%"!}
            {!/>!}

            <object data="/api/receipts/pdf/{tab.path}" type="application/pdf"
                    standby="Loading PDF file..."
                    class="min-h-full-vh max-h-full-vh w-full h-full">
                <p>Unable to display PDF file. <a class="link link-primary"
                                                  href="/api/receipts/pdf/{tab.path}">Download</a> instead.</p>
            </object>
        </div>
    {/for}
</div>


</body>
</html>